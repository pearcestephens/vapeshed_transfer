# Environment Configuration Template
# Transfer Engine - Production Configuration
# Copy to .env and customize for your environment

# Application
APP_ENV=production
APP_DEBUG=false
APP_URL=https://staff.vapeshed.co.nz/transfer-engine

# Database
DB_HOST=localhost
DB_PORT=3306
DB_NAME=vapeshed_unified
DB_USER=vapeshed_user
DB_PASS=your_secure_password_here

# Security - CSRF Protection
CSRF_REQUIRED=false

# Security - Global Rate Limits (requests per minute)
GET_RL_PER_MIN=120
GET_RL_BURST=30
POST_RL_PER_MIN=0
POST_RL_BURST=0

# Security - Per-Endpoint Group Rate Limits
# Pricing API
PRICING_GET_RL_PER_MIN=90
PRICING_GET_RL_BURST=20
PRICING_POST_RL_PER_MIN=30
PRICING_POST_RL_BURST=10

# Transfer API
TRANSFER_GET_RL_PER_MIN=120
TRANSFER_GET_RL_BURST=40
TRANSFER_POST_RL_PER_MIN=40
TRANSFER_POST_RL_BURST=15

# History API (read-only)
HISTORY_GET_RL_PER_MIN=80
HISTORY_GET_RL_BURST=20

# Traces API (read-only)
TRACES_GET_RL_PER_MIN=60
TRACES_GET_RL_BURST=15

# Dashboard Stats
STATS_GET_RL_PER_MIN=45
STATS_GET_RL_BURST=15

# Module Status
MODULES_GET_RL_PER_MIN=45
MODULES_GET_RL_BURST=15

# Activity Feed
ACTIVITY_GET_RL_PER_MIN=60
ACTIVITY_GET_RL_BURST=20

# Smoke Summary
SMOKE_GET_RL_PER_MIN=15
SMOKE_GET_RL_BURST=5

# Unified Status
UNIFIED_GET_RL_PER_MIN=30
UNIFIED_GET_RL_BURST=10

# Session API
SESSION_GET_RL_PER_MIN=150
SESSION_GET_RL_BURST=30

# Diagnostics API
DIAGNOSTICS_GET_RL_PER_MIN=20
DIAGNOSTICS_GET_RL_BURST=5

# CORS Configuration
# Comma-separated list of allowed origins
CORS_ALLOWLIST=https://staff.vapeshed.co.nz,https://www.staff.vapeshed.co.nz

# API Token (optional - for automated clients)
# Leave empty to disable token enforcement
API_TOKEN=

# Feature Flags
DIAGNOSTICS_ENABLED=false
SMOKE_SUMMARY_ENABLED=false
HISTORY_API_ENABLED=true
TRACES_API_ENABLED=true
UNIFIED_STATUS_ENABLED=true

# SSE Configuration
SSE_MAX_LIFETIME_SEC=60
SSE_STATUS_PERIOD_SEC=5
SSE_HEARTBEAT_PERIOD_SEC=15
SSE_RETRY_MS=3000
SSE_MAX_GLOBAL=200
SSE_MAX_PER_IP=3

# Logging
LOG_LEVEL=info
LOG_PATH=storage/logs

# Timezone
TZ=Pacific/Auckland
