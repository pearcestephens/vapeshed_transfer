{"I":{"DB":"db name","T":"tables (object keyed by table name)","C":"columns: [n,ty,N,Df,Ex,K]","P":"primary key columns (ordered)","K":"indexes: [n,u,c[]]","F":"foreign keys: [n,c[],rt,rc[],u,d]","D":"sample row values aligned to C (rows=1, maxlen=96)","Ct":"SHOW CREATE TABLE when requested"},"DB":"jcepnzzkmj","T":{"achievements":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["user_id","int(11)",1,"NULL","","MUL"],["store_id","varchar(100)",1,"NULL","",""],["achievement_type","varchar(50)",1,"NULL","",""],["achievement_data","longtext",1,"NULL","",""],["unlocked_at","timestamp",0,"current_timestamp()","",""],["week_key","varchar(20)",1,"NULL","",""]],"P":["id"],"K":[["idx_user_week",0,["user_id","week_key"]],["PRIMARY",1,["id"]]]},"ai_assistant_logs":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["session_id","varchar(64)",1,"NULL","",""],["user_id","int(11)",1,"NULL","",""],["user_name","varchar(100)",1,"NULL","",""],["frontend_path","varchar(255)",1,"NULL","",""],["message_type","enum('user','assistant','function_call','error')",1,"NULL","",""],["message_content","mediumtext",1,"NULL","",""],["tool_called","varchar(100)",1,"NULL","",""],["api_response","longtext",1,"NULL","",""],["created_at","datetime",1,"current_timestamp()","",""],["ip_address","varchar(45)",1,"NULL","",""],["user_agent","varchar(255)",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"ai_notifications":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["notification_type","varchar(50)",0,null,"","MUL"],["title","varchar(200)",0,null,"",""],["message","text",0,null,"",""],["urgency_level","enum('low','medium','high','critical')",1,"'medium'","","MUL"],["action_buttons","longtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"],["sent_at","timestamp",1,"NULL","",""],["acknowledged_at","timestamp",1,"NULL","",""],["dismissed_at","timestamp",1,"NULL","",""],["status","enum('pending','sent','acknowledged','dismissed','expired')",1,"'pending'","","MUL"]],"P":["id"],"K":[["idx_created",0,["created_at"]],["idx_status",0,["status"]],["idx_type",0,["notification_type"]],["idx_urgency",0,["urgency_level"]],["PRIMARY",1,["id"]]]},"ai_predictions":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["type","varchar(50)",0,null,"","MUL"],["message","text",0,null,"",""],["urgency_score","int(11)",0,"0","","MUL"],["context_data","longtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["status","enum('active','dismissed','completed','critical','immediate')",1,"'active'","","MUL"],["user_action","varchar(100)",1,"NULL","",""],["action_taken_at","timestamp",1,"NULL","",""]],"P":["id"],"K":[["idx_created",0,["created_at"]],["idx_status",0,["status"]],["idx_type",0,["type"]],["idx_urgency",0,["urgency_score"]],["PRIMARY",1,["id"]]]},"ai_training_feedback":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["detection_id","varchar(100)",0,null,"","UNI"],["camera_id","varchar(50)",0,null,"","MUL"],["outlet_id","varchar(45)",0,null,"","MUL"],["original_detection","longtext",0,null,"",""],["gpt_analysis","longtext",1,"NULL","",""],["human_feedback","enum('approve','reject','modify')",0,null,"","MUL"],["human_notes","text",1,"NULL","",""],["corrected_classification","varchar(100)",1,"NULL","",""],["confidence_before","decimal(5,4)",1,"NULL","",""],["confidence_after","decimal(5,4)",1,"NULL","",""],["image_path","varchar(500)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["feedback_at","timestamp",0,"'0000-00-00 00:00:00'","",""],["training_used","tinyint(1)",1,"0","",""]],"P":["id"],"K":[["detection_id",1,["detection_id"]],["idx_camera_feedback",0,["camera_id","created_at"]],["idx_feedback_type",0,["human_feedback","training_used"]],["idx_outlet_feedback",0,["outlet_id","created_at"]],["PRIMARY",1,["id"]]]},"alert_history":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["rule_id","int(11)",0,null,"","MUL"],["alert_title","varchar(500)",0,null,"",""],["alert_message","text",1,"NULL","",""],["alert_data","longtext",1,"NULL","",""],["severity","enum('info','warning','critical','emergency')",0,null,"","MUL"],["status","enum('new','acknowledged','resolved','ignored')",1,"'new'","","MUL"],["affected_competitor","varchar(200)",1,"NULL","",""],["affected_products","longtext",1,"NULL","",""],["notification_sent","tinyint(1)",1,"0","",""],["acknowledged_by","varchar(200)",1,"NULL","",""],["acknowledged_at","timestamp",1,"NULL","",""],["resolved_at","timestamp",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["created_at",0,["created_at"]],["PRIMARY",1,["id"]],["rule_id",0,["rule_id"]],["severity",0,["severity"]],["status",0,["status"]]]},"alert_rules":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["rule_name","varchar(200)",0,null,"",""],["alert_type","enum('price_change','stock_change','content_change','new_product','competitor_move','performance_issue','system_error')",0,null,"","MUL"],["conditions","longtext",0,null,"",""],["thresholds","longtext",1,"NULL","",""],["competitors","longtext",1,"NULL","",""],["notification_channels","longtext",0,null,"",""],["severity","enum('info','warning','critical','emergency')",1,"'warning'","","MUL"],["is_active","tinyint(1)",1,"1","","MUL"],["trigger_count","int(11)",1,"0","",""],["last_triggered","timestamp",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["alert_type",0,["alert_type"]],["is_active",0,["is_active"]],["PRIMARY",1,["id"]],["severity",0,["severity"]]]},"api_audit":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["ts","datetime",0,"current_timestamp()","","MUL"],["request_id","varchar(64)",1,"NULL","",""],["route","varchar(255)",0,null,"","MUL"],["method","varchar(16)",0,null,"",""],["status","smallint(6)",0,null,"","MUL"],["actor","varchar(128)",1,"NULL","",""],["ip","varchar(64)",1,"NULL","",""],["user_agent","text",1,"NULL","",""],["payload_hash","char(64)",1,"NULL","",""],["latency_ms","int(11)",1,"NULL","",""],["meta","longtext",1,"NULL","",""]],"P":["id"],"K":[["idx_route",0,["route","ts"]],["idx_status",0,["status","ts"]],["idx_ts",0,["ts"]],["PRIMARY",1,["id"]]]},"automated_supplier_orders":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["supplier_id","varchar(36)",0,null,"",""],["created_at","timestamp",0,"current_timestamp()","",""],["weeks_forecasted","int(11)",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"automated_supplier_orders_products":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["supplier_order_id","int(11)",0,null,"","MUL"],["product_id","varchar(36)",0,null,"",""],["total_items_sold","int(11)",1,"0","",""],["current_inventory","int(11)",1,"0","",""],["monthly_average_sales","int(11)",1,"0","",""],["last_30_days","int(11)",1,"NULL","",""],["ai_forecasted_order_amount","int(11)",1,"0","",""],["average_order_qty","int(11)",1,"NULL","",""],["qty_to_order","int(11)",1,"0","",""],["user_qty_input","int(11)",1,"NULL","",""],["plot_binary","longblob",1,"NULL","",""],["prophet_json_data","mediumtext",1,"NULL","",""],["advanced_qty_to_order","varchar(45)",1,"NULL","",""]],"P":["id"],"K":[["automatedSupplierID_idx",0,["supplier_order_id"]],["PRIMARY",1,["id"]]],"F":[["automatedSupplierID",["supplier_order_id"],"automated_supplier_orders",["id"],"NO ACTION","CASCADE"]]},"auto_approval_candidates":{"C":[["id","int(11)",0,"0","",""],["StatementLineID","varchar(100)",1,"NULL","",""],["InvoiceDate","date",1,"NULL","",""],["ContactName","varchar(255)",1,"NULL","",""],["Reference","varchar(255)",1,"NULL","",""],["Description","varchar(255)",1,"NULL","",""],["bankAccountID","varchar(100)",1,"NULL","",""],["ledgerAccountID","varchar(100)",1,"NULL","",""],["GSTCode","varchar(50)",1,"NULL","",""],["Spent","decimal(10,2)",1,"NULL","",""],["Received","decimal(10,2)",1,"NULL","",""],["confidence_score","float",1,"NULL","",""],["categorized_by","varchar(50)",1,"'ai'","",""],["reviewed","tinyint(1)",1,"0","",""],["approved","tinyint(1)",1,"0","",""],["review_date","timestamp",1,"NULL","",""],["xero_submitted","tinyint(1)",1,"0","",""],["submission_date","timestamp",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["comment","varchar(255)",1,"NULL","",""]]},"award_types":{"C":[["type_id","int(11)",0,null,"auto_increment","PRI"],["type_title","mediumtext",0,null,"",""],["type_desc","mediumtext",1,"NULL","",""],["type_points","varchar(45)",0,null,"",""],["sort_order","int(1)",0,null,"",""],["active","int(1)",0,"1","",""]],"P":["type_id"],"K":[["PRIMARY",1,["type_id"]]]},"batching_bottle":{"C":[["bottle_id","int(11)",0,null,"auto_increment","PRI"],["bottle_name","varchar(100)",0,null,"",""],["bottle_supplier_sku","varchar(100)",1,"NULL","",""],["bottle_supplier_id","int(11)",0,null,"",""],["bottle_notes","varchar(45)",1,"NULL","",""],["bottle_created_at","timestamp",0,"current_timestamp()","",""],["bottle_deleted_at","timestamp",1,"NULL","",""],["bottle_created_by_staff","int(11)",0,null,"",""],["bottle_deleted_by_staff","int(11)",1,"NULL","",""],["bottle_size","int(11)",0,null,"",""],["bottle_colour","int(11)",0,null,"",""],["bottle_lidcap_colour","int(11)",0,null,"",""],["bottle_label_width","double",0,null,"",""],["bottle_label_height","double",0,null,"",""]],"P":["bottle_id"],"K":[["PRIMARY",1,["bottle_id"]]]},"batching_bottle_run":{"C":[["batching_bottle_run_id","int(11)",0,null,"auto_increment","PRI"],["batching_bottle_run_batch_id","int(11)",0,null,"",""],["batching_bottle_run_label_id","int(11)",0,null,"",""],["batching_bottle_run_bottle_amount","int(11)",0,null,"",""],["battching_bottle_run_notes","mediumtext",1,"NULL","",""],["batching_bottle_run_batch_object","mediumtext",0,null,"",""],["batching_bottle_run_label_object","mediumtext",0,null,"",""],["batching_bottle_run_label_created_at","timestamp",0,"current_timestamp()","",""],["batching_bottle_run_label_deleted_at","timestamp",1,"NULL","",""],["batching_bottle_run_label_created_by","int(11)",0,null,"",""],["batching_bottle_run_label_deleted_by","int(11)",1,"NULL","",""],["batching_bottle_run_status","int(11)",0,"0","",""],["batching_bottle_create_mode","int(11)",0,"0","",""],["batching_bottle_run_bottle_id","int(11)",1,"NULL","",""],["batching_bottle_run_bottle_object","mediumtext",1,"NULL","",""],["batching_bottle_run_labels_printed","int(11)",0,"0","",""]],"P":["batching_bottle_run_id"],"K":[["PRIMARY",1,["batching_bottle_run_id"]]]},"batching_bottle_suppliers":{"C":[["bottle_supplier_id","int(11)",0,null,"auto_increment","PRI"],["bottle_supplier_name","varchar(45)",0,null,"",""],["bottle_supplier_created_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["bottle_supplier_deleted_at","timestamp",1,"NULL","",""],["bottle_supplier_created_by_staff","int(11)",0,null,"",""],["bottle_supplier_deleted_by_staff","int(11)",1,"NULL","",""],["bottle_supplier_notes","mediumtext",1,"NULL","",""]],"P":["bottle_supplier_id"],"K":[["PRIMARY",1,["bottle_supplier_id"]]]},"batching_brands":{"C":[["brand_id","int(11)",0,null,"auto_increment","PRI"],["brand_name","varchar(45)",0,null,"",""],["brand_created_at","timestamp",0,"current_timestamp()","",""],["brand_deleted_at","timestamp",1,"NULL","",""],["brand_created_by_staff","int(11)",0,null,"",""],["brand_deleted_by_staff","int(11)",1,"NULL","",""],["brand_notes","mediumtext",1,"NULL","",""]],"P":["brand_id"],"K":[["PRIMARY",1,["brand_id"]]]},"batching_concentrate":{"C":[["concentrate_id","int(11)",0,null,"auto_increment","PRI"],["concentrate_name","varchar(100)",0,null,"",""],["concentrate_supplier_sku","varchar(100)",1,"NULL","",""],["concentrate_supplier_id","int(11)",0,null,"",""],["concentrate_notes","varchar(45)",1,"NULL","",""],["concentrate_created_at","timestamp",0,"current_timestamp()","",""],["concentrate_deleted_at","timestamp",1,"NULL","",""],["concentrate_created_by_staff","int(11)",0,null,"",""],["concentrate_deleted_by_staff","int(11)",1,"NULL","",""],["concentrate_liquid_base","int(11)",0,"0","",""]],"P":["concentrate_id"],"K":[["PRIMARY",1,["concentrate_id"]]]},"batching_concentrate_batch":{"C":[["batching_concentrate_batch_id","int(11)",0,null,"auto_increment","PRI"],["batching_concentrate_batch_size","int(11)",0,null,"",""],["batching_concentrate_batch_recipe_id","int(11)",0,null,"",""],["batching_concentrate_batch_batch_notes","mediumtext",1,"NULL","",""],["batching_concentrate_batch_batch_created_at","timestamp",0,"current_timestamp()","",""],["batching_concentrate_batch_batch_deleted_at","timestamp",1,"NULL","",""],["batching_concentrate_batch_batch_created_by","int(11)",0,null,"",""],["batching_concentrate_batch_batch_deleted_by","int(11)",1,"NULL","",""],["batching_concentrate_batch_batch_saved_template","int(11)",0,"0","",""],["batching_concentrate_batch_saved_template_filename","varchar(100)",1,"NULL","",""],["batching_concentrate_batch_recipe_object","mediumtext",0,null,"",""],["batching_concentrate_batch_active","int(11)",0,"1","",""],["batching_concentrate_batch_pg_batch_number","varchar(100)",1,"NULL","",""],["batching_concentrate_batch_vg_batch_number","varchar(100)",1,"NULL","",""],["batching_concentrate_batch_flavours_batch_numbers","mediumtext",1,"NULL","",""],["batching_concentrate_batch_pg_id","int(11)",1,"NULL","",""],["batching_concentrate_batch_pg_object","mediumtext",1,"NULL","",""],["batching_concentrate_batch_pg_ml","int(11)",1,"NULL","",""],["batching_concentrate_batch_vg_ml","int(11)",1,"NULL","",""],["batching_concentrate_batch_concentrate_ml","int(11)",1,"NULL","",""],["batching_concentrate_batch_total_ml","int(11)",1,"NULL","",""]],"P":["batching_concentrate_batch_id"],"K":[["PRIMARY",1,["batching_concentrate_batch_id"]]]},"batching_concentrate_suppliers":{"C":[["concentrate_supplier_id","int(11)",0,null,"auto_increment","PRI"],["concentrate_supplier_name","varchar(45)",0,null,"",""],["concentrate_supplier_created_at","timestamp",0,"current_timestamp()","",""],["concentrate_supplier_deleted_at","timestamp",1,"NULL","",""],["concentrate_supplier_created_by_staff","int(11)",0,null,"",""],["concentrate_supplier_deleted_by_staff","int(11)",1,"NULL","",""],["concentrate_supplier_notes","mediumtext",1,"NULL","",""]],"P":["concentrate_supplier_id"],"K":[["PRIMARY",1,["concentrate_supplier_id"]]]},"batching_full_batch":{"C":[["full_batch_id","int(11)",0,null,"auto_increment","PRI"],["full_batch_size","int(11)",0,null,"",""],["full_batch_creation_mode","int(11)",0,null,"",""],["full_batch_desired_nic_strength","decimal(5,2)",0,null,"",""],["full_batch_recipe_id","int(11)",1,"NULL","",""],["full_batch_concentrate_id","int(11)",1,"NULL","",""],["full_batch_nicotine_selction_mode","int(11)",1,"NULL","",""],["full_batch_nicotine_product_id","int(11)",1,"NULL","",""],["full_batch_batched_nicotine_id","int(11)",1,"NULL","",""],["full_batch_pg_product_id","int(11)",1,"NULL","",""],["full_batch_pg_percentage","decimal(5,2)",1,"NULL","",""],["full_batch_vg_product_id","int(11)",1,"NULL","",""],["full_batch_vg_percentage","decimal(5,2)",1,"NULL","",""],["full_batch_notes","mediumtext",1,"NULL","",""],["full_batch_template_name","varchar(100)",1,"NULL","",""],["full_batch_saved_template","int(11)",1,"NULL","",""],["full_batch_recipe_object","mediumtext",1,"NULL","",""],["full_batch_nicotine_object","mediumtext",1,"NULL","",""],["full_batch_nicotine_batch_object","mediumtext",1,"NULL","",""],["full_batch_vg_object","mediumtext",1,"NULL","",""],["full_batch_pg_object","mediumtext",1,"NULL","",""],["full_batch_concentrate_object","mediumtext",1,"NULL","",""],["full_batch_created_at","timestamp",0,"current_timestamp()","",""],["full_batch_deleted_at","timestamp",1,"NULL","",""],["full_batch_created_by","int(11)",0,null,"",""],["full_batch_deleted_by","int(11)",1,"NULL","",""],["full_batch_active","int(11)",0,"1","",""],["full_batch_batch_numbers_object","mediumtext",0,null,"",""],["full_batch_vg_ml","int(11)",1,"NULL","",""],["full_batch_pg_ml","int(11)",1,"NULL","",""],["full_batch_nicotine_ml","int(11)",1,"NULL","",""],["full_batch_concentrate_ml","int(11)",1,"NULL","",""]],"P":["full_batch_id"],"K":[["PRIMARY",1,["full_batch_id"]]]},"batching_labels":{"C":[["batching_label_id","int(11)",0,null,"auto_increment","PRI"],["batching_label_recipe_id","int(11)",0,null,"",""],["batching_label_bottle_nicotine_strength","decimal(5,2)",0,null,"",""],["batching_label_template_filename","varchar(100)",0,null,"",""],["batching_label_has_batch_no","int(11)",0,"1","",""],["batching_label_has_expire_no","int(11)",0,"1","",""],["batching_label_batch_no_x","int(11)",1,"NULL","",""],["batching_label_batch_no_y","int(11)",1,"NULL","",""],["batching_label_batch_expire_x","int(11)",1,"NULL","",""],["batching_label_batch_expire_y","int(11)",1,"NULL","",""],["batching_label_batch_no_font_size","int(11)",1,"NULL","",""],["batching_label_batch_expire_font_size","int(11)",1,"NULL","",""],["batching_label_batch_expire_rotate","int(11)",0,"0","",""],["batching_label_batch_rotate","int(11)",0,"0","",""],["batching_label_bottle_id","int(11)",1,"NULL","",""],["batching_label_created","timestamp",0,"current_timestamp()","",""],["batching_label_deleted","varchar(45)",1,"NULL","",""],["batching_label_created_by","int(11)",1,"NULL","",""],["batching_label_deleted_by","int(11)",1,"NULL","",""]],"P":["batching_label_id"],"K":[["PRIMARY",1,["batching_label_id"]]]},"batching_nicotine":{"C":[["nicotine_id","int(11)",0,null,"auto_increment","PRI"],["nicotine_supplier_sku","varchar(100)",1,"NULL","",""],["nicotine_supplier_id","int(11)",0,null,"",""],["nicotine_notes","varchar(45)",1,"NULL","",""],["nicotine_created_at","timestamp",0,"current_timestamp()","",""],["nicotine_deleted_at","timestamp",1,"NULL","",""],["nicotine_created_by_staff","int(11)",0,null,"",""],["nicotine_deleted_by_staff","int(11)",1,"NULL","",""],["nicotine_type","int(11)",0,null,"",""],["nicotine_pg_percent","int(11)",0,null,"",""],["nicotine_vg_percent","int(11)",0,null,"",""],["nicotine_level","int(11)",0,null,"",""],["nicotine_ntn","int(11)",0,null,"",""]],"P":["nicotine_id"],"K":[["PRIMARY",1,["nicotine_id"]]]},"batching_nicotine_batch":{"C":[["batching_nicotine_mix_id","int(11)",0,null,"auto_increment","PRI"],["batching_nicotine_mix_batch_size","int(11)",0,null,"",""],["batching_nicotine_mix_nicotine_id","int(11)",0,null,"",""],["batching_nicotine_mix_pg_id","int(11)",1,"NULL","",""],["batching_nicotine_mix_vg_id","int(11)",1,"NULL","",""],["batching_nicotine_mix_nicotine_percentage","decimal(5,2)",0,null,"",""],["batching_nicotine_mix_pg_percentage","decimal(5,2)",1,"NULL","",""],["batching_nicotine_mix_vg_percentage","decimal(5,2)",1,"0.00","",""],["batching_nicotine_mix_time_created_at","timestamp",0,"current_timestamp()","",""],["batching_nicotine_mix_time_deleted_at","timestamp",1,"NULL","",""],["batching_nicotine_mix_added_by_staff","int(11)",0,null,"",""],["batching_nicotine_mix_deleted_by_staff","int(11)",1,"NULL","",""],["batching_nicotine_mix_notes","mediumtext",1,"NULL","",""],["batching_nicotine_mix_saved_template","int(11)",0,"0","",""],["batching_nicotine_mix_saved_template_saved_name","varchar(100)",1,"NULL","",""],["batching_nicotine_batch_nicotine_object","mediumtext",0,null,"",""],["batching_nicotine_batch_pg_object","mediumtext",1,"NULL","",""],["batching_nicotine_batch_vg_object","mediumtext",1,"NULL","",""],["batching_nicotine_batch_nic_strength","decimal(5,2)",0,null,"",""],["batching_nicotine_batch_active","int(11)",0,"1","",""],["batching_nicotine_batch_pg_batch_no","varchar(100)",1,"NULL","",""],["batching_nicotine_batch_vg_batch_no","varchar(100)",1,"NULL","",""],["batching_nicotine_batch_nic_batch_no","varchar(100)",1,"NULL","",""]],"P":["batching_nicotine_mix_id"],"K":[["PRIMARY",1,["batching_nicotine_mix_id"]]]},"batching_nicotine_suppliers":{"C":[["nicotine_supplier_id","int(11)",0,null,"auto_increment","PRI"],["nicotine_supplier_name","varchar(45)",0,null,"",""],["nicotine_supplier_created_at","timestamp",0,"current_timestamp()","",""],["nicotine_supplier_deleted_at","timestamp",1,"NULL","",""],["nicotine_supplier_created_by_staff","int(11)",0,null,"",""],["nicotine_supplier_deleted_by_staff","int(11)",1,"NULL","",""],["nicotine_supplier_notes","mediumtext",1,"NULL","",""]],"P":["nicotine_supplier_id"],"K":[["PRIMARY",1,["nicotine_supplier_id"]]]},"batching_pg":{"C":[["pg_id","int(11)",0,null,"auto_increment","PRI"],["pg_name","varchar(100)",0,null,"",""],["pg_supplier_sku","varchar(100)",1,"NULL","",""],["pg_supplier_id","int(11)",0,null,"",""],["pg_notes","varchar(45)",1,"NULL","",""],["pg_created_at","timestamp",0,"current_timestamp()","",""],["pg_deleted_at","timestamp",1,"NULL","",""],["pg_created_by_staff","int(11)",0,null,"",""],["pg_deleted_by_staff","int(11)",1,"NULL","",""],["pg_type","int(11)",0,null,"",""]],"P":["pg_id"],"K":[["PRIMARY",1,["pg_id"]]]},"batching_pg_suppliers":{"C":[["pg_supplier_id","int(11)",0,null,"auto_increment","PRI"],["pg_supplier_name","varchar(45)",0,null,"",""],["pg_supplier_created_at","timestamp",0,"current_timestamp()","",""],["pg_supplier_deleted_at","timestamp",1,"NULL","",""],["pg_supplier_created_by_staff","int(11)",0,null,"",""],["pg_supplier_deleted_by_staff","int(11)",1,"NULL","",""],["pg_supplier_notes","mediumtext",1,"NULL","",""]],"P":["pg_supplier_id"],"K":[["PRIMARY",1,["pg_supplier_id"]]]},"batching_recipe":{"C":[["recipe_id","int(11)",0,null,"auto_increment","PRI"],["recipe_name","varchar(100)",0,null,"",""],["recipe_desired_vg","decimal(5,2)",0,null,"",""],["recipe_desired_pg","decimal(5,2)",0,null,"",""],["recipe_notes","mediumtext",1,"NULL","",""],["recipe_created_at","timestamp",0,"current_timestamp()","",""],["recipe_deleted_at","timestamp",1,"NULL","",""],["recipe_created_by_staff","int(11)",0,null,"",""],["recipe_deleted_by_staff","int(11)",1,"NULL","",""],["recipe_version","decimal(5,1)",0,"1.0","",""],["recipe_brand_id","int(11)",0,null,"",""]],"P":["recipe_id"],"K":[["PRIMARY",1,["recipe_id"]]]},"batching_recipe_changes":{"C":[["batching_recipe_changes_id","int(11)",0,null,"auto_increment","PRI"],["batching_recipe_changes_recipe_id","int(11)",0,null,"",""],["batching_recipe_changes_field_changed","varchar(100)",0,null,"",""],["batching_recipe_changes_old_value","varchar(100)",0,null,"",""],["batching_recipe_changes_new_value","varchar(100)",0,null,"",""],["batching_recipe_changes_date_changed","timestamp",0,"current_timestamp()","",""],["batching_recipe_changes_version","decimal(5,1)",0,null,"",""],["batching_recipe_changed_by_staff","int(11)",0,null,"",""],["batching_recipe_changed_original_json","mediumtext",0,null,"",""]],"P":["batching_recipe_changes_id"],"K":[["PRIMARY",1,["batching_recipe_changes_id"]]]},"batching_recipe_flavours":{"C":[["batching_recipe_flavours_id","int(11)",0,null,"auto_increment","PRI"],["batching_recipe_flavours_concentrate_id","int(11)",0,null,"",""],["batching_recipe_id","int(11)",1,"NULL","",""],["batching_recipe_flavours_created_at","timestamp",0,"current_timestamp()","",""],["batching_recipe_flavours_deleted_at","timestamp",1,"NULL","",""],["batching_recipe_flavours_created_by_staff","int(11)",0,null,"",""],["batching_recipe_flavours_deleted_by_staff","int(11)",1,"NULL","",""],["batching_recipe_flavours_concentrate_percentage","decimal(5,2)",0,null,"",""]],"P":["batching_recipe_flavours_id"],"K":[["PRIMARY",1,["batching_recipe_flavours_id"]]]},"batching_vend_products":{"C":[["batching_vend_products_id","int(11)",0,null,"auto_increment","PRI"],["batching_vend_products_product_id","varchar(45)",0,null,"",""],["batching_vend_products_label_id","int(11)",1,"NULL","",""],["batching_vend_products_active","int(11)",0,"1","",""]],"P":["batching_vend_products_id"],"K":[["PRIMARY",1,["batching_vend_products_id"]]]},"batching_vg":{"C":[["vg_id","int(11)",0,null,"auto_increment","PRI"],["vg_supplier_sku","varchar(100)",1,"NULL","",""],["vg_supplier_id","int(11)",0,null,"",""],["vg_notes","varchar(45)",1,"NULL","",""],["vg_created_at","timestamp",0,"current_timestamp()","",""],["vg_deleted_at","timestamp",1,"NULL","",""],["vg_created_by_staff","int(11)",0,null,"",""],["vg_deleted_by_staff","int(11)",1,"NULL","",""],["vg_type","int(11)",1,"NULL","",""]],"P":["vg_id"],"K":[["PRIMARY",1,["vg_id"]]]},"batching_vg_suppliers":{"C":[["vg_supplier_id","int(11)",0,null,"auto_increment","PRI"],["vg_supplier_name","varchar(45)",0,null,"",""],["vg_supplier_created_at","timestamp",0,"current_timestamp()","",""],["vg_supplier_deleted_at","timestamp",1,"NULL","",""],["vg_supplier_created_by_staff","int(11)",0,null,"",""],["vg_supplier_deleted_by_staff","int(11)",1,"NULL","",""],["vg_supplier_notes","mediumtext",1,"NULL","",""]],"P":["vg_supplier_id"],"K":[["PRIMARY",1,["vg_supplier_id"]]]},"bot_audit":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["event_type","varchar(100)",1,"NULL","",""],["actor_user_id","int(11)",1,"NULL","",""],["payload_json","longtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"bot_compliance_audit":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["actor_user_id","int(11)",1,"NULL","",""],["event","varchar(100)",1,"NULL","",""],["order_id","int(11)",1,"NULL","",""],["entity","varchar(100)",1,"NULL","",""],["details_json","longtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"carriers":{"C":[["carrier_id","int(11)",0,null,"auto_increment","PRI"],["code","varchar(32)",0,null,"","UNI"],["name","varchar(100)",0,null,"",""],["active","tinyint(1)",0,"1","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["volumetric_factor","int(11)",0,"200","",""]],"P":["carrier_id"],"K":[["code",1,["code"]],["PRIMARY",1,["carrier_id"]]]},"carrier_services":{"C":[["service_id","int(11)",0,null,"auto_increment","PRI"],["carrier_id","int(11)",0,null,"","MUL"],["code","varchar(64)",0,null,"",""],["name","varchar(150)",0,null,"",""]],"P":["service_id"],"K":[["PRIMARY",1,["service_id"]],["uniq_carrier_service",1,["carrier_id","code"]]],"F":[["fk_cs_carrier",["carrier_id"],"carriers",["carrier_id"],"CASCADE","CASCADE"],["fk_services_carrier",["carrier_id"],"carriers",["carrier_id"],"CASCADE","CASCADE"]]},"carrier_service_options":{"C":[["service_id","int(11)",0,null,"","PRI"],["option_code","varchar(32)",0,null,"","PRI"]],"P":["service_id","option_code"],"K":[["fk_cso_option",0,["option_code"]],["PRIMARY",1,["service_id","option_code"]]],"F":[["fk_cso_option",["option_code"],"delivery_options",["option_code"],"RESTRICT","CASCADE"],["fk_cso_service",["service_id"],"carrier_services",["service_id"],"RESTRICT","CASCADE"]]},"carton_specs":{"C":[["scope","enum('product','category')",0,null,"","PRI"],["scope_id","varchar(50)",0,null,"","PRI"],["units_per_carton","int(11)",0,null,"",""],["carton_length_mm","int(11)",1,"NULL","",""],["carton_width_mm","int(11)",1,"NULL","",""],["carton_height_mm","int(11)",1,"NULL","",""],["carton_weight_g","int(11)",1,"NULL","",""],["is_mandatory","tinyint(1)",0,"0","",""]],"P":["scope","scope_id"],"K":[["PRIMARY",1,["scope","scope_id"]]]},"categories":{"C":[["id","varchar(50)",0,null,"","PRI"],["name","varchar(255)",0,null,"",""],["parent_id","varchar(50)",1,"NULL","","MUL"],["depth","int(11)",0,"0","","MUL"],["lft","int(11)",1,"NULL","","MUL"],["rgt","int(11)",1,"NULL","","MUL"],["slug","varchar(160)",1,"NULL","",""],["is_active","tinyint(1)",0,"1","",""],["path_labels","longtext",1,"NULL","",""],["path_ids","longtext",1,"NULL","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["ix_cat_depth",0,["depth"]],["ix_cat_lft",0,["lft"]],["ix_cat_parent",0,["parent_id"]],["ix_cat_rgt",0,["rgt"]],["PRIMARY",1,["id"]]],"F":[["fk_cat_parent",["parent_id"],"categories",["id"],"RESTRICT","RESTRICT"]]},"category_dimensions":{"C":[["category_id","varchar(50)",0,null,"","PRI"],["category_code","varchar(100)",1,"NULL","","MUL"],["avg_length_mm","int(11)",1,"NULL","",""],["avg_width_mm","int(11)",1,"NULL","",""],["avg_height_mm","int(11)",1,"NULL","",""],["avg_volume_cm3","int(11)",1,"NULL","",""],["product_count","int(11)",1,"0","",""],["confidence_score","decimal(3,2)",1,"0.00","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["category_id"],"K":[["idx_category_code",0,["category_code"]],["idx_confidence",0,["confidence_score"]],["PRIMARY",1,["category_id"]]]},"category_pack_rules":{"C":[["category_code","varchar(100)",0,null,"","PRI"],["category_id","varchar(50)",1,"NULL","",""],["default_pack_size","int(11)",0,"1","",""],["default_outer_multiple","int(11)",0,"1","",""],["enforce_outer","tinyint(1)",0,"1","",""],["rounding_mode","enum('floor','ceil','round')",0,"'floor'","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["ship_pack_min","int(11)",1,"NULL","",""]],"P":["category_code"],"K":[["PRIMARY",1,["category_code"]]]},"category_weights":{"C":[["category_code","varchar(100)",0,null,"","PRI"],["category_id","varchar(50)",1,"NULL","",""],["avg_weight_grams","int(11)",1,"0","",""],["avg_volume_cm3","int(11)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["category_code"],"K":[["PRIMARY",1,["category_code"]]]},"cishub_jobs":{"C":[["job_id","char(36)",0,null,"",""],["type","varchar(64)",0,null,"",""],["payload","longtext",0,null,"",""],["status","enum('pending','running','completed','failed')",0,"'pending'","",""],["priority","int(11)",0,"0","",""],["max_attempts","int(11)",0,"3","",""],["attempts","int(11)",0,"0","",""],["scheduled_at","datetime",0,"current_timestamp()","",""],["started_at","datetime",1,"NULL","",""],["completed_at","datetime",1,"NULL","",""],["created_at","datetime",0,"current_timestamp()","",""],["updated_at","datetime",0,"current_timestamp()","",""],["idempotency_key","varchar(255)",1,"NULL","",""]]},"cishub_jobs_dlq":{"C":[["id","bigint(20) unsigned",0,null,"",""],["created_at","datetime",0,null,"",""],["type","varchar(64)",0,null,"",""],["payload","longtext",1,"NULL","",""],["idempotency_key","varchar(128)",1,"NULL","",""],["fail_code","varchar(64)",1,"NULL","",""],["fail_message","text",1,"NULL","",""],["attempts","int(11)",0,"0","",""]]},"cishub_job_logs":{"C":[["log_id","char(36)",0,null,"",""],["job_id","char(36)",0,null,"",""],["level","enum('debug','info','warning','error')",0,"'info'","",""],["message","text",0,null,"",""],["context","longtext",1,"NULL","",""],["created_at","datetime",0,"current_timestamp()","",""]]},"cishub_purchase_orders":{"C":[["po_id","bigint(20) unsigned",0,"0","",""],["vend_po_id","varchar(64)",1,"NULL","",""],["supplier_id","bigint(20) unsigned",0,null,"",""],["outlet_id","varchar(64)",0,null,"",""],["status","enum('draft','submitted','received','cancelled','partial')",0,"'draft'","",""],["ordered_at","datetime",1,"NULL","",""],["received_at","datetime",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","",""]]},"cishub_purchase_order_lines":{"C":[["line_id","bigint(20) unsigned",0,"0","",""],["po_id","bigint(20) unsigned",0,null,"",""],["product_id","varchar(64)",0,null,"",""],["qty_ordered","int(11)",0,null,"",""],["qty_received","int(11)",0,"0","",""],["cost_price","decimal(12,4)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","",""]]},"cishub_rate_limits":{"C":[["rl_key","varchar(191)",0,null,"",""],["window_start","datetime",0,null,"",""],["counter","int(11)",0,"0","",""],["updated_at","datetime",0,null,"",""]]},"cishub_returns":{"C":[["return_id","bigint(20) unsigned",0,"0","",""],["scope","enum('supplier','outlet')",0,"'outlet'","",""],["supplier_id","bigint(20) unsigned",1,"NULL","",""],["outlet_from","varchar(64)",1,"NULL","",""],["outlet_to","varchar(64)",1,"NULL","",""],["reason","varchar(255)",1,"NULL","",""],["status","enum('draft','submitted','in_transit','received','cancelled')",0,"'draft'","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","",""]]},"cishub_return_lines":{"C":[["line_id","bigint(20) unsigned",0,"0","",""],["return_id","bigint(20) unsigned",0,null,"",""],["product_id","varchar(64)",0,null,"",""],["qty","int(11)",0,null,"",""],["reason","varchar(255)",1,"NULL","",""]]},"cishub_stocktakes":{"C":[["stocktake_id","bigint(20) unsigned",0,"0","",""],["outlet_id","varchar(64)",0,null,"",""],["initiated_by","int(11)",1,"NULL","",""],["status","enum('open','counting','reconciling','applied','cancelled')",0,"'open'","",""],["started_at","datetime",1,"NULL","",""],["completed_at","datetime",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","",""]]},"cishub_stocktake_lines":{"C":[["line_id","bigint(20) unsigned",0,"0","",""],["stocktake_id","bigint(20) unsigned",0,null,"",""],["product_id","varchar(64)",0,null,"",""],["counted_qty","int(11)",0,null,"",""],["system_qty","int(11)",0,null,"",""],["variance","int(11)",0,null,"",""]]},"cishub_suppliers":{"C":[["supplier_id","bigint(20) unsigned",0,"0","",""],["vend_supplier_id","varchar(64)",1,"NULL","",""],["name","varchar(255)",0,null,"",""],["is_active","tinyint(1)",0,"1","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","",""]]},"cishub_sync_cursors":{"C":[["entity","varchar(64)",0,null,"",""],["cursor","varchar(255)",0,null,"",""],["updated_at","datetime",0,null,"",""]]},"cishub_webhook_events":{"C":[["id","bigint(20) unsigned",0,"0","",""],["webhook_id","varchar(128)",0,null,"",""],["webhook_type","varchar(64)",0,null,"",""],["payload","longtext",0,null,"",""],["raw_payload","longtext",0,null,"",""],["source_ip","varchar(45)",1,"NULL","",""],["user_agent","text",1,"NULL","",""],["headers","longtext",1,"NULL","",""],["status","enum('received','processing','completed','failed','replayed')",0,"'received'","",""],["received_at","timestamp",0,"current_timestamp()","",""],["processed_at","timestamp",1,"NULL","",""],["processing_attempts","int(10) unsigned",0,"0","",""],["processing_result","longtext",1,"NULL","",""],["error_message","text",1,"NULL","",""],["queue_job_id","varchar(64)",1,"NULL","",""],["replayed_from","varchar(128)",1,"NULL","",""],["replay_reason","varchar(255)",1,"NULL","",""],["replayed_by_user","int(10) unsigned",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","",""]]},"cishub_webhook_health":{"C":[["id","int(10) unsigned",0,"0","",""],["check_time","timestamp",0,"current_timestamp()","",""],["webhook_type","varchar(64)",0,null,"",""],["health_status","enum('healthy','warning','critical','unknown')",0,"'unknown'","",""],["response_time_ms","int(10) unsigned",1,"NULL","",""],["error_rate_pct","decimal(5,2)",1,"NULL","",""],["throughput_per_hour","int(10) unsigned",1,"NULL","",""],["last_successful_at","timestamp",1,"NULL","",""],["consecutive_failures","int(10) unsigned",0,"0","",""],["health_details","longtext",1,"NULL","",""]]},"cishub_webhook_stats":{"C":[["id","bigint(20) unsigned",0,"0","",""],["recorded_at","timestamp",0,"current_timestamp()","",""],["webhook_type","varchar(64)",0,null,"",""],["metric_name","varchar(64)",0,null,"",""],["metric_value","decimal(10,2)",0,null,"",""],["time_period","enum('1min','5min','15min','1hour','1day')",0,"'1min'","",""]]},"cishub_webhook_subscriptions":{"C":[["id","int(10) unsigned",0,"0","",""],["source_system","varchar(32)",0,"'vend'","",""],["event_type","varchar(64)",0,null,"",""],["endpoint_url","varchar(512)",0,null,"",""],["is_active","tinyint(1)",0,"1","",""],["secret_key","varchar(256)",1,"NULL","",""],["external_subscription_id","varchar(128)",1,"NULL","",""],["created_in_external_system","timestamp",1,"NULL","",""],["last_verified","timestamp",1,"NULL","",""],["events_received_today","int(10) unsigned",0,"0","",""],["events_received_total","bigint(20) unsigned",0,"0","",""],["last_event_received","timestamp",1,"NULL","",""],["health_status","enum('healthy','warning','critical','unknown')",0,"'unknown'","",""],["health_message","text",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","",""]]},"cis_cashups":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["outlet_id","varchar(64)",0,null,"","MUL"],["staff_id","int(11)",0,null,"",""],["date","date",0,null,"",""],["total_cash","decimal(10,2)",0,null,"",""],["total_banking","decimal(10,2)",0,null,"",""],["float_total","decimal(10,2)",0,null,"",""],["denoms_cash","longtext",0,null,"",""],["denoms_banking","longtext",0,null,"",""],["notes","text",1,"NULL","",""],["vend_register_id","varchar(64)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["outlet_id",0,["outlet_id","date"]],["PRIMARY",1,["id"]]]},"cis_cashup_events":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["cashup_id","bigint(20)",0,null,"","MUL"],["event_type","varchar(32)",0,null,"","MUL"],["message","varchar(512)",1,"NULL","",""],["meta","longtext",1,"NULL","",""],["created_by","int(11)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["cashup_id",0,["cashup_id"]],["event_type",0,["event_type"]],["PRIMARY",1,["id"]]],"F":[["fk_cis_cashup_events_id",["cashup_id"],"cis_cashups",["id"],"RESTRICT","CASCADE"]]},"cis_cashup_files":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["cashup_id","bigint(20)",0,null,"","MUL"],["file_name","varchar(255)",0,null,"",""],["file_path","varchar(512)",0,null,"",""],["mime_type","varchar(127)",1,"NULL","",""],["size_bytes","bigint(20)",1,"NULL","",""],["uploaded_by","int(11)",1,"NULL","",""],["uploaded_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["cashup_id",0,["cashup_id"]],["PRIMARY",1,["id"]]],"F":[["fk_cis_cashup_files_id",["cashup_id"],"cis_cashups",["id"],"RESTRICT","CASCADE"]]},"cis_cashup_locks":{"C":[["outlet_id","varchar(64)",0,null,"","PRI"],["date","date",0,null,"","PRI"],["locked_by","int(11)",1,"NULL","",""],["locked_at","timestamp",0,"current_timestamp()","",""]],"P":["outlet_id","date"],"K":[["PRIMARY",1,["outlet_id","date"]]]},"cis_metrics_minutely":{"C":[["ts","datetime",0,null,"","PRI"],["load1","decimal(5,2)",1,"NULL","",""],["load5","decimal(5,2)",1,"NULL","",""],["load15","decimal(5,2)",1,"NULL","",""],["mem_used_pct","decimal(5,2)",1,"NULL","",""],["disk_used_pct","decimal(5,2)",1,"NULL","",""],["http_5xx","int(10) unsigned",0,"0","",""],["php_errors","int(10) unsigned",0,"0","",""],["queue_backlog","int(10) unsigned",0,"0","",""],["req_p95_ms","int(10) unsigned",1,"NULL","",""]],"P":["ts"],"K":[["idx_ts",0,["ts"]],["PRIMARY",1,["ts"]]]},"cis_migrations":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["name","varchar(255)",0,null,"","MUL"],["hash","varchar(64)",0,null,"",""],["applied_at","datetime",0,"current_timestamp()","","MUL"],["applied_by","varchar(128)",1,"NULL","",""],["batch","int(11)",0,"1","",""]],"P":["id"],"K":[["idx_applied_at",0,["applied_at"]],["PRIMARY",1,["id"]],["uq_name_hash",1,["name","hash"]]]},"cis_neural_insights":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["insight_type","enum('anomaly','pattern','recommendation','alert')",0,null,"","MUL"],["severity","enum('info','warning','critical')",0,null,"",""],["title","varchar(255)",0,null,"",""],["description","mediumtext",0,null,"",""],["data_json","longtext",1,"NULL","",""],["confidence","decimal(3,2)",1,"NULL","",""],["outlet_ids","longtext",1,"NULL","",""],["contract_types","longtext",1,"NULL","",""],["action_taken","varchar(255)",1,"NULL","",""],["resolved_at","datetime",1,"NULL","","MUL"],["created_at","datetime",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["ix_created",0,["created_at"]],["ix_type_severity",0,["insight_type","severity"]],["ix_unresolved",0,["resolved_at","severity"]],["PRIMARY",1,["id"]]]},"cis_queue_jobs":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["lane","enum('critical','default')",0,"'default'","","MUL"],["priority","tinyint(4)",0,"5","",""],["status","enum('READY','CLAIMED','RUNNING','DONE','FAILED','DLQ','CANCELLED')",0,"'READY'","","MUL"],["not_before","datetime",1,"NULL","","MUL"],["contract_type","varchar(64)",0,null,"","MUL"],["contract_version","smallint(5) unsigned",0,"1","",""],["idempotency_key","varchar(96)",0,null,"","UNI"],["payload_json","longtext",0,null,"",""],["attempts","smallint(5) unsigned",0,"0","",""],["max_attempts","smallint(5) unsigned",0,"10","",""],["claimed_by","varchar(64)",1,"NULL","","MUL"],["claimed_at","datetime",1,"NULL","",""],["last_attempt_at","datetime",1,"NULL","",""],["completed_at","datetime",1,"NULL","",""],["error_code","varchar(64)",1,"NULL","",""],["error_message","varchar(512)",1,"NULL","",""],["external_ref","varchar(96)",1,"NULL","",""],["created_at","datetime",0,"current_timestamp()","","MUL"],["updated_at","datetime",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["ix_cis_queue_worker_performance",0,["lane","status","not_before","priority","id"]],["ix_claimed",0,["claimed_by","claimed_at"]],["ix_contract",0,["contract_type","contract_version"]],["ix_lane_status",0,["lane","status","not_before","id"]],["ix_not_before",0,["not_before"]],["ix_performance",0,["created_at","completed_at","attempts"]],["ix_status_priority",0,["status","priority","id"]],["PRIMARY",1,["id"]],["uq_idem",1,["idempotency_key"]]]},"cis_system_flags":{"C":[["flag_name","varchar(64)",0,null,"","PRI"],["flag_value","varchar(32)",0,null,"",""],["updated_at","datetime",0,"current_timestamp()","on update current_timestamp()","MUL"],["updated_by","varchar(64)",1,"NULL","",""],["meta_json","longtext",1,"NULL","",""]],"P":["flag_name"],"K":[["ix_updated",0,["updated_at"]],["PRIMARY",1,["flag_name"]]]},"cis_system_switches":{"C":[["k","varchar(64)",0,null,"","PRI"],["v","varchar(255)",0,null,"",""],["note","varchar(255)",1,"NULL","",""],["updated_at","datetime",0,"current_timestamp()","on update current_timestamp()",""]],"P":["k"],"K":[["PRIMARY",1,["k"]]]},"cis_updates_commits":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["release_key","varchar(64)",0,null,"","MUL"],["repo","varchar(128)",1,"NULL","",""],["branch","varchar(64)",1,"NULL","","MUL"],["commit_hash","char(40)",0,null,"","UNI"],["author_name","varchar(128)",1,"NULL","",""],["author_email","varchar(160)",1,"NULL","",""],["committed_at","datetime",1,"NULL","","MUL"],["subject","varchar(500)",1,"NULL","",""],["body","longtext",1,"NULL","",""],["files_json","longtext",1,"NULL","",""],["diff_stats_json","longtext",1,"NULL","",""],["ai_summary","longtext",1,"NULL","",""],["ai_risk_level","enum('low','medium','high','critical')",1,"'low'","",""],["ai_tags","longtext",1,"NULL","",""],["created_at","datetime",1,"current_timestamp()","",""]],"P":["id"],"K":[["ix_branch",0,["branch"]],["ix_committed",0,["committed_at"]],["ix_release",0,["release_key"]],["PRIMARY",1,["id"]],["uq_commit",1,["commit_hash"]]]},"cis_updates_releases":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["release_key","varchar(64)",0,null,"","UNI"],["title","varchar(255)",1,"NULL","",""],["source","enum('git','fs','manual')",1,"'git'","",""],["status","enum('draft','pending','deployed','rolled_back')",1,"'draft'","","MUL"],["branch","varchar(64)",1,"NULL","",""],["commit_start","char(40)",1,"NULL","",""],["commit_end","char(40)",1,"NULL","",""],["notes_text","longtext",1,"NULL","",""],["notes_html","longtext",1,"NULL","",""],["tags_json","longtext",1,"NULL","",""],["deployed_at","datetime",1,"NULL","",""],["created_at","datetime",1,"current_timestamp()","","MUL"]],"P":["id"],"K":[["ix_created",0,["created_at"]],["ix_status",0,["status"]],["PRIMARY",1,["id"]],["uq_release_key",1,["release_key"]]]},"cis_updates_watch_state":{"C":[["k","varchar(64)",0,null,"","PRI"],["v","mediumtext",1,"NULL","",""],["updated_at","datetime",1,"current_timestamp()","on update current_timestamp()",""]],"P":["k"],"K":[["PRIMARY",1,["k"]]]},"claude_automation_config":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["config_key","varchar(100)",0,null,"","UNI"],["config_value","longtext",0,null,"",""],["description","text",1,"NULL","",""],["is_active","tinyint(1)",1,"1","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["config_key",1,["config_key"]],["idx_config_key",0,["config_key"]],["idx_is_active",0,["is_active"]],["PRIMARY",1,["id"]]]},"claude_automation_executions":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["task_name","varchar(100)",0,null,"","MUL"],["status","enum('running','completed','failed','cancelled')",1,"'running'","",""],["started_at","datetime",0,null,"","MUL"],["completed_at","datetime",1,"NULL","","MUL"],["execution_time","decimal(8,3)",1,"NULL","",""],["result_data","longtext",1,"NULL","",""],["error_message","text",1,"NULL","",""],["queue_jobs_submitted","int(11)",1,"0","",""],["queue_jobs_completed","int(11)",1,"0","",""],["queue_jobs_failed","int(11)",1,"0","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_completed_at",0,["completed_at"]],["idx_executions_recent",0,["started_at","task_name","status"]],["idx_started_at",0,["started_at"]],["idx_task_status",0,["task_name","status"]],["PRIMARY",1,["id"]]]},"claude_clearance_recommendations":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["execution_id","int(11)",1,"NULL","","MUL"],["product_id","int(11)",0,null,"","MUL"],["product_name","varchar(255)",0,null,"",""],["product_age_days","int(11)",0,null,"","MUL"],["current_stock","int(11)",0,null,"",""],["stock_turnover_rate","decimal(6,2)",1,"NULL","",""],["clearance_recommended","tinyint(1)",0,"0","","MUL"],["suggested_discount_percent","decimal(4,1)",1,"NULL","",""],["clearance_timeline_days","int(11)",1,"NULL","",""],["disposal_recommended","tinyint(1)",1,"0","",""],["bundling_opportunities","longtext",1,"NULL","",""],["clearance_price","decimal(10,2)",1,"NULL","",""],["clearance_implemented","tinyint(1)",1,"0","",""],["clearance_start_date","date",1,"NULL","",""],["ai_reasoning","text",0,null,"",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["execution_id",0,["execution_id"]],["idx_age_days",0,["product_age_days"]],["idx_clearance_recommended",0,["clearance_recommended"]],["idx_product_id",0,["product_id"]],["PRIMARY",1,["id"]]],"F":[["claude_clearance_recommendations_ibfk_1",["execution_id"],"claude_automation_executions",["id"],"RESTRICT","CASCADE"]]},"claude_price_changes":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["execution_id","int(11)",1,"NULL","","MUL"],["product_id","int(11)",0,null,"","MUL"],["vend_product_id","varchar(100)",0,null,"","MUL"],["product_name","varchar(255)",0,null,"",""],["old_price","decimal(10,2)",0,null,"",""],["new_price","decimal(10,2)",0,null,"",""],["price_change_amount","decimal(10,2)",1,"NULL","STORED GENERATED",""],["price_change_percent","decimal(5,2)",1,"NULL","STORED GENERATED",""],["ai_confidence_score","decimal(3,2)",0,null,"","MUL"],["ai_reasoning","text",0,null,"",""],["competitive_data","longtext",1,"NULL","",""],["queue_job_id","varchar(100)",1,"NULL","",""],["vend_updated","tinyint(1)",1,"0","",""],["vend_update_confirmed_at","datetime",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["execution_id",0,["execution_id"]],["idx_ai_confidence",0,["ai_confidence_score"]],["idx_created_at",0,["created_at"]],["idx_price_changes_recent",0,["created_at","ai_confidence_score"]],["idx_product_id",0,["product_id"]],["idx_vend_product_id",0,["vend_product_id"]],["PRIMARY",1,["id"]]],"F":[["claude_price_changes_ibfk_1",["execution_id"],"claude_automation_executions",["id"],"RESTRICT","CASCADE"]]},"claude_queue_jobs":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["execution_id","int(11)",1,"NULL","","MUL"],["job_id","varchar(100)",0,null,"","UNI"],["job_type","varchar(100)",0,null,"","MUL"],["queue_name","varchar(50)",0,null,"",""],["status","enum('queued','processing','completed','failed','cancelled')",1,"'queued'","","MUL"],["priority","enum('low','normal','high')",1,"'normal'","",""],["job_data","longtext",0,null,"",""],["submitted_at","datetime",0,null,"","MUL"],["started_at","datetime",1,"NULL","",""],["completed_at","datetime",1,"NULL","",""],["execution_time","decimal(8,3)",1,"NULL","",""],["success","tinyint(1)",1,"NULL","",""],["error_message","text",1,"NULL","",""],["vend_response","longtext",1,"NULL","",""],["retry_count","int(11)",1,"0","",""],["worker_id","varchar(50)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_execution_id",0,["execution_id"]],["idx_job_id",0,["job_id"]],["idx_job_type",0,["job_type"]],["idx_queue_jobs_monitoring",0,["status","submitted_at","job_type"]],["idx_status",0,["status"]],["idx_submitted_at",0,["submitted_at"]],["job_id",1,["job_id"]],["PRIMARY",1,["id"]]],"F":[["claude_queue_jobs_ibfk_1",["execution_id"],"claude_automation_executions",["id"],"RESTRICT","CASCADE"]]},"claude_sales_forecasts":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["execution_id","int(11)",1,"NULL","","MUL"],["product_id","int(11)",0,null,"","MUL"],["product_name","varchar(255)",0,null,"",""],["forecast_30_days","decimal(8,2)",0,null,"",""],["forecast_60_days","decimal(8,2)",0,null,"",""],["forecast_90_days","decimal(8,2)",0,null,"",""],["confidence_30_days","decimal(3,2)",1,"NULL","",""],["confidence_60_days","decimal(3,2)",1,"NULL","",""],["confidence_90_days","decimal(3,2)",1,"NULL","",""],["key_factors","longtext",0,null,"",""],["seasonal_adjustment","decimal(4,2)",1,"NULL","",""],["trend_direction","enum('increasing','stable','decreasing')",1,"NULL","","MUL"],["previous_30_day_actual","decimal(8,2)",1,"NULL","",""],["forecast_accuracy_score","decimal(3,2)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["execution_id",0,["execution_id"]],["idx_forecasts_current",0,["created_at","product_id"]],["idx_forecast_date",0,["created_at"]],["idx_product_id",0,["product_id"]],["idx_trend",0,["trend_direction"]],["PRIMARY",1,["id"]]],"F":[["claude_sales_forecasts_ibfk_1",["execution_id"],"claude_automation_executions",["id"],"RESTRICT","CASCADE"]]},"claude_stock_recommendations":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["execution_id","int(11)",1,"NULL","","MUL"],["product_id","int(11)",0,null,"","MUL"],["product_name","varchar(255)",0,null,"",""],["current_stock_level","int(11)",0,null,"",""],["daily_velocity","decimal(8,2)",0,null,"",""],["days_of_stock_remaining","decimal(6,1)",1,"NULL","STORED GENERATED","MUL"],["recommended_reorder_quantity","int(11)",0,null,"",""],["reorder_urgency","enum('low','medium','high','critical')",0,null,"","MUL"],["ai_reasoning","text",0,null,"",""],["seasonal_factors","longtext",1,"NULL","",""],["supplier_lead_time_days","int(11)",1,"NULL","",""],["reorder_point_updated","tinyint(1)",1,"0","",""],["supplier_order_generated","tinyint(1)",1,"0","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["execution_id",0,["execution_id"]],["idx_days_remaining",0,["days_of_stock_remaining"]],["idx_product_id",0,["product_id"]],["idx_urgency",0,["reorder_urgency"]],["PRIMARY",1,["id"]]],"F":[["claude_stock_recommendations_ibfk_1",["execution_id"],"claude_automation_executions",["id"],"RESTRICT","CASCADE"]]},"claude_supplier_orders":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["execution_id","int(11)",1,"NULL","","MUL"],["order_reference","varchar(100)",0,null,"","UNI"],["supplier_name","varchar(100)",0,null,"","MUL"],["supplier_email","varchar(255)",1,"NULL","",""],["product_count","int(11)",0,null,"",""],["estimated_total_cost","decimal(12,2)",1,"NULL","",""],["currency","varchar(3)",1,"'NZD'","",""],["email_subject","varchar(255)",0,null,"",""],["email_body","text",0,null,"",""],["order_table_html","text",0,null,"",""],["status","enum('generated','sent','acknowledged','fulfilled','cancelled')",1,"'generated'","","MUL"],["sent_at","datetime",1,"NULL","",""],["acknowledged_at","datetime",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["execution_id",0,["execution_id"]],["idx_order_reference",0,["order_reference"]],["idx_status",0,["status"]],["idx_supplier",0,["supplier_name"]],["order_reference",1,["order_reference"]],["PRIMARY",1,["id"]]],"F":[["claude_supplier_orders_ibfk_1",["execution_id"],"claude_automation_executions",["id"],"RESTRICT","CASCADE"]]},"claude_supplier_order_items":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["order_id","int(11)",0,null,"","MUL"],["product_id","int(11)",0,null,"","MUL"],["product_name","varchar(255)",0,null,"",""],["sku","varchar(100)",1,"NULL","",""],["quantity","int(11)",0,null,"",""],["unit_cost","decimal(10,2)",1,"NULL","",""],["total_cost","decimal(12,2)",1,"NULL","",""],["current_stock","int(11)",1,"NULL","",""],["recommended_stock_level","int(11)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_order_id",0,["order_id"]],["idx_product_id",0,["product_id"]],["PRIMARY",1,["id"]]],"F":[["claude_supplier_order_items_ibfk_1",["order_id"],"claude_supplier_orders",["id"],"RESTRICT","CASCADE"]]},"claudia_ideas":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["category","enum('hr','inventory','sales','communications','system','revolutionary')",1,"NULL","","MUL"],["title","varchar(200)",1,"NULL","",""],["description","text",1,"NULL","",""],["implementation_difficulty","enum('easy','medium','hard','revolutionary')",1,"NULL","",""],["potential_impact","enum('low','medium','high','game_changing')",1,"NULL","",""],["status","enum('idea','proposed','in_progress','implemented','rejected')",1,"NULL","","MUL"],["sass_comment","text",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_claudia_ideas_category",0,["category"]],["idx_claudia_ideas_status",0,["status"]],["PRIMARY",1,["id"]]]},"claudia_knowledge":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["topic","varchar(100)",1,"NULL","","MUL"],["category","varchar(50)",1,"NULL","","MUL"],["knowledge_text","text",1,"NULL","",""],["confidence_level","int(11)",1,"95","",""],["last_updated","datetime",1,"current_timestamp()","",""],["source","varchar(100)",1,"NULL","",""]],"P":["id"],"K":[["idx_claudia_knowledge_category",0,["category"]],["idx_claudia_knowledge_topic",0,["topic"]],["PRIMARY",1,["id"]]]},"claudia_logs":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["timestamp","datetime",1,"current_timestamp()","","MUL"],["action","varchar(255)",0,null,"","MUL"],["details","text",1,"NULL","",""],["sass_level","int(11)",1,"8","",""],["user_interaction","varchar(100)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_claudia_logs_action",0,["action"]],["idx_claudia_logs_timestamp",0,["timestamp"]],["PRIMARY",1,["id"]]]},"claudia_user_preferences":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["user_name","varchar(100)",1,"NULL","",""],["user_phone","varchar(20)",1,"NULL","",""],["user_email","varchar(100)",1,"NULL","",""],["preferred_sass_level","int(11)",1,"8","",""],["favorite_topics","text",1,"NULL","",""],["pain_points","text",1,"NULL","",""],["last_interaction","datetime",1,"NULL","",""],["total_interactions","int(11)",1,"0","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"client_events":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["ts","datetime",0,"current_timestamp()","","MUL"],["request_id","varchar(64)",1,"NULL","",""],["page","varchar(255)",1,"NULL","",""],["event","varchar(64)",0,null,"","MUL"],["target","varchar(255)",1,"NULL","",""],["data","longtext",1,"NULL","",""],["ip","varchar(64)",1,"NULL","",""],["user_agent","text",1,"NULL","",""]],"P":["id"],"K":[["idx_event",0,["event","ts"]],["idx_ts",0,["ts"]],["PRIMARY",1,["id"]]]},"competitive_intelligence":{"C":[["intelligence_id","int(10) unsigned",0,null,"auto_increment","PRI"],["competitor_name","varchar(200)",0,null,"","MUL"],["data_type","varchar(100)",0,null,"","MUL"],["data_value","longtext",0,null,"",""],["analysis_notes","text",1,"NULL","",""],["confidence_score","decimal(3,2)",1,"0.80","","MUL"],["source_url","varchar(1000)",1,"NULL","",""],["collection_timestamp","timestamp",0,"current_timestamp()","","MUL"]],"P":["intelligence_id"],"K":[["idx_collection_timestamp",0,["collection_timestamp"]],["idx_competitor_data_type",0,["competitor_name","data_type"]],["idx_competitor_name",0,["competitor_name"]],["idx_confidence_score",0,["confidence_score"]],["idx_data_type",0,["data_type"]],["PRIMARY",1,["intelligence_id"]]],"F":[["competitive_intelligence_ibfk_1",["competitor_name"],"competitor_profiles",["competitor_name"],"CASCADE","CASCADE"]]},"competitive_intelligence_crawl_data":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["site_name","varchar(100)",0,null,"","MUL"],["site_url","varchar(500)",0,null,"",""],["page_title","varchar(500)",1,"NULL","",""],["product_links_found","int(11)",1,"0","",""],["prices_detected","longtext",1,"NULL","",""],["screenshot_path","varchar(1000)",1,"NULL","",""],["crawled_at","timestamp",0,"current_timestamp()","","MUL"],["session_id","varchar(50)",1,"NULL","","MUL"],["response_time_ms","int(11)",1,"NULL","",""],["http_status","int(11)",1,"NULL","",""],["error_message","text",1,"NULL","",""]],"P":["id"],"K":[["idx_crawled_at",0,["crawled_at"]],["idx_session_id",0,["session_id"]],["idx_site_name",0,["site_name"]],["PRIMARY",1,["id"]]]},"competitive_intelligence_sites":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["name","varchar(100)",0,null,"",""],["url","varchar(500)",0,null,"","UNI"],["priority","enum('high','medium','low')",1,"'medium'","","MUL"],["status","enum('active','inactive','error')",1,"'active'","","MUL"],["last_crawled","timestamp",1,"NULL","","MUL"],["success_count","int(11)",1,"0","",""],["error_count","int(11)",1,"0","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_last_crawled",0,["last_crawled"]],["idx_priority",0,["priority"]],["idx_status",0,["status"]],["PRIMARY",1,["id"]],["url",1,["url"]]]},"competitor_monitoring":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["competitor_name","varchar(255)",0,null,"","UNI"],["website_url","varchar(500)",0,null,"",""],["monitoring_status","enum('active','paused','disabled')",1,"'active'","",""],["last_crawl_date","date",1,"NULL","",""],["crawl_frequency","enum('daily','weekly','monthly')",1,"'weekly'","",""],["products_tracked","int(11)",1,"0","",""],["price_changes_detected","int(11)",1,"0","",""],["alerts_enabled","tinyint(1)",1,"1","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["competitor_name",1,["competitor_name"]],["PRIMARY",1,["id"]]]},"competitor_price_history":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["product_match_id","int(11)",0,null,"","MUL"],["old_price","decimal(10,2)",1,"NULL","",""],["new_price","decimal(10,2)",0,null,"",""],["price_change","decimal(10,2)",1,"NULL","STORED GENERATED",""],["price_change_percent","decimal(6,2)",1,"NULL","STORED GENERATED","MUL"],["stock_status_changed","tinyint(1)",1,"0","",""],["sale_status_changed","tinyint(1)",1,"0","",""],["detected_by","varchar(100)",1,"'stealth_crawler'","",""],["session_id","varchar(100)",1,"NULL","",""],["screenshot_evidence","varchar(500)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_price_change",0,["price_change_percent","created_at"]],["idx_price_history_recent",0,["created_at","price_change_percent"]],["idx_product_date",0,["product_match_id","created_at"]],["PRIMARY",1,["id"]]],"F":[["competitor_price_history_ibfk_1",["product_match_id"],"product_competitor_matches",["id"],"RESTRICT","CASCADE"]]},"competitor_products":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["competitor_id","int(11)",0,null,"","MUL"],["product_name","varchar(500)",0,null,"",""],["product_url","varchar(1000)",0,null,"",""],["product_sku","varchar(200)",1,"NULL","",""],["category","varchar(200)",1,"NULL","","MUL"],["subcategory","varchar(200)",1,"NULL","",""],["brand","varchar(200)",1,"NULL","",""],["current_price","decimal(10,2)",1,"NULL","","MUL"],["previous_price","decimal(10,2)",1,"NULL","",""],["price_change_percent","decimal(5,2)",1,"NULL","",""],["currency","varchar(10)",1,"'NZD'","",""],["availability_status","enum('in_stock','out_of_stock','limited_stock','pre_order','discontinued')",1,"'in_stock'","","MUL"],["stock_quantity","int(11)",1,"NULL","",""],["rating","decimal(3,2)",1,"NULL","",""],["review_count","int(11)",1,"NULL","",""],["description","text",1,"NULL","",""],["specifications","longtext",1,"NULL","",""],["images","longtext",1,"NULL","",""],["tags","longtext",1,"NULL","",""],["promotion_info","longtext",1,"NULL","",""],["shipping_info","longtext",1,"NULL","",""],["first_seen","timestamp",0,"current_timestamp()","",""],["last_updated","timestamp",0,"current_timestamp()","on update current_timestamp()","MUL"],["last_price_change","timestamp",1,"NULL","",""],["monitoring_enabled","tinyint(1)",1,"1","",""]],"P":["id"],"K":[["availability_status",0,["availability_status"]],["category",0,["category"]],["competitor_id",0,["competitor_id"]],["current_price",0,["current_price"]],["last_updated",0,["last_updated"]],["PRIMARY",1,["id"]]]},"competitor_profiles":{"C":[["competitor_id","int(10) unsigned",0,null,"auto_increment","PRI"],["competitor_name","varchar(200)",0,null,"","UNI"],["website_url","varchar(500)",0,null,"",""],["market_segment","enum('direct','indirect','substitute')",1,"'direct'","","MUL"],["priority_level","enum('low','medium','high','critical')",1,"'medium'","","MUL"],["threat_assessment","enum('minimal','moderate','significant','critical')",1,"'moderate'","","MUL"],["focus_areas","longtext",1,"NULL","",""],["crawl_frequency","enum('hourly','daily','weekly','monthly')",1,"'weekly'","",""],["last_crawled","datetime",1,"NULL","","MUL"],["crawl_settings","longtext",1,"NULL","",""],["data_selectors","longtext",1,"NULL","",""],["notes","text",1,"NULL","",""],["is_active","tinyint(1)",1,"1","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["last_updated","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["competitor_id"],"K":[["competitor_name",1,["competitor_name"]],["idx_competitor_name",0,["competitor_name"]],["idx_is_active",0,["is_active"]],["idx_last_crawled",0,["last_crawled"]],["idx_market_segment",0,["market_segment"]],["idx_priority_level",0,["priority_level"]],["idx_threat_assessment",0,["threat_assessment"]],["PRIMARY",1,["competitor_id"]]]},"configuration":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["config_label","varchar(100)",1,"NULL","","UNI"],["config_value","longtext",1,"NULL","",""]],"P":["id"],"K":[["config_label_UNIQUE",1,["config_label"]],["idx_config_label",0,["config_label"]],["PRIMARY",1,["id"]],["ux_configuration_label",1,["config_label"]]]},"config_audit_log":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["namespace","varchar(190)",0,null,"","MUL"],["key","varchar(191)",0,null,"",""],["old_value","longtext",1,"NULL","",""],["new_value","longtext",1,"NULL","",""],["updated_by","varchar(191)",1,"NULL","",""],["config_key","varchar(190)",0,null,"",""],["new_value_hash","char(16)",0,null,"",""],["actor_user_id","int(11)",1,"NULL","",""],["actor_role","varchar(100)",1,"NULL","",""],["request_id","varchar(64)",1,"NULL","",""],["ip_address","varchar(64)",1,"NULL","",""],["created_at","timestamp",1,"current_timestamp()","","MUL"],["namespace_id","int(10) unsigned",0,null,"",""]],"P":["id"],"K":[["idx_created",0,["created_at"]],["idx_ns_key",0,["namespace","config_key"]],["PRIMARY",1,["id"]]]},"config_definitions":{"C":[["id","int(10) unsigned",0,null,"auto_increment","PRI"],["namespace","varchar(190)",0,null,"","MUL"],["key","varchar(190)",0,null,"",""],["config_key","varchar(191)",0,"''","",""],["type","enum('string','int','bool','json','secret')",0,"'string'","",""],["default_value","longtext",1,"NULL","",""],["description","text",1,"NULL","",""],["is_sensitive","tinyint(1)",0,"0","",""],["created_at","timestamp",1,"current_timestamp()","",""],["updated_at","timestamp",1,"current_timestamp()","on update current_timestamp()",""],["is_mutable","tinyint(1)",0,"1","",""],["validate_regex","varchar(255)",1,"NULL","",""],["deprecated_at","timestamp",1,"NULL","",""],["namespace_id","int(10) unsigned",0,null,"",""]],"P":["id"],"K":[["idx_ns",0,["namespace"]],["PRIMARY",1,["id"]],["uq_ns_key",1,["namespace","key"]]]},"config_items":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["namespace_id","int(10) unsigned",0,null,"",""],["namespace","varchar(190)",0,null,"","MUL"],["key","varchar(190)",0,null,"",""],["config_key","varchar(191)",0,null,"",""],["config_value","text",1,"NULL","",""],["value","longtext",1,"NULL","",""],["type","varchar(32)",0,"'string'","",""],["is_sensitive","tinyint(1)",0,"0","",""],["version","int(10) unsigned",0,"1","",""],["updated_by","varchar(190)",1,"NULL","",""],["created_at","timestamp",1,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_ns",0,["namespace"]],["PRIMARY",1,["id"]],["uq_ns_key",1,["namespace","key"]]]},"config_namespaces":{"C":[["id","int(10) unsigned",0,null,"auto_increment","PRI"],["namespace","varchar(190)",0,null,"","UNI"],["owner_group","varchar(191)",1,"NULL","",""],["owner_email","varchar(191)",1,"NULL","",""],["owner_team","varchar(100)",1,"NULL","",""],["owner_contact","varchar(200)",1,"NULL","",""],["module_type","varchar(64)",1,"NULL","",""],["description","text",1,"NULL","",""],["is_active","tinyint(1)",0,"1","",""],["autoload_enabled","tinyint(1)",0,"1","",""],["health_url","varchar(255)",1,"NULL","",""],["monitor_url","varchar(255)",1,"NULL","",""],["docs_url","varchar(255)",1,"NULL","",""],["created_at","timestamp",1,"current_timestamp()","",""],["updated_at","timestamp",1,"current_timestamp()","on update current_timestamp()",""],["name","varchar(191)",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]],["uk_ns_namespace",1,["namespace"]]]},"config_version":{"C":[["id","tinyint(4)",0,null,"","PRI"],["version","int(11)",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"containers":{"C":[["container_id","int(11)",0,null,"auto_increment","PRI"],["carrier_id","int(11)",0,null,"","MUL"],["service_id","int(11)",1,"NULL","","MUL"],["code","varchar(64)",0,null,"","MUL"],["name","varchar(150)",0,null,"",""],["kind","enum('bag','box','document','unknown')",0,"'unknown'","","MUL"],["length_mm","int(11)",1,"NULL","",""],["width_mm","int(11)",1,"NULL","",""],["height_mm","int(11)",1,"NULL","",""],["max_weight_grams","int(11)",1,"NULL","",""],["max_units","int(11)",1,"NULL","",""],["volume_m3","decimal(10,6)",1,"NULL","STORED GENERATED",""]],"P":["container_id"],"K":[["fk_containers_service",0,["service_id"]],["ix_containers_carrier_service",0,["carrier_id","service_id"]],["ix_containers_code",0,["code"]],["ix_containers_dims",0,["kind","length_mm","width_mm","height_mm"]],["ix_containers_kind",0,["kind"]],["ix_containers_kind_code",0,["kind","code"]],["PRIMARY",1,["container_id"]],["uniq_container",1,["carrier_id","code"]]],"F":[["fk_containers_carrier",["carrier_id"],"carriers",["carrier_id"],"CASCADE","CASCADE"],["fk_containers_service",["service_id"],"carrier_services",["service_id"],"CASCADE","SET NULL"]]},"container_rules":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["alias","varchar(64)",0,null,"","UNI"],["max_weight_g","int(11)",0,null,"",""],["max_items","int(11)",0,"0","",""],["dimensions_mm","varchar(64)",1,"NULL","",""],["notes","varchar(255)",1,"NULL","",""],["is_active","tinyint(1)",0,"1","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_active",0,["is_active"]],["PRIMARY",1,["id"]],["u_alias",1,["alias"]]]},"contract_uploads":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["user_id","varchar(45)",0,null,"",""],["file_name","varchar(45)",0,null,"",""],["date_uploaded","timestamp",0,"current_timestamp()","",""],["original_file_name","mediumtext",0,null,"",""],["removed","int(11)",0,"0","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"conversations":{"C":[["conversation_id","char(36)",0,null,"","PRI"],["title","varchar(255)",1,"NULL","","MUL"],["created_at","datetime",0,"current_timestamp()","",""],["updated_at","datetime",0,"current_timestamp()","on update current_timestamp()","MUL"],["metadata","longtext",1,"NULL","",""]],"P":["conversation_id"],"K":[["idx_conv_title",0,["title"]],["idx_conv_updated",0,["updated_at"]],["PRIMARY",1,["conversation_id"]]]},"conversation_knowledge_capture":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["conversation_uuid","varchar(36)",0,null,"","MUL"],["session_date","date",0,null,"","MUL"],["participant_role","enum('owner','ai_assistant','system')",0,null,"",""],["knowledge_category","varchar(100)",1,"NULL","","MUL"],["extracted_insights","longtext",1,"NULL","",""],["action_items","longtext",1,"NULL","",""],["decisions_made","longtext",1,"NULL","",""],["system_improvements","longtext",1,"NULL","",""],["priority_level","enum('low','medium','high','critical')",1,"'medium'","","MUL"],["implementation_status","enum('captured','planned','in_progress','completed')",1,"'captured'","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_category",0,["knowledge_category"]],["idx_conversation",0,["conversation_uuid"]],["idx_date",0,["session_date"]],["idx_priority",0,["priority_level"]],["PRIMARY",1,["id"]]]},"couriers_claims":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["date_created","timestamp",0,"current_timestamp()","",""],["created_by","int(11)",0,null,"","MUL"],["package_type","int(11)",0,null,"",""],["claim_type","int(11)",0,null,"",""],["order_id","varchar(45)",1,"NULL","","MUL"],["website_shipment_object_json","mediumtext",1,"NULL","",""],["website_shipment_id","int(11)",1,"NULL","",""],["vend_outlet_sent_from","varchar(45)",0,null,"",""],["description_of_damage","mediumtext",0,null,"",""],["cost_to_repair","decimal(13,5)",0,"0.00000","",""],["tracking_number","mediumtext",0,null,"",""],["description_of_goods","mediumtext",0,null,"",""],["action_taken_to_date","mediumtext",0,null,"",""],["packaging_details","mediumtext",0,null,"",""],["number_of_packages","int(11)",0,"0","",""],["value_of_claim","decimal(13,5)",0,"0.00000","",""],["staff_notes","mediumtext",1,"NULL","",""],["status","int(11)",0,null,"",""],["deleted_at","timestamp",1,"NULL","",""],["deleted_by","int(11)",1,"NULL","",""],["vend_outlet_sent_to","varchar(45)",1,"NULL","",""],["website_order_object_json","mediumtext",1,"NULL","",""],["gss_shipment_object_json","mediumtext",0,null,"",""]],"P":["id"],"K":[["orderID",0,["order_id"]],["PRIMARY",1,["id"]],["staffID",0,["created_by"]]]},"courier_claims_products":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["claim_id","int(11)",0,null,"","MUL"],["vend_id","varchar(45)",1,"NULL","","MUL"],["website_product_order_id","int(11)",1,"NULL","",""],["website_product_id","int(11)",1,"NULL","",""],["product_qty","int(11)",0,null,"",""],["product_cost","varchar(45)",0,null,"",""],["damaged","int(11)",0,null,"",""]],"P":["id"],"K":[["claims_idx",0,["claim_id"]],["PRIMARY",1,["id"]],["productID",0,["vend_id","website_product_order_id","website_product_id"]]],"F":[["claims",["claim_id"],"couriers_claims",["id"],"NO ACTION","CASCADE"]]},"courier_queries":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["time_created_at","timestamp",0,"current_timestamp()","",""],["time_deleted_at","timestamp",1,"NULL","",""],["created_by_user","int(11)",0,null,"",""],["order_id","int(11)",1,"NULL","",""],["shipment_id","int(11)",1,"NULL","",""],["tracking_id","varchar(45)",1,"NULL","",""],["created_at_notes","mediumtext",1,"NULL","",""],["nz_courier_query_reference","varchar(45)",1,"NULL","",""],["nz_courier_query_submitted_at","timestamp",1,"NULL","",""],["nz_courier_query_submitted_by","varchar(45)",1,"NULL","",""],["query_status","int(11)",0,"0","",""],["deleted_by_user","int(11)",1,"NULL","",""],["manual_created","int(11)",0,"0","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"crawler_alerts":{"C":[["alert_id","int(10) unsigned",0,null,"auto_increment","PRI"],["alert_type","enum('error','warning','info','success')",0,null,"","MUL"],["alert_title","varchar(200)",0,null,"",""],["alert_message","text",0,null,"",""],["competitor_name","varchar(200)",1,"NULL","","MUL"],["session_id","varchar(50)",1,"NULL","","MUL"],["alert_data","longtext",1,"NULL","",""],["is_read","tinyint(1)",1,"0","","MUL"],["is_resolved","tinyint(1)",1,"0","","MUL"],["resolved_by","varchar(100)",1,"NULL","",""],["resolved_at","timestamp",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["alert_id"],"K":[["idx_alert_type",0,["alert_type"]],["idx_competitor_name",0,["competitor_name"]],["idx_created_at",0,["created_at"]],["idx_is_read",0,["is_read"]],["idx_is_resolved",0,["is_resolved"]],["idx_session_id",0,["session_id"]],["PRIMARY",1,["alert_id"]]]},"crawler_analytics":{"C":[["analytics_id","int(10) unsigned",0,null,"auto_increment","PRI"],["metric_name","varchar(100)",0,null,"","MUL"],["metric_value","decimal(15,4)",0,null,"",""],["metric_type","enum('counter','gauge','histogram')",1,"'gauge'","","MUL"],["dimension_1","varchar(100)",1,"NULL","",""],["dimension_2","varchar(100)",1,"NULL","",""],["dimension_3","varchar(100)",1,"NULL","",""],["recorded_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["analytics_id"],"K":[["idx_metric_dimensions",0,["metric_name","dimension_1","dimension_2"]],["idx_metric_name",0,["metric_name"]],["idx_metric_type",0,["metric_type"]],["idx_recorded_at",0,["recorded_at"]],["PRIMARY",1,["analytics_id"]]]},"crawler_config":{"C":[["config_id","int(10) unsigned",0,null,"auto_increment","PRI"],["config_key","varchar(100)",0,null,"","UNI"],["config_value","longtext",0,null,"",""],["config_description","text",1,"NULL","",""],["is_sensitive","tinyint(1)",1,"0","","MUL"],["updated_by","varchar(100)",1,"'system'","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["config_id"],"K":[["config_key",1,["config_key"]],["idx_config_key",0,["config_key"]],["idx_is_sensitive",0,["is_sensitive"]],["PRIMARY",1,["config_id"]]]},"crawler_logs":{"C":[["log_id","int(10) unsigned",0,null,"auto_increment","PRI"],["log_level","enum('DEBUG','INFO','WARNING','ERROR','CRITICAL')",0,null,"","MUL"],["log_message","text",0,null,"",""],["session_id","varchar(50)",1,"NULL","","MUL"],["competitor_name","varchar(200)",1,"NULL","","MUL"],["log_context","longtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["log_id"],"K":[["idx_competitor_name",0,["competitor_name"]],["idx_created_at",0,["created_at"]],["idx_log_level",0,["log_level"]],["idx_session_id",0,["session_id"]],["PRIMARY",1,["log_id"]]]},"crawler_performance":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["session_id","varchar(255)",0,null,"","MUL"],["metric_name","varchar(100)",0,null,"","MUL"],["metric_value","decimal(15,4)",0,null,"",""],["metric_unit","varchar(50)",1,"NULL","",""],["recorded_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["metric_name",0,["metric_name"]],["PRIMARY",1,["id"]],["recorded_at",0,["recorded_at"]],["session_id",0,["session_id"]]]},"crawler_reports":{"C":[["report_id","int(10) unsigned",0,null,"auto_increment","PRI"],["report_name","varchar(200)",0,null,"",""],["report_type","enum('performance','competitive','pricing','market','custom')",0,null,"","MUL"],["report_parameters","longtext",1,"NULL","",""],["report_data","longtext",1,"NULL","",""],["file_path","varchar(500)",1,"NULL","",""],["generated_by","varchar(100)",1,"'system'","","MUL"],["generated_at","timestamp",0,"current_timestamp()","","MUL"],["is_scheduled","tinyint(1)",1,"0","","MUL"],["schedule_config","longtext",1,"NULL","",""]],"P":["report_id"],"K":[["idx_generated_at",0,["generated_at"]],["idx_generated_by",0,["generated_by"]],["idx_is_scheduled",0,["is_scheduled"]],["idx_report_type",0,["report_type"]],["PRIMARY",1,["report_id"]]]},"crawler_results":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["session_id","varchar(255)",0,null,"","MUL"],["url","varchar(500)",0,null,"","MUL"],["page_title","varchar(500)",1,"NULL","",""],["content_type","varchar(100)",1,"NULL","",""],["status_code","int(11)",1,"NULL","","MUL"],["page_content","longtext",1,"NULL","",""],["meta_data","text",1,"NULL","",""],["links_found","text",1,"NULL","",""],["images_found","text",1,"NULL","",""],["products_found","text",1,"NULL","",""],["prices_found","text",1,"NULL","",""],["screenshot_path","varchar(500)",1,"NULL","",""],["crawled_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]],["session_id",0,["session_id"]],["status_code",0,["status_code"]],["url",0,["url"]]]},"crawler_schedules":{"C":[["schedule_id","int(10) unsigned",0,null,"auto_increment","PRI"],["schedule_name","varchar(200)",0,null,"",""],["competitor_name","varchar(200)",0,null,"","MUL"],["schedule_type","enum('once','recurring')",1,"'recurring'","",""],["frequency","enum('hourly','daily','weekly','monthly')",1,"'daily'","","MUL"],["scheduled_time","time",1,"'02:00:00'","",""],["schedule_config","longtext",1,"NULL","",""],["is_active","tinyint(1)",1,"1","","MUL"],["last_run","timestamp",1,"NULL","",""],["next_run","timestamp",1,"NULL","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["schedule_id"],"K":[["idx_competitor_name",0,["competitor_name"]],["idx_frequency",0,["frequency"]],["idx_is_active",0,["is_active"]],["idx_next_run",0,["next_run"]],["PRIMARY",1,["schedule_id"]]],"F":[["crawler_schedules_ibfk_1",["competitor_name"],"competitor_profiles",["competitor_name"],"CASCADE","CASCADE"]]},"crawler_sessions":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["session_id","varchar(255)",0,null,"","UNI"],["target_url","varchar(500)",0,null,"",""],["crawl_type","enum('competitor','product','general','security')",1,"'general'","","MUL"],["status","enum('queued','starting','running','completed','failed','stopped')",1,"'queued'","","MUL"],["progress","int(11)",1,"0","",""],["urls_found","int(11)",1,"0","",""],["data_collected","text",1,"NULL","",""],["screenshots_taken","int(11)",1,"0","",""],["errors_count","int(11)",1,"0","",""],["started_at","timestamp",1,"NULL","",""],["completed_at","timestamp",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["crawl_type",0,["crawl_type"]],["PRIMARY",1,["id"]],["session_id",1,["session_id"]],["status",0,["status"]]]},"critical_alerts_log":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["alert_type","varchar(100)",0,null,"","MUL"],["severity","enum('critical','high','medium','low')",0,"'critical'","",""],["title","varchar(255)",0,null,"",""],["message","text",0,null,"",""],["context","longtext",1,"NULL","",""],["affected_systems","longtext",1,"NULL","",""],["error_details","longtext",1,"NULL","",""],["resolution_status","enum('active','acknowledged','resolved','suppressed')",0,"'active'","","MUL"],["resolved_at","timestamp",1,"NULL","",""],["resolved_by","varchar(100)",1,"NULL","",""],["resolution_notes","text",1,"NULL","",""],["email_sent","tinyint(1)",0,"0","","MUL"],["email_sent_at","timestamp",1,"NULL","",""],["email_addresses","longtext",1,"NULL","",""],["escalation_level","tinyint(3) unsigned",0,"1","","MUL"],["escalated_at","timestamp",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_alert_type_severity",0,["alert_type","severity"]],["idx_email_tracking",0,["email_sent","created_at"]],["idx_escalation",0,["escalation_level","escalated_at"]],["idx_resolution_status",0,["resolution_status","created_at"]],["PRIMARY",1,["id"]]]},"cron_output_logs":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["identifier","varchar(100)",1,"NULL","",""],["time_started","timestamp",0,"current_timestamp()","",""],["time_ended","timestamp",1,"NULL","",""],["output","mediumtext",1,"NULL","",""],["command","varchar(200)",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"customer_ai_interactions":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["customer_uuid","varchar(36)",0,null,"","MUL"],["interaction_type","enum('product_recommendation','support','guidance','upsell','retention')",0,null,"","MUL"],["trigger_event","varchar(255)",1,"NULL","",""],["ai_response","longtext",1,"NULL","",""],["customer_reaction","enum('positive','neutral','negative','ignored')",1,"'neutral'","",""],["conversion_result","tinyint(1)",1,"0","",""],["session_data","longtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_created",0,["created_at"]],["idx_customer",0,["customer_uuid"]],["idx_type",0,["interaction_type"]],["PRIMARY",1,["id"]]]},"customer_ai_profiles":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["customer_uuid","varchar(36)",0,null,"","UNI"],["customer_email","varchar(255)",1,"NULL","","MUL"],["store_site","varchar(100)",1,"NULL","","MUL"],["preferences","longtext",1,"NULL","",""],["purchase_history_summary","longtext",1,"NULL","",""],["ai_personality","enum('helpful','expert','casual','technical')",1,"'helpful'","",""],["interaction_style","longtext",1,"NULL","",""],["privacy_settings","longtext",1,"NULL","",""],["last_interaction","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["ai_enabled","tinyint(1)",1,"1","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["customer_uuid",1,["customer_uuid"]],["idx_email",0,["customer_email"]],["idx_enabled",0,["ai_enabled"]],["idx_site",0,["store_site"]],["idx_uuid",0,["customer_uuid"]],["PRIMARY",1,["id"]]]},"database_health_log":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["connection_type","varchar(100)",0,null,"","MUL"],["status","enum('healthy','degraded','failed')",0,null,"",""],["response_time_ms","int(10) unsigned",1,"NULL","","MUL"],["connection_count","int(10) unsigned",1,"NULL","",""],["slow_queries","int(10) unsigned",1,"NULL","",""],["error_message","text",1,"NULL","",""],["metadata","longtext",1,"NULL","",""],["checked_by","varchar(255)",0,null,"",""],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_connection_status",0,["connection_type","status"]],["idx_health_timeline",0,["created_at"]],["idx_performance_tracking",0,["response_time_ms","created_at"]],["PRIMARY",1,["id"]]]},"db_connection_event":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["event_at","datetime",0,"current_timestamp()","","MUL"],["conn_name","varchar(64)",0,null,"","MUL"],["event_type","enum('open','fail','breaker_open','breaker_close')",0,null,"","MUL"],["message","varchar(255)",1,"NULL","",""]],"P":["id"],"K":[["idx_conn",0,["conn_name"]],["idx_time",0,["event_at"]],["idx_type",0,["event_type"]],["PRIMARY",1,["id"]]]},"db_query_log":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["run_at","datetime",0,"current_timestamp()","","MUL"],["duration_ms","int(10) unsigned",0,null,"",""],["conn_name","varchar(64)",0,null,"","MUL"],["tx_id","varchar(36)",1,"NULL","",""],["query_hash","char(64)",0,null,"","MUL"],["sql_preview","text",0,null,"",""],["params_json","longtext",1,"NULL","",""],["rowcount","int(11)",1,"NULL","",""],["ok","tinyint(1)",0,"1","","MUL"],["error_code","varchar(32)",1,"NULL","",""],["error_message","text",1,"NULL","",""],["caller_file","varchar(255)",1,"NULL","",""],["caller_line","int(11)",1,"NULL","",""],["idx_runat","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_conn",0,["conn_name"]],["idx_hash",0,["query_hash"]],["idx_ok",0,["ok"]],["idx_run_at",0,["run_at"]],["PRIMARY",1,["id"]]]},"db_query_stats_daily":{"C":[["day_date","date",0,null,"","PRI"],["conn_name","varchar(64)",0,null,"","PRI"],["query_hash","char(64)",0,null,"","PRI"],["calls","int(10) unsigned",0,null,"",""],["avg_ms","int(10) unsigned",0,null,"",""],["p95_ms","int(10) unsigned",0,null,"","MUL"],["errors","int(10) unsigned",0,null,"","MUL"]],"P":["day_date","conn_name","query_hash"],"K":[["idx_errors",0,["errors"]],["idx_p95",0,["p95_ms"]],["PRIMARY",1,["day_date","conn_name","query_hash"]]]},"db_schema_snapshot":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["created_at","datetime",0,"current_timestamp()","",""],["schema_name","varchar(128)",0,null,"","MUL"],["label","varchar(255)",1,"NULL","","MUL"],["snapshot_json","longtext",0,null,"",""]],"P":["id"],"K":[["idx_label",0,["label"]],["idx_schema",0,["schema_name"]],["PRIMARY",1,["id"]]]},"db_slow_query":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["run_at","datetime",0,null,"","MUL"],["duration_ms","int(10) unsigned",0,null,"","MUL"],["conn_name","varchar(64)",0,null,"","MUL"],["query_hash","char(64)",0,null,"",""],["sql_preview","text",0,null,"",""],["params_json","longtext",1,"NULL","",""],["rowcount","int(11)",1,"NULL","",""]],"P":["id"],"K":[["idx_conn",0,["conn_name"]],["idx_dur",0,["duration_ms"]],["idx_run_at",0,["run_at"]],["PRIMARY",1,["id"]]]},"debug_data_table":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["name","varchar(45)",1,"NULL","",""],["value","mediumtext",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"delivery_options":{"C":[["option_code","varchar(32)",0,null,"","PRI"],["name","varchar(100)",0,null,"",""],["description","varchar(255)",1,"NULL","",""]],"P":["option_code"],"K":[["PRIMARY",1,["option_code"]]]},"deposit_transactions":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["transaction_name","varchar(200)",0,null,"",""],["transaction_amount","varchar(200)",0,null,"",""],["transaction_date","datetime",0,null,"",""],["transaction_reference","varchar(200)",0,null,"",""],["store_deposit","int(11)",0,"0","",""],["card_id","int(11)",1,"NULL","",""],["bag_number","int(11)",1,"NULL","",""],["reference","varchar(45)",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"deposit_transactions_new":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["transaction_name","varchar(200)",0,null,"",""],["transaction_amount","decimal(13,2)",0,null,"",""],["transaction_reference","varchar(200)",0,null,"",""],["transaction_date","timestamp",0,"current_timestamp()","",""],["store_deposit","int(11)",0,"0","","MUL"],["card_id","int(11)",1,"NULL","",""],["bag_number","int(11)",1,"NULL","","MUL"],["reference","varchar(45)",1,"NULL","","MUL"],["transaction_fetched_date","timestamp",0,"current_timestamp()","",""],["original_transaction_description","varchar(200)",1,"NULL","",""],["transaction_id","varchar(45)",1,"NULL","","UNI"],["json_object","mediumtext",1,"NULL","",""],["order_id","int(11)",1,"NULL","",""]],"P":["id"],"K":[["bagNumberIndex",0,["bag_number"]],["bagReferenceIndex",0,["reference"]],["idReferenceUnique",1,["transaction_id"]],["PRIMARY",1,["id"]],["storeDepositIndex",0,["store_deposit"]]]},"deputy_ref_employee":{"C":[["id","bigint(20) unsigned",0,null,"","PRI"],["display_name","varchar(191)",0,null,"",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"deputy_ref_outlet":{"C":[["id","bigint(20) unsigned",0,null,"","PRI"],["name","varchar(191)",0,null,"",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"deputy_shift_cache":{"C":[["id","bigint(20) unsigned",0,null,"","PRI"],["employee_id","bigint(20) unsigned",0,null,"","MUL"],["outlet_id","bigint(20) unsigned",1,"NULL","","MUL"],["start_utc","datetime",0,null,"",""],["end_utc","datetime",0,null,"",""],["break_minutes","int(11)",0,"0","",""],["status","varchar(32)",0,"''","","MUL"],["minutes_raw","int(11)",0,"0","",""],["minutes_worked","int(11)",0,"0","",""],["needs_30_break","tinyint(1)",0,"0","",""],["has_30_break","tinyint(1)",0,"0","",""],["break_noncompliant","tinyint(1)",0,"0","",""],["cycle_start_nz","date",0,null,"","MUL"],["cycle_end_nz","date",0,null,"",""],["raw_json","longtext",0,null,"",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_cycle",0,["cycle_start_nz","cycle_end_nz","start_utc"]],["idx_emp",0,["employee_id","start_utc"]],["idx_outlet",0,["outlet_id","start_utc"]],["idx_status",0,["status"]],["PRIMARY",1,["id"]]]},"devtools_events":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["user_id","int(11)",0,null,"","MUL"],["session_id","varchar(64)",0,null,"",""],["page","varchar(255)",0,null,"",""],["event_type","enum('devtools_open','devtools_closed')",0,null,"","MUL"],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_event_type",0,["event_type","created_at"]],["idx_user_session",0,["user_id","session_id","created_at"]],["PRIMARY",1,["id"]]]},"dev_ai_knowledge":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["platform","varchar(100)",0,null,"","MUL"],["technology","varchar(100)",1,"NULL","","MUL"],["knowledge_type","enum('framework','database','api','integration','troubleshooting','architecture')",0,null,"","MUL"],["title","varchar(255)",0,null,"",""],["content","longtext",0,null,"",""],["code_examples","longtext",1,"NULL","",""],["related_files","longtext",1,"NULL","",""],["difficulty_level","enum('beginner','intermediate','advanced','expert')",1,"'intermediate'","","MUL"],["last_updated","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["verified_by","int(11)",1,"NULL","",""],["confidence_score","decimal(3,2)",1,"0.85","",""],["is_active","tinyint(1)",1,"1","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_difficulty",0,["difficulty_level"]],["idx_platform",0,["platform"]],["idx_technology",0,["technology"]],["idx_type",0,["knowledge_type"]],["PRIMARY",1,["id"]]]},"dev_algorithms":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["algorithm_name","varchar(100)",1,"NULL","","MUL"],["description","mediumtext",1,"NULL","",""],["implementation_code","mediumtext",1,"NULL","",""],["performance_metrics","longtext",1,"NULL","",""],["optimization_level","int(11)",1,"1","","MUL"],["use_cases","longtext",1,"NULL","",""],["dependencies","longtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_name",0,["algorithm_name"]],["idx_optimization",0,["optimization_level"]],["PRIMARY",1,["id"]]]},"dev_conversations":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["session_id","varchar(100)",1,"NULL","","MUL"],["user_input","mediumtext",1,"NULL","","MUL"],["ai_response","mediumtext",1,"NULL","",""],["context_data","longtext",1,"NULL","",""],["algorithms_mentioned","longtext",1,"NULL","",""],["technologies_discussed","longtext",1,"NULL","",""],["implementation_priority","int(11)",1,"1","","MUL"],["development_phase","enum('concept','planning','development','testing','deployment')",1,"'concept'","","MUL"],["vector_embedding","mediumtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_phase",0,["development_phase"]],["idx_priority",0,["implementation_priority"]],["idx_session",0,["session_id"]],["PRIMARY",1,["id"]],["user_input",0,["user_input","ai_response"]]]},"dev_dashboards":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["dashboard_name","varchar(100)",1,"NULL","",""],["dashboard_type","enum('analytics','monitoring','development','business','operations')",1,"'development'","","MUL"],["components","longtext",1,"NULL","",""],["data_sources","longtext",1,"NULL","",""],["refresh_rate_seconds","int(11)",1,"30","",""],["user_permissions","longtext",1,"NULL","",""],["is_active","tinyint(1)",1,"1","","MUL"],["performance_score","decimal(3,2)",1,"0.00","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_active",0,["is_active"]],["idx_type",0,["dashboard_type"]],["PRIMARY",1,["id"]]]},"dev_memory_systems":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["memory_type","enum('redis','vector','database','file_cache','session')",1,"'database'","","MUL"],["key_pattern","varchar(255)",1,"NULL","",""],["data_structure","longtext",1,"NULL","",""],["access_frequency","int(11)",1,"0","","MUL"],["cache_hit_ratio","decimal(5,4)",1,"0.0000","",""],["performance_ms","decimal(8,3)",1,"0.000","","MUL"],["optimization_priority","int(11)",1,"1","",""],["created_at","timestamp",0,"current_timestamp()","",""],["last_accessed","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_frequency",0,["access_frequency"]],["idx_performance",0,["performance_ms"]],["idx_type",0,["memory_type"]],["PRIMARY",1,["id"]]]},"dev_vector_search":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["document_id","varchar(100)",1,"NULL","","MUL"],["content_type","varchar(50)",1,"NULL","","MUL"],["content_text","mediumtext",1,"NULL","","MUL"],["vector_embedding","longtext",1,"NULL","",""],["similarity_threshold","decimal(5,4)",1,"0.8000","",""],["search_frequency","int(11)",1,"0","",""],["last_search","timestamp",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["content_text",0,["content_text"]],["idx_content_type",0,["content_type"]],["idx_doc_id",0,["document_id"]],["PRIMARY",1,["id"]]]},"distributed_crawl_sessions":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["session_id","varchar(100)",0,null,"","UNI"],["website_id","int(11)",0,null,"","MUL"],["crawl_type","enum('random_browse','product_scan','price_check','inventory_scan')",1,"'random_browse'","","MUL"],["pages_visited","int(11)",1,"0","",""],["products_found","int(11)",1,"0","",""],["session_duration_seconds","int(11)",1,"0","",""],["avg_page_delay_seconds","decimal(5,2)",1,"0.00","",""],["human_behavior_score","decimal(3,2)",1,"0.00","",""],["detection_avoided","tinyint(1)",1,"1","",""],["data_collected","longtext",1,"NULL","",""],["screenshots_taken","int(11)",1,"0","",""],["videos_recorded","int(11)",1,"0","",""],["user_agent","varchar(500)",1,"NULL","",""],["ip_address","varchar(45)",1,"NULL","",""],["browser_profile","varchar(100)",1,"NULL","",""],["status","enum('planned','running','completed','failed','detected')",1,"'planned'","",""],["started_at","datetime",1,"NULL","","MUL"],["completed_at","datetime",1,"NULL","",""],["error_message","text",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_crawl_sessions_performance",0,["website_id","status","started_at"]],["idx_crawl_type",0,["crawl_type"]],["idx_session_time",0,["started_at","completed_at"]],["idx_website_status",0,["website_id","status"]],["PRIMARY",1,["id"]],["session_id",1,["session_id"]]],"F":[["distributed_crawl_sessions_ibfk_1",["website_id"],"nz_vape_websites",["id"],"RESTRICT","CASCADE"]]},"employee_hr_notes":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["date","varchar(45)",1,"NULL","",""],["time","varchar(45)",1,"NULL","",""],["created","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["by_user","int(11)",0,null,"",""],["subject","mediumtext",0,null,"",""],["note","mediumtext",0,null,"",""],["for_user","int(11)",0,null,"",""],["file_original_name","mediumtext",1,"NULL","",""],["file_stored_name","mediumtext",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"employee_of_month_submissions":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["date_submitted","timestamp",0,"current_timestamp()","",""],["staff_id","int(11)",0,null,"",""],["reason","mediumtext",0,null,"",""],["nominating_staff_id","int(11)",1,"NULL","",""],["submission_first_name","varchar(45)",0,null,"",""],["submission_last_name","varchar(45)",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"employee_other_documents":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["created","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["by_user","int(11)",0,null,"",""],["for_user","int(11)",0,null,"",""],["file_original_name","mediumtext",0,null,"",""],["file_stored_name","mediumtext",0,null,"",""],["removed","int(11)",0,"0","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"employee_reviews":{"C":[["employee_review_id","int(11)",0,null,"auto_increment","PRI"],["staff_id","varchar(45)",0,null,"",""],["review_created","timestamp",0,"current_timestamp()","",""],["date_to_be_performed","timestamp",0,"'0000-00-00 00:00:00'","",""],["review_completed_date","timestamp",1,"NULL","",""],["review_completed_by_staff","int(11)",1,"NULL","",""],["employee_to_do_review","int(11)",0,null,"",""],["status","int(11)",0,"0","",""],["supervisor_to_do_review","int(11)",0,null,"",""]],"P":["employee_review_id"],"K":[["PRIMARY",1,["employee_review_id"]]]},"employee_review_employee_evaluations":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["review_id","int(11)",0,null,"",""],["date_created","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"employee_review_employee_eval_answers":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["eval_id","int(11)",0,null,"",""],["question_id","int(11)",0,null,"",""],["answer","mediumtext",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"employee_review_manager_evaluations":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["review_id","int(11)",0,null,"",""],["date_created","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"employee_review_manager_eval_answers":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["eval_id","int(11)",0,null,"",""],["question_id","int(11)",0,null,"",""],["answer","mediumtext",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"employee_review_questions":{"C":[["employee_review_questions_id","int(11)",0,null,"auto_increment","PRI"],["type","varchar(45)",0,null,"",""],["name","varchar(45)",0,null,"",""],["desc","mediumtext",0,null,"",""],["category","int(11)",0,null,"",""],["active","int(11)",0,"1","",""],["employee_only","int(11)",0,"1","",""],["manager_only","int(11)",0,"0","",""],["supervisor_only","int(11)",0,"0","",""]],"P":["employee_review_questions_id"],"K":[["PRIMARY",1,["employee_review_questions_id"]]]},"employee_review_question_categories":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["title","varchar(45)",0,null,"",""],["active","int(11)",0,"1","",""],["input_type","varchar(45)",0,"'ranking'","",""],["employee_only","int(11)",1,"1","",""],["manager_only","int(11)",1,"1","",""],["supervisor_only","int(11)",1,"1","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"employee_review_supervisor_evaluations":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["review_id","int(11)",0,null,"",""],["date_created","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"employee_review_supervisor_eval_answers":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["eval_id","int(11)",0,null,"",""],["question_id","int(11)",0,null,"",""],["answer","mediumtext",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"employee_scores":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["staff_id","int(11)",0,null,"","MUL"],["award_type","int(11)",0,null,"","MUL"],["date_awarded","timestamp",0,"current_timestamp()","on update current_timestamp()","MUL"],["value","mediumtext",1,"NULL","",""]],"P":["id"],"K":[["idx_award_staff_date",0,["award_type","staff_id","date_awarded"]],["idx_date_awarded",0,["date_awarded"]],["idx_staff_award",0,["staff_id","award_type"]],["PRIMARY",1,["id"]]]},"employee_sign_up":{"C":[["first_name","varchar(100)",0,null,"",""],["middle_name","varchar(100)",0,null,"",""],["last_name","varchar(100)",0,null,"",""],["physical_address","varchar(100)",0,null,"",""],["dob","varchar(100)",0,null,"",""],["email","varchar(100)",0,null,"",""],["mobile","varchar(100)",0,null,"",""],["emergency_name","varchar(100)",0,null,"",""],["emergency_phone","varchar(100)",0,null,"",""],["emergency_relationship","varchar(100)",0,null,"",""],["ird_number","varchar(100)",0,null,"",""],["tax_code","varchar(100)",0,null,"",""],["bank_account_no","varchar(100)",0,null,"",""],["bank_account_name","varchar(100)",0,null,"",""],["staff_password","varchar(100)",0,null,"",""],["user_id","int(11)",0,null,"auto_increment","PRI"],["archived","int(11)",0,"0","",""],["deleted","int(11)",0,"0","",""]],"P":["user_id"],"K":[["PRIMARY",1,["user_id"]]]},"extracted_invoices":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["gmail_scan_id","int(11)",0,null,"","MUL"],["invoice_number","varchar(100)",1,"NULL","","MUL"],["invoice_date","date",1,"NULL","","MUL"],["due_date","date",1,"NULL","",""],["total_amount","decimal(10,2)",1,"NULL","","MUL"],["gst_amount","decimal(10,2)",1,"NULL","",""],["net_amount","decimal(10,2)",1,"NULL","",""],["currency_code","varchar(3)",1,"'NZD'","",""],["supplier_name","varchar(255)",1,"NULL","","MUL"],["supplier_address","text",1,"NULL","",""],["supplier_email","varchar(255)",1,"NULL","",""],["supplier_phone","varchar(50)",1,"NULL","",""],["supplier_account_number","varchar(100)",1,"NULL","",""],["payment_terms","varchar(100)",1,"NULL","",""],["payment_method","varchar(50)",1,"NULL","",""],["bank_account","varchar(100)",1,"NULL","",""],["line_items","longtext",1,"NULL","",""],["extraction_confidence","int(11)",1,"0","","MUL"],["extraction_method","enum('pdf','ocr','html','manual')",1,"'pdf'","",""],["verification_status","enum('pending','verified','flagged','rejected')",1,"'pending'","","MUL"],["xero_contact_id","varchar(100)",1,"NULL","","MUL"],["xero_invoice_id","varchar(100)",1,"NULL","",""],["xero_status","varchar(50)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["verified_at","timestamp",1,"NULL","",""]],"P":["id"],"K":[["idx_extraction_confidence",0,["extraction_confidence"]],["idx_gmail_scan_id",0,["gmail_scan_id"]],["idx_invoice_date",0,["invoice_date"]],["idx_invoice_number",0,["invoice_number"]],["idx_supplier_name",0,["supplier_name"]],["idx_total_amount",0,["total_amount"]],["idx_verification_status",0,["verification_status"]],["idx_xero_contact_id",0,["xero_contact_id"]],["PRIMARY",1,["id"]]],"F":[["extracted_invoices_ibfk_1",["gmail_scan_id"],"gmail_invoice_scans",["id"],"RESTRICT","CASCADE"]]},"faulty_products":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["product_id","varchar(45)",0,null,"",""],["serial_number","varchar(100)",1,"NULL","",""],["fault_desc","mediumtext",0,null,"",""],["staff_member","varchar(45)",0,null,"",""],["store_location","varchar(100)",0,null,"",""],["time_created","timestamp",0,"current_timestamp()","",""],["status","int(11)",0,"1","",""],["supplier_status","int(11)",0,"0","",""],["supplier_update_status","int(11)",0,"0","",""],["supplier_status_timestamp","timestamp",1,"NULL","",""],["wholesale_customer_submitted_id","int(11)",0,"0","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"faulty_products_store_reminders":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["store_id","varchar(45)",0,null,"",""],["user_id","int(11)",0,null,"",""],["time_created","timestamp",0,"current_timestamp()","",""],["status","int(11)",0,"0","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"faulty_product_media_uploads":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["fileName","varchar(255)",0,null,"",""],["upload_time","timestamp",0,"current_timestamp()","",""],["fault_id","int(11)",0,null,"","MUL"],["tempFileName","varchar(255)",0,null,"",""]],"P":["id"],"K":[["faultID_idx",0,["fault_id"]],["PRIMARY",1,["id"]]],"F":[["faultID",["fault_id"],"faulty_products",["id"],"NO ACTION","CASCADE"]]},"file_tracker":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["file_id","varchar(16)",0,null,"","UNI"],["neutral_id","varchar(16)",0,null,"","UNI"],["scope","varchar(32)",0,null,"",""],["filename","varchar(255)",0,null,"",""],["filepath","mediumtext",0,null,"",""],["full_path","mediumtext",0,null,"",""],["version","varchar(16)",1,"'1.0.0'","",""],["file_size","int(11)",1,"NULL","",""],["line_count","int(11)",1,"NULL","",""],["comment_lines","int(11)",1,"NULL","",""],["hash_crc32","varchar(16)",1,"NULL","",""],["last_updated","datetime",1,"current_timestamp()","",""],["created_by","varchar(64)",1,"'interpreter'","",""]],"P":["id"],"K":[["file_id",1,["file_id"]],["PRIMARY",1,["id"]],["unique_neutral",1,["neutral_id"]]]},"flagged_products":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["product_id","varchar(100)",0,null,"","MUL"],["outlet","varchar(100)",0,null,"","MUL"],["reason","varchar(100)",1,"NULL","",""],["date_flagged","timestamp",0,"current_timestamp()","",""],["date_completed_stocktake","timestamp",1,"NULL","",""],["completed_by_staff","int(11)",1,"NULL","","MUL"],["qty_before","int(11)",1,"0","",""],["qty_after","int(11)",1,"NULL","",""],["dummy_product","int(11)",1,"0","",""]],"P":["id"],"K":[["idx_flagged_products_outlet_completed",0,["outlet","date_completed_stocktake","dummy_product"]],["idx_flagged_products_product_outlet",0,["product_id","outlet","date_completed_stocktake"]],["idx_flagged_products_staff_date",0,["completed_by_staff","date_completed_stocktake"]],["PRIMARY",1,["id"]],["staffCompletedByID",0,["completed_by_staff"]]]},"foundation_health_reports":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["foundation_id","varchar(50)",0,null,"","MUL"],["health_data","longtext",0,null,"",""],["overall_score","decimal(5,2)",0,null,"","MUL"],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_created_at",0,["created_at"]],["idx_foundation_id",0,["foundation_id"]],["idx_overall_score",0,["overall_score"]],["PRIMARY",1,["id"]]]},"freight_rules":{"C":[["container_id","int(11)",0,null,"","PRI"],["max_weight_grams","int(11)",1,"NULL","","MUL"],["max_units","int(11)",1,"NULL","",""],["cost","decimal(10,2)",0,"0.01","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["container_id"],"K":[["idx_fr_container_id",0,["container_id"]],["ix_fr_cap_cost",0,["max_weight_grams","cost"]],["ix_fr_cost",0,["cost"]],["PRIMARY",1,["container_id"]]],"F":[["fk_fr_container",["container_id"],"containers",["container_id"],"CASCADE","RESTRICT"]]},"freight_rules_compat":{"C":[["container","varchar(251)",1,"NULL","",""],["max_weight_grams","int(11)",1,"NULL","",""],["max_units","binary(0)",1,"NULL","",""],["cost","decimal(10,2)",0,null,"",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","",""]]},"gamification_stats":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["user_id","int(11)",1,"NULL","","MUL"],["store_id","varchar(100)",1,"NULL","","MUL"],["stat_type","varchar(50)",1,"NULL","",""],["stat_value","decimal(16,6)",1,"NULL","",""],["week_key","varchar(20)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_store_week",0,["store_id","week_key"]],["idx_user_week",0,["user_id","week_key"]],["PRIMARY",1,["id"]]]},"gf_activities":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["staff_id","varchar(50)",0,null,"","MUL"],["activity_type","varchar(50)",0,null,"","MUL"],["activity_description","mediumtext",1,"NULL","",""],["points_earned","int(11)",1,"0","",""],["metadata","longtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_activity_type",0,["activity_type"]],["idx_staff_activities",0,["staff_id","created_at"]],["PRIMARY",1,["id"]]]},"gf_analytics_events":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["event_type","varchar(100)",0,null,"","MUL"],["event_category","varchar(100)",1,"NULL","",""],["staff_id","varchar(50)",1,"NULL","","MUL"],["outlet_id","int(11)",1,"NULL","","MUL"],["event_data","longtext",1,"NULL","",""],["session_id","varchar(100)",1,"NULL","",""],["user_agent","mediumtext",1,"NULL","",""],["ip_address","varchar(45)",1,"NULL","",""],["timestamp","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_analytics_outlet",0,["outlet_id","timestamp"]],["idx_analytics_staff",0,["staff_id","timestamp"]],["idx_analytics_type",0,["event_type","timestamp"]],["PRIMARY",1,["id"]]]},"gf_badges":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["category_id","int(11)",0,null,"","MUL"],["badge_name","varchar(255)",0,null,"",""],["badge_code","varchar(100)",0,null,"","UNI"],["description","mediumtext",1,"NULL","",""],["icon_emoji","varchar(20)",1,"NULL","",""],["icon_image","varchar(255)",1,"NULL","",""],["rarity","enum('common','uncommon','rare','epic','legendary')",1,"'common'","","MUL"],["points_value","int(11)",1,"0","","MUL"],["unlock_criteria","longtext",1,"NULL","",""],["is_hidden","tinyint(1)",1,"0","",""],["is_active","tinyint(1)",1,"1","",""],["created_by","varchar(50)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["badge_code",1,["badge_code"]],["category_id",0,["category_id"]],["idx_badge_points",0,["points_value"]],["idx_badge_rarity",0,["rarity","is_active"]],["PRIMARY",1,["id"]]],"F":[["gf_badges_ibfk_1",["category_id"],"gf_badge_categories",["id"],"RESTRICT","CASCADE"]]},"gf_badge_categories":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["category_name","varchar(100)",0,null,"",""],["category_code","varchar(50)",0,null,"","UNI"],["description","mediumtext",1,"NULL","",""],["icon_class","varchar(100)",1,"NULL","",""],["color_theme","varchar(50)",1,"NULL","",""],["rarity","enum('common','uncommon','rare','epic','legendary')",1,"'common'","",""],["is_active","tinyint(1)",1,"1","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["category_code",1,["category_code"]],["PRIMARY",1,["id"]]]},"gf_challenges":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["challenge_code","varchar(100)",0,null,"","UNI"],["type_id","int(11)",0,null,"","MUL"],["title","varchar(255)",0,null,"",""],["description","mediumtext",1,"NULL","",""],["instructions","mediumtext",1,"NULL","",""],["success_criteria","longtext",1,"NULL","",""],["difficulty","enum('beginner','easy','medium','hard','expert','legendary')",1,"'medium'","","MUL"],["points_value","int(11)",0,"0","",""],["bonus_points","longtext",1,"NULL","",""],["time_limit_minutes","int(11)",1,"NULL","",""],["max_attempts","int(11)",1,"NULL","",""],["is_repeatable","tinyint(1)",1,"0","",""],["repeat_interval_days","int(11)",1,"NULL","",""],["target_audience","longtext",1,"NULL","",""],["prerequisites","longtext",1,"NULL","",""],["resources","longtext",1,"NULL","",""],["created_by","varchar(50)",1,"NULL","",""],["approved_by","varchar(50)",1,"NULL","",""],["approval_status","enum('draft','pending','approved','rejected')",1,"'draft'","",""],["is_active","tinyint(1)",1,"1","","MUL"],["start_date","timestamp",1,"NULL","","MUL"],["end_date","timestamp",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["challenge_code",1,["challenge_code"]],["idx_challenge_active",0,["is_active","approval_status"]],["idx_challenge_dates",0,["start_date","end_date"]],["idx_challenge_difficulty",0,["difficulty","points_value"]],["PRIMARY",1,["id"]],["type_id",0,["type_id"]]],"F":[["gf_challenges_ibfk_1",["type_id"],"gf_challenge_types",["id"],"RESTRICT","CASCADE"]]},"gf_challenge_categories":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["category_name","varchar(100)",0,null,"",""],["category_code","varchar(50)",0,null,"","UNI"],["description","mediumtext",1,"NULL","",""],["icon_class","varchar(100)",1,"NULL","",""],["color_scheme","varchar(50)",1,"NULL","",""],["is_active","tinyint(1)",1,"1","",""],["sort_order","int(11)",1,"0","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["category_code",1,["category_code"]],["PRIMARY",1,["id"]]]},"gf_challenge_types":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["category_id","int(11)",0,null,"","MUL"],["type_name","varchar(100)",0,null,"",""],["type_code","varchar(50)",0,null,"","UNI"],["description","mediumtext",1,"NULL","",""],["difficulty_range","longtext",1,"NULL","",""],["point_range","longtext",1,"NULL","",""],["duration_range","longtext",1,"NULL","",""],["requirements","longtext",1,"NULL","",""],["is_active","tinyint(1)",1,"1","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["category_id",0,["category_id"]],["idx_challenge_active",0,["is_active","category_id"]],["PRIMARY",1,["id"]],["type_code",1,["type_code"]]],"F":[["gf_challenge_types_ibfk_1",["category_id"],"gf_challenge_categories",["id"],"RESTRICT","CASCADE"]]},"gf_collective_knowledge":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["knowledge_type","enum('pattern','solution','best_practice','insight','tip','warning')",0,null,"","MUL"],["title","varchar(255)",0,null,"",""],["description","mediumtext",1,"NULL","",""],["knowledge_data","longtext",1,"NULL","",""],["source_type","enum('user_behavior','challenge_completion','performance_analysis','neural_sensor','manual')",0,null,"",""],["confidence_score","decimal(3,2)",1,"0.50","",""],["usage_count","int(11)",1,"0","","MUL"],["success_rate","decimal(5,2)",1,"0.00","",""],["applicable_to","longtext",1,"NULL","",""],["created_from_staff_id","varchar(50)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["last_used","timestamp",0,"'0000-00-00 00:00:00'","",""]],"P":["id"],"K":[["idx_knowledge_type",0,["knowledge_type","confidence_score"]],["idx_knowledge_usage",0,["usage_count","success_rate"]],["PRIMARY",1,["id"]]]},"gf_competitions":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["competition_name","varchar(255)",0,null,"",""],["competition_type","enum('individual','team','store_vs_store','department','company_wide')",1,"'individual'","",""],["description","mediumtext",1,"NULL","",""],["rules","longtext",1,"NULL","",""],["scoring_system","longtext",1,"NULL","",""],["prize_structure","longtext",1,"NULL","",""],["start_date","timestamp",0,"current_timestamp()","on update current_timestamp()","MUL"],["end_date","timestamp",0,"'0000-00-00 00:00:00'","",""],["registration_deadline","timestamp",0,"'0000-00-00 00:00:00'","",""],["max_participants","int(11)",1,"NULL","",""],["entry_requirements","longtext",1,"NULL","",""],["status","enum('upcoming','registration_open','active','completed','cancelled')",1,"'upcoming'","","MUL"],["created_by","varchar(50)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_competition_dates",0,["start_date","end_date"]],["idx_competition_status",0,["status","start_date"]],["PRIMARY",1,["id"]]]},"gf_competition_participants":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["competition_id","int(11)",0,null,"","MUL"],["participant_type","enum('individual','team','store')",0,null,"",""],["participant_id","varchar(50)",0,null,"",""],["participant_name","varchar(255)",1,"NULL","",""],["registration_date","timestamp",0,"current_timestamp()","",""],["current_score","decimal(10,2)",1,"0.00","",""],["current_rank","int(11)",1,"NULL","",""],["is_active","tinyint(1)",1,"1","",""]],"P":["id"],"K":[["idx_participant_rank",0,["competition_id","current_rank"]],["idx_participant_score",0,["competition_id","current_score"]],["PRIMARY",1,["id"]]],"F":[["gf_competition_participants_ibfk_1",["competition_id"],"gf_competitions",["id"],"RESTRICT","CASCADE"]]},"gf_leaderboards":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["leaderboard_name","varchar(255)",0,null,"",""],["leaderboard_type","enum('points','badges','challenges','custom')",0,null,"",""],["scope","enum('global','outlet','department','role')",0,null,"","MUL"],["scope_value","varchar(100)",1,"NULL","",""],["time_period","enum('daily','weekly','monthly','quarterly','yearly','all_time')",0,null,"",""],["calculation_method","longtext",1,"NULL","",""],["display_settings","longtext",1,"NULL","",""],["is_active","tinyint(1)",1,"1","",""],["auto_update","tinyint(1)",1,"1","",""],["last_updated","timestamp",0,"current_timestamp()","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_leaderboard_scope",0,["scope","scope_value","time_period"]],["PRIMARY",1,["id"]]]},"gf_leaderboard_cache":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["staff_id","varchar(50)",0,null,"","UNI"],["total_points","int(11)",1,"0","",""],["rank_position","int(11)",1,"0","","MUL"],["outlet_rank","int(11)",1,"0","","MUL"],["last_updated","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_leaderboard_rank",0,["rank_position"]],["idx_outlet_rank",0,["outlet_rank"]],["PRIMARY",1,["id"]],["unique_staff_leaderboard",1,["staff_id"]]]},"gf_leaderboard_entries":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["leaderboard_id","int(11)",0,null,"","MUL"],["staff_id","varchar(50)",0,null,"",""],["current_rank","int(11)",0,null,"",""],["previous_rank","int(11)",1,"NULL","",""],["score","decimal(15,2)",0,null,"",""],["score_change","decimal(15,2)",1,"0.00","",""],["additional_metrics","longtext",1,"NULL","",""],["last_updated","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_leaderboard_rank",0,["leaderboard_id","current_rank"]],["idx_leaderboard_score",0,["leaderboard_id","score"]],["PRIMARY",1,["id"]],["unique_leaderboard_staff",1,["leaderboard_id","staff_id"]]],"F":[["gf_leaderboard_entries_ibfk_1",["leaderboard_id"],"gf_leaderboards",["id"],"RESTRICT","CASCADE"]]},"gf_neural_insights":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["insight_type","enum('individual','team','outlet','company')",0,null,"","MUL"],["target_id","varchar(100)",0,null,"",""],["insight_category","varchar(100)",1,"NULL","",""],["insight_title","varchar(255)",1,"NULL","",""],["insight_description","mediumtext",1,"NULL","",""],["confidence_score","decimal(3,2)",1,"NULL","","MUL"],["supporting_data","longtext",1,"NULL","",""],["recommendations","longtext",1,"NULL","",""],["generated_by","enum('ai','algorithm','human')",1,"'ai'","",""],["generated_at","timestamp",0,"current_timestamp()","",""],["is_actionable","tinyint(1)",1,"0","",""],["action_taken","tinyint(1)",1,"0","",""]],"P":["id"],"K":[["idx_insights_confidence",0,["confidence_score","is_actionable"]],["idx_insights_target",0,["insight_type","target_id","generated_at"]],["PRIMARY",1,["id"]]]},"gf_neural_sensors":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["sensor_name","varchar(255)",0,null,"",""],["sensor_type","enum('behavior','performance','emotion','engagement','learning','biometric')",0,null,"","MUL"],["description","mediumtext",1,"NULL","",""],["data_schema","longtext",1,"NULL","",""],["collection_frequency","enum('real_time','hourly','daily','weekly','on_demand')",1,"'real_time'","",""],["privacy_level","enum('public','anonymized','restricted','confidential')",1,"'anonymized'","",""],["is_active","tinyint(1)",1,"1","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_sensor_type",0,["sensor_type","is_active"]],["PRIMARY",1,["id"]]]},"gf_neural_sensor_data":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["sensor_id","int(11)",0,null,"","MUL"],["staff_id","varchar(50)",0,null,"",""],["outlet_id","int(11)",1,"NULL","","MUL"],["sensor_reading","longtext",0,null,"",""],["context_data","longtext",1,"NULL","",""],["timestamp","timestamp",0,"current_timestamp()","",""],["processed","tinyint(1)",1,"0","","MUL"]],"P":["id"],"K":[["idx_sensor_data",0,["sensor_id","staff_id","timestamp"]],["idx_sensor_outlet",0,["outlet_id","timestamp"]],["idx_sensor_processed",0,["processed","timestamp"]],["PRIMARY",1,["id"]]],"F":[["gf_neural_sensor_data_ibfk_1",["sensor_id"],"gf_neural_sensors",["id"],"RESTRICT","CASCADE"]]},"gf_notifications":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["recipient_staff_id","varchar(50)",0,null,"","MUL"],["notification_type","enum('challenge','achievement','competition','social','system','ai_insight')",0,null,"","MUL"],["title","varchar(255)",0,null,"",""],["message","mediumtext",1,"NULL","",""],["action_url","varchar(500)",1,"NULL","",""],["action_text","varchar(100)",1,"NULL","",""],["priority","enum('low','medium','high','urgent')",1,"'medium'","",""],["delivery_method","longtext",1,"NULL","",""],["is_read","tinyint(1)",1,"0","",""],["read_at","timestamp",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["expires_at","timestamp",1,"NULL","",""]],"P":["id"],"K":[["idx_notifications_recipient",0,["recipient_staff_id","is_read","created_at"]],["idx_notifications_type",0,["notification_type","created_at"]],["PRIMARY",1,["id"]]]},"gf_performance_metrics":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["metric_name","varchar(100)",0,null,"","MUL"],["metric_type","enum('individual','team','outlet','company')",0,null,"","MUL"],["target_id","varchar(100)",0,null,"",""],["metric_value","decimal(15,4)",0,null,"",""],["metric_unit","varchar(50)",1,"NULL","",""],["calculation_method","mediumtext",1,"NULL","",""],["measurement_period_start","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["measurement_period_end","timestamp",0,"'0000-00-00 00:00:00'","",""],["recorded_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_metrics_name",0,["metric_name","recorded_at"]],["idx_metrics_target",0,["metric_type","target_id","recorded_at"]],["PRIMARY",1,["id"]]]},"gf_personalized_ai_profiles":{"C":[["staff_id","varchar(50)",0,null,"","PRI"],["learning_style","longtext",1,"NULL","",""],["communication_preferences","longtext",1,"NULL","",""],["motivation_factors","longtext",1,"NULL","",""],["skill_assessments","longtext",1,"NULL","",""],["performance_patterns","longtext",1,"NULL","",""],["challenge_preferences","longtext",1,"NULL","",""],["ai_interaction_history","longtext",1,"NULL","",""],["collective_contributions","int(11)",1,"0","","MUL"],["last_ai_interaction","timestamp",0,"current_timestamp()","on update current_timestamp()","MUL"],["profile_updated","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["staff_id"],"K":[["idx_ai_interaction",0,["last_ai_interaction"]],["idx_contributions",0,["collective_contributions"]],["PRIMARY",1,["staff_id"]]]},"gf_point_balances":{"C":[["staff_id","varchar(50)",0,null,"","PRI"],["total_points","int(11)",1,"0","","MUL"],["available_points","int(11)",1,"0","",""],["lifetime_earned","int(11)",1,"0","",""],["lifetime_spent","int(11)",1,"0","",""],["current_level","int(11)",1,"1","","MUL"],["level_progress","decimal(5,2)",1,"0.00","",""],["last_activity","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["staff_id"],"K":[["idx_level",0,["current_level","level_progress"]],["idx_total_points",0,["total_points"]],["PRIMARY",1,["staff_id"]]]},"gf_point_transactions":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["staff_id","varchar(50)",0,null,"","MUL"],["transaction_type","enum('earned','spent','bonus','penalty','transfer','adjustment')",0,null,"",""],["points_amount","int(11)",0,null,"",""],["source_type","enum('challenge','competition','achievement','manual','system','neural_sensor')",0,null,"","MUL"],["source_id","varchar(100)",1,"NULL","",""],["description","mediumtext",1,"NULL","",""],["metadata","longtext",1,"NULL","",""],["outlet_id","int(11)",1,"NULL","","MUL"],["processed_by","varchar(50)",1,"NULL","",""],["transaction_date","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_outlet_points",0,["outlet_id","transaction_date"]],["idx_point_source",0,["source_type","source_id"]],["idx_staff_points",0,["staff_id","transaction_date"]],["PRIMARY",1,["id"]]]},"gf_projects":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["project_name","varchar(255)",0,null,"",""],["project_code","varchar(50)",0,null,"","UNI"],["description","mediumtext",1,"NULL","",""],["project_type","enum('gamification','ai_learning','neural_sensor','hybrid')",1,"'gamification'","",""],["status","enum('planning','active','paused','completed','archived')",1,"'planning'","","MUL"],["priority","enum('low','medium','high','critical')",1,"'medium'","",""],["start_date","date",1,"NULL","","MUL"],["end_date","date",1,"NULL","",""],["budget","decimal(10,2)",1,"NULL","",""],["created_by","varchar(50)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_project_dates",0,["start_date","end_date"]],["idx_project_status",0,["status","priority"]],["PRIMARY",1,["id"]],["project_code",1,["project_code"]]]},"gf_social_interactions":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["post_id","int(11)",0,null,"","MUL"],["staff_id","varchar(50)",0,null,"",""],["interaction_type","enum('like','comment','share','bookmark')",0,null,"",""],["content","mediumtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_social_interactions",0,["post_id","interaction_type","created_at"]],["PRIMARY",1,["id"]],["unique_post_staff_interaction",1,["post_id","staff_id","interaction_type"]]],"F":[["gf_social_interactions_ibfk_1",["post_id"],"gf_social_posts",["id"],"RESTRICT","CASCADE"]]},"gf_social_posts":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["author_staff_id","varchar(50)",0,null,"","MUL"],["post_type","enum('achievement','tip','question','celebration','challenge_completion','general')",0,null,"",""],["title","varchar(255)",1,"NULL","",""],["content","mediumtext",1,"NULL","",""],["media_attachments","longtext",1,"NULL","",""],["visibility","enum('public','team','outlet','private')",1,"'public'","",""],["outlet_id","int(11)",1,"NULL","","MUL"],["tags","longtext",1,"NULL","",""],["likes_count","int(11)",1,"0","","MUL"],["comments_count","int(11)",1,"0","",""],["shares_count","int(11)",1,"0","",""],["is_pinned","tinyint(1)",1,"0","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_social_author",0,["author_staff_id","created_at"]],["idx_social_outlet",0,["outlet_id","visibility","created_at"]],["idx_social_popular",0,["likes_count","comments_count"]],["PRIMARY",1,["id"]]]},"gf_staff_badges":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["staff_id","varchar(50)",0,null,"","MUL"],["badge_id","int(11)",0,null,"","MUL"],["earned_date","timestamp",0,"current_timestamp()","",""],["earned_context","longtext",1,"NULL","",""],["points_awarded","int(11)",1,"0","",""],["is_featured","tinyint(1)",1,"0","","MUL"]],"P":["id"],"K":[["badge_id",0,["badge_id"]],["idx_featured_badges",0,["is_featured","earned_date"]],["idx_staff_badges",0,["staff_id","earned_date"]],["PRIMARY",1,["id"]],["unique_staff_badge",1,["staff_id","badge_id"]]],"F":[["gf_staff_badges_ibfk_1",["badge_id"],"gf_badges",["id"],"RESTRICT","CASCADE"]]},"gf_staff_challenges":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["staff_id","varchar(50)",0,null,"","MUL"],["challenge_id","int(11)",0,null,"",""],["joined_date","timestamp",0,"current_timestamp()","",""],["completed_date","timestamp",1,"NULL","",""],["progress_percentage","decimal(5,2)",1,"0.00","",""],["points_earned","int(11)",1,"0","",""],["status","enum('active','completed','abandoned')",1,"'active'","",""]],"P":["id"],"K":[["idx_staff_challenges",0,["staff_id","status"]],["PRIMARY",1,["id"]],["unique_staff_challenge",1,["staff_id","challenge_id"]]]},"gf_system_settings":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["setting_category","varchar(100)",0,null,"","MUL"],["setting_key","varchar(100)",0,null,"",""],["setting_value","longtext",1,"NULL","",""],["description","mediumtext",1,"NULL","",""],["data_type","enum('string','number','boolean','array','object')",1,"'string'","",""],["is_public","tinyint(1)",1,"0","",""],["updated_by","varchar(50)",1,"NULL","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_settings_category",0,["setting_category","is_public"]],["PRIMARY",1,["id"]],["unique_category_key",1,["setting_category","setting_key"]]]},"github_agents":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["agent_id","varchar(255)",0,null,"","UNI"],["agent_type","enum('copilot_pr','copilot_review','copilot_debug','copilot_custom')",1,"'copilot_pr'","",""],["repository_name","varchar(255)",0,null,"","MUL"],["repository_id","int(11)",1,"NULL","",""],["pr_number","int(11)",1,"NULL","","MUL"],["pr_title","text",1,"NULL","",""],["pr_url","varchar(500)",1,"NULL","",""],["branch_name","varchar(255)",1,"NULL","",""],["author_username","varchar(255)",1,"NULL","",""],["author_avatar_url","varchar(500)",1,"NULL","",""],["status","enum('initializing','active','paused','completed','error')",1,"'initializing'","","MUL"],["health_score","decimal(5,2)",1,"100.00","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["last_activity_at","timestamp",1,"NULL","",""],["metadata","longtext",1,"NULL","",""],["configuration","longtext",1,"NULL","",""]],"P":["id"],"K":[["agent_id",1,["agent_id"]],["idx_agent_id",0,["agent_id"]],["idx_agent_repo_status",0,["repository_name","status"]],["idx_created",0,["created_at"]],["idx_pr_number",0,["pr_number"]],["idx_repository",0,["repository_name"]],["idx_status",0,["status"]],["PRIMARY",1,["id"]]]},"github_webhooks":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["webhook_id","varchar(255)",1,"NULL","",""],["event_type","varchar(100)",0,null,"","MUL"],["action","varchar(100)",1,"NULL","",""],["repository_name","varchar(255)",1,"NULL","","MUL"],["repository_id","int(11)",1,"NULL","",""],["sender_username","varchar(255)",1,"NULL","",""],["pr_number","int(11)",1,"NULL","",""],["commit_sha","varchar(255)",1,"NULL","",""],["payload","longtext",1,"NULL","",""],["headers","longtext",1,"NULL","",""],["processing_status","enum('received','processing','processed','failed')",1,"'received'","","MUL"],["agent_triggered","tinyint(1)",1,"0","",""],["received_at","timestamp",0,"current_timestamp()","","MUL"],["processed_at","timestamp",1,"NULL","",""]],"P":["id"],"K":[["idx_event_type",0,["event_type"]],["idx_received",0,["received_at"]],["idx_repository",0,["repository_name"]],["idx_status",0,["processing_status"]],["idx_webhook_processing",0,["processing_status","received_at"]],["PRIMARY",1,["id"]]]},"gmail_invoice_scans":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["message_id","varchar(255)",0,null,"","MUL"],["thread_id","varchar(255)",1,"NULL","",""],["subject","text",1,"NULL","",""],["sender","varchar(255)",1,"NULL","","MUL"],["recipient","varchar(255)",1,"NULL","",""],["date_received","timestamp",1,"NULL","","MUL"],["body_text","text",1,"NULL","",""],["body_html","longtext",1,"NULL","",""],["attachment_count","int(11)",1,"0","",""],["attachment_name","varchar(255)",1,"NULL","",""],["attachment_type","varchar(100)",1,"NULL","",""],["attachment_size","int(11)",1,"NULL","",""],["attachment_content","longblob",1,"NULL","",""],["company_mentions","text",1,"NULL","",""],["confidence_score","int(11)",1,"0","",""],["invoice_indicators","text",1,"NULL","",""],["processed","tinyint(1)",1,"0","","MUL"],["pdf_processed","tinyint(1)",1,"0","","MUL"],["extraction_confidence","int(11)",1,"0","",""],["extracted_data","longtext",1,"NULL","",""],["matched_transaction_id","int(11)",1,"NULL","",""],["match_confidence","decimal(5,2)",1,"NULL","",""],["match_status","enum('pending','matched','no_match','manual_review')",1,"'pending'","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["processed_at","timestamp",1,"NULL","",""],["ai_confidence","decimal(3,2)",1,"NULL","",""],["last_processed","timestamp",1,"NULL","","MUL"]],"P":["id"],"K":[["idx_date_received",0,["date_received"]],["idx_last_processed",0,["last_processed"]],["idx_match_status",0,["match_status"]],["idx_message_id",0,["message_id"]],["idx_pdf_processed",0,["pdf_processed"]],["idx_processed",0,["processed"]],["idx_sender",0,["sender"]],["PRIMARY",1,["id"]]]},"google_api":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["token","mediumtext",0,null,"",""],["refresh_token","mediumtext",1,"NULL","",""],["auth_code","mediumtext",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"google_reviews":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["reviewID","varchar(200)",0,null,"",""],["reviewer_photo","varchar(500)",1,"NULL","",""],["reviewer_name","varchar(45)",1,"NULL","",""],["starRating","varchar(45)",1,"NULL","",""],["comment","varchar(2048)",1,"NULL","",""],["created","varchar(45)",1,"NULL","",""],["name","varchar(200)",1,"NULL","",""],["location_id","varchar(100)",1,"NULL","",""],["scanned_by_employee_points","int(11)",0,"0","",""],["hide_from_website","int(11)",0,"0","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"gpt_memory":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["namespace","varchar(100)",1,"NULL","",""],["memory_key","varchar(100)",1,"NULL","",""],["memory_value","mediumtext",1,"NULL","",""],["last_updated","datetime",1,"current_timestamp()","on update current_timestamp()",""],["notes","mediumtext",1,"NULL","",""],["gpt_version","varchar(50)",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"gpt_tools":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["name","varchar(100)",0,null,"","UNI"],["title","varchar(200)",0,null,"",""],["enabled","tinyint(1)",0,"1","",""],["current_ver","bigint(20)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["name",1,["name"]],["PRIMARY",1,["id"]]]},"gpt_tool_audit":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["tool_id","bigint(20)",1,"NULL","","MUL"],["version","int(11)",1,"NULL","",""],["action","enum('create','update','publish','enable','disable','exec','lint_fail','block')",0,null,"",""],["actor","varchar(120)",0,null,"",""],["meta_json","longtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]],["tool_id",0,["tool_id","created_at"]]]},"gpt_tool_policies":{"C":[["tool_id","bigint(20)",0,null,"","PRI"],["rbac_roles","longtext",1,"NULL","",""],["ip_allow","longtext",1,"NULL","",""],["rate_cap_min","int(11)",1,"NULL","",""],["rate_cap_day","int(11)",1,"NULL","",""],["allow_tables","longtext",1,"NULL","",""],["jail_base","varchar(255)",1,"NULL","",""],["timeout_ms","int(11)",1,"NULL","",""]],"P":["tool_id"],"K":[["PRIMARY",1,["tool_id"]]],"F":[["fk_gtp_tool",["tool_id"],"gpt_tools",["id"],"RESTRICT","CASCADE"]]},"gpt_tool_versions":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["tool_id","bigint(20)",0,null,"","MUL"],["version","int(11)",0,null,"",""],["code_php","mediumtext",0,null,"",""],["code_sha256","char(64)",0,null,"",""],["meta_json","longtext",1,"NULL","",""],["published","tinyint(1)",0,"0","",""],["created_by","varchar(120)",0,null,"",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]],["tool_ver_unique",1,["tool_id","version"]]],"F":[["fk_gtv_tool",["tool_id"],"gpt_tools",["id"],"RESTRICT","CASCADE"]]},"harp_cas_number_database":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["cas_number","varchar(45)",0,null,"","UNI"],["cid_number","int(11)",0,null,"",""],["label","varchar(200)",0,null,"",""]],"P":["id"],"K":[["cas_number_UNIQUE",1,["cas_number"]],["PRIMARY",1,["id"]]]},"harp_container_size":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["label","varchar(45)",0,null,"",""],["value","decimal(6,1)",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"harp_flavour_list":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["label","varchar(200)",0,null,"",""],["active","int(11)",0,"1","",""],["deleted_at","timestamp",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"harp_msds_uploads":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["filename","mediumtext",0,null,"",""],["new_filename","mediumtext",0,null,"",""],["uploaded_at","timestamp",0,"current_timestamp()","",""],["uploaded_by","int(11)",0,null,"",""],["harp_product_id","int(11)",0,null,"",""],["deleted_at","timestamp",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"harp_nicotine_strengths":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["label","varchar(45)",0,null,"",""],["value","decimal(6,1)",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"harp_notified_products":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["register_id","varchar(200)",0,null,"","UNI"],["code","varchar(200)",0,null,"",""],["status","varchar(200)",0,null,"",""],["pgvg_ratio","varchar(200)",1,"NULL","",""],["product_brand","varchar(200)",1,"NULL","",""],["product_type","varchar(200)",1,"NULL","",""],["product_variant","varchar(200)",1,"NULL","",""],["product_upc","varchar(200)",1,"NULL","",""],["notified_date","timestamp",0,"'0000-00-00 00:00:00'","",""],["notified_date_expired","timestamp",0,"'0000-00-00 00:00:00'","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]],["uniqueIndex",1,["register_id"]]]},"harp_pgvg_ratios":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["vg","int(11)",0,null,"",""],["pg","int(11)",0,null,"",""],["active","int(11)",0,"1","",""],["label","varchar(45)",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"harp_products":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["product_type_id","int(11)",0,null,"",""],["vend_brand_id","varchar(45)",0,null,"",""],["product_name_label","varchar(100)",0,null,"",""],["harp_pgvg_ratios_id","int(11)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["status","int(11)",0,null,"",""],["deleted_at","timestamp",1,"NULL","",""],["harp_code_id","varchar(45)",1,"NULL","","UNI"],["uploaded_via_csv","int(11)",0,"0","",""],["internal_note","mediumtext",1,"NULL","",""],["is_disposable","int(11)",0,"0","",""]],"P":["id"],"K":[["HARPCodeUniqueIndex",1,["harp_code_id"]],["PRIMARY",1,["id"]]]},"harp_product_amendments":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["harp_product_id","int(11)",0,null,"",""],["old_value","mediumtext",1,"NULL","",""],["new_value","mediumtext",1,"NULL","",""],["label","mediumtext",0,null,"",""],["created_at","timestamp",1,"current_timestamp()","",""],["other_data","mediumtext",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"harp_product_components":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["harp_product_id","int(11)",0,null,"",""],["component_name","varchar(100)",0,null,"",""],["quantity","int(11)",0,null,"",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"harp_product_flavour_list":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["harp_product_id","varchar(45)",1,"NULL","","UNI"],["flavour_one_id","int(11)",0,null,"",""],["flavour_two_id","int(11)",1,"NULL","",""],["created_at","timestamp",1,"NULL","",""]],"P":["id"],"K":[["flavourProductIDIndex",1,["harp_product_id"]],["PRIMARY",1,["id"]]]},"harp_product_ingredients":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["harp_product_id","int(11)",0,null,"",""],["cas_number","varchar(100)",1,"NULL","",""],["ingredient_name","varchar(100)",0,null,"",""],["quantity_weight_per_ml","varchar(45)",0,null,"",""],["proprietary","int(11)",0,null,"",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"harp_product_status":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["label","varchar(100)",0,null,"",""],["active","int(11)",0,"1","",""],["sort","int(11)",0,"0","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"harp_product_types":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["label","varchar(45)",0,null,"",""],["active","int(11)",0,"1","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"harp_product_variants":{"C":[["harp_product_id","int(11)",0,null,"","PRI"],["vend_id","varchar(45)",0,null,"","PRI"],["harp_container_size_id","int(11)",1,"NULL","",""],["harp_nicotine_strength_id","int(11)",1,"NULL","",""],["use_vend_upc","int(11)",0,"1","",""],["custom_upc","varchar(100)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["harp_product_id","vend_id"],"K":[["PRIMARY",1,["harp_product_id","vend_id"]]]},"harp_vend_products":{"C":[["harp_id","int(11)",0,null,"","PRI"],["vend_id","varchar(45)",0,null,"","PRI"]],"P":["harp_id","vend_id"],"K":[["PRIMARY",1,["harp_id","vend_id"]]]},"house_juice_analysis":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["analysis_date","date",0,null,"","MUL"],["product_id","int(11)",0,null,"",""],["product_name","varchar(255)",0,null,"",""],["product_category","enum('vape_shed_premium_30ml','vape_shed_premium_60ml','vape_shed_premium_100ml','gamer_sauce_30ml','gamer_sauce_100ml')",0,null,"","MUL"],["current_price","decimal(10,2)",0,null,"",""],["competitor_average_price","decimal(10,2)",1,"NULL","",""],["price_positioning","enum('below_market','at_market','above_market')",1,"NULL","",""],["sales_before_increase","decimal(8,2)",1,"NULL","",""],["sales_after_increase","decimal(8,2)",1,"NULL","",""],["sales_impact_percent","decimal(6,2)",1,"NULL","","MUL"],["ai_price_impact_assessment","text",0,null,"",""],["ai_customer_feedback_analysis","text",1,"NULL","",""],["ai_recommended_action","text",0,null,"",""],["ai_competitive_position","text",1,"NULL","",""],["ai_confidence_score","decimal(3,2)",0,null,"",""],["recommended_price","decimal(10,2)",1,"NULL","",""],["expected_sales_improvement","decimal(6,2)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_analysis_date",0,["analysis_date"]],["idx_product_category",0,["product_category"]],["idx_sales_impact",0,["sales_impact_percent"]],["PRIMARY",1,["id"]],["unique_product_analysis_date",1,["analysis_date","product_id"]]]},"idempotency_keys":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["idem_key","varbinary(64)",0,null,"","UNI"],["request_hash","varbinary(64)",0,null,"",""],["response_json","longtext",0,null,"",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]],["u_idem",1,["idem_key"]]]},"imap_mail":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["date","varchar(100)",0,null,"",""],["subject","mediumtext",0,null,"",""],["in_reply_to","varchar(100)",0,null,"",""],["message_id","int(11)",0,null,"",""],["to_name","varchar(100)",0,null,"",""],["to_email","varchar(100)",0,null,"",""],["from_name","varchar(100)",0,null,"",""],["from_email","varchar(100)",1,"NULL","",""],["reply_name","varchar(100)",0,null,"",""],["reply_email","varchar(100)",0,null,"",""],["recent","tinyint(4)",0,null,"",""],["unseen","tinyint(4)",0,null,"",""],["flagged","tinyint(4)",0,null,"",""],["answered","tinyint(4)",0,null,"",""],["deleted","tinyint(4)",0,null,"",""],["draft","tinyint(4)",0,null,"",""],["msg_no","int(11)",0,null,"",""],["mail_date","varchar(45)",0,null,"",""],["size","int(11)",0,null,"",""],["udate","varchar(45)",0,null,"",""],["object_json","mediumtext",0,null,"",""],["body","mediumtext",1,"NULL","",""],["html","tinyint(4)",0,"0","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"incoming_orders":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["supplier_id","varchar(45)",0,null,"","MUL"],["order_no","mediumtext",1,"NULL","",""],["date_ordered","timestamp",1,"NULL","",""],["date_created","timestamp",0,"current_timestamp()","",""],["deleted","int(11)",0,"0","",""],["vend_sync_status","int(11)",0,"0","","MUL"],["sync_date","timestamp",1,"NULL","","MUL"],["file_name","varchar(45)",1,"NULL","",""],["outlet_to_stock","varchar(45)",0,null,"",""],["markup","int(11)",0,"0","",""],["customs_cost","decimal(13,5)",0,"0.00000","",""],["additional_costs","decimal(13,5)",0,"0.00000","",""],["total_order_cost_nz","decimal(13,5)",0,"0.00000","",""],["total_order_cost_us","decimal(13,5)",0,"0.00000","",""],["estimated_date_arrival","timestamp",1,"NULL","",""],["notes","mediumtext",1,"NULL","",""],["shipment_id","int(11)",0,"0","",""],["order_weight_in_kg","decimal(13,5)",0,"0.00000","",""],["order_credit_nzd","decimal(13,5)",0,"0.00000","",""]],"P":["id"],"K":[["idx_sync_status",0,["vend_sync_status","sync_date"]],["id_UNIQUE",1,["id"]],["ix_incoming_orders_supplier",0,["supplier_id"]],["ix_incoming_orders_sync",0,["sync_date"]],["ix_incoming_orders_sync_status",0,["vend_sync_status"]],["PRIMARY",1,["id"]]]},"incoming_order_products":{"C":[["incoming_product_primary_id","int(11)",0,null,"auto_increment","PRI"],["incoming_order_id","int(11)",0,null,"","MUL"],["incoming_product_id","mediumtext",1,"NULL","","MUL"],["incoming_qty","int(11)",0,null,"",""],["incoming_sku","mediumtext",1,"NULL","",""],["incoming_handle","mediumtext",1,"NULL","",""],["incoming_name","mediumtext",1,"NULL","",""],["incoming_retail_price","decimal(13,5)",1,"NULL","",""],["incoming_supply_price","decimal(13,5)",1,"NULL","",""],["incoming_new_product","int(11)",1,"0","",""],["incoming_usd_price","decimal(13,5)",1,"NULL","",""],["incoming_brand","varchar(45)",1,"NULL","",""],["has_updated_vend","int(11)",0,"0","",""],["has_created_new_products","int(11)",0,"0","",""],["has_updated_inventory","int(11)",0,"0","",""],["has_updated_cost","int(11)",0,"0","",""],["product_selected","int(11)",0,"0","",""],["delayed","int(11)",0,"0","",""]],"P":["incoming_product_primary_id"],"K":[["idx_product_id",0,["incoming_product_id"]],["IncomingOrdersKey_idx",0,["incoming_order_id"]],["ix_incoming_products_prod",0,["incoming_product_id"]],["PRIMARY",1,["incoming_product_primary_id"]]],"F":[["incomingOrders",["incoming_order_id"],"incoming_orders",["id"],"NO ACTION","CASCADE"]]},"incoming_shipments":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["date_created","timestamp",0,"current_timestamp()","",""],["estimated_arrival","timestamp",1,"NULL","",""],["status","int(11)",0,"0","",""],["shipment_freight_cost_nz","decimal(13,5)",0,"0.00000","",""],["shipment_customs_cost_nz","decimal(13,5)",0,"0.00000","",""],["shipment_pricing_method","int(11)",0,"0","",""],["shipment_number","varchar(200)",1,"NULL","",""],["shipment_notes","blob",1,"NULL","",""],["product_pricing_method","int(11)",0,"0","",""],["excel_data","longtext",1,"NULL","",""],["excel_last_edited","timestamp",1,"NULL","",""],["excel_last_edited_user_id","int(11)",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"intelligent_email_analysis":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["message_id","varchar(255)",0,null,"",""],["subject","text",0,null,"",""],["sender","varchar(255)",0,null,"",""],["date_received","datetime",0,null,"","MUL"],["body_text","text",1,"NULL","",""],["category","varchar(100)",0,"'general'","","MUL"],["priority","enum('critical','high','medium','low')",1,"'medium'","","MUL"],["urgency_score","decimal(3,2)",1,"0.00","","MUL"],["business_relevance","decimal(3,2)",1,"0.00","",""],["gpt_analysis","longtext",1,"NULL","",""],["processing_status","enum('pending','analyzed','actioned','archived')",1,"'pending'","","MUL"],["has_attachments","tinyint(1)",1,"0","",""],["attachment_count","int(11)",1,"0","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_category",0,["category"]],["idx_date_received",0,["date_received"]],["idx_priority",0,["priority"]],["idx_processing_status",0,["processing_status"]],["idx_urgency",0,["urgency_score"]],["PRIMARY",1,["id"]]]},"intelligent_transfer_analysis":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["analysis_date","date",0,null,"","UNI"],["stores_analyzed","int(11)",1,"0","",""],["transfer_opportunities_found","int(11)",1,"0","",""],["transfers_recommended","int(11)",1,"0","",""],["market_demand_analysis","longtext",1,"NULL","",""],["stock_imbalance_analysis","longtext",1,"NULL","",""],["transfer_recommendations","longtext",1,"NULL","",""],["transfers_executed","int(11)",1,"0","",""],["total_value_transferred","decimal(12,2)",1,"0.00","",""],["estimated_sales_impact","decimal(12,2)",1,"0.00","",""],["execution_time_seconds","decimal(8,3)",1,"NULL","",""],["ai_confidence_score","decimal(3,2)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_created_date",0,["created_at"]],["PRIMARY",1,["id"]],["unique_analysis_date",1,["analysis_date"]]]},"inventory_adjust_requests":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["transfer_id","int(11)",0,null,"","MUL"],["outlet_id","varchar(64)",0,null,"","MUL"],["product_id","varchar(64)",0,null,"","MUL"],["delta","int(11)",0,null,"",""],["reason","varchar(64)",0,null,"",""],["source","varchar(32)",0,"'stock-transfer'","",""],["status","enum('pending','acknowledged','completed','failed','cancelled')",0,"'pending'","","MUL"],["idempotency_key","varchar(64)",1,"NULL","","UNI"],["requested_by","int(11)",1,"NULL","",""],["requested_at","timestamp",0,"current_timestamp()","",""],["processed_at","timestamp",1,"NULL","",""],["error_message","varchar(255)",1,"NULL","",""]],"P":["id"],"K":[["idx_iar_outlet",0,["outlet_id"]],["idx_iar_product",0,["product_id"]],["idx_iar_status",0,["status"]],["idx_iar_transfer",0,["transfer_id"]],["PRIMARY",1,["id"]],["uniq_iar_idem",1,["idempotency_key"]]]},"invoice_processing_overview":[],"invoice_system_config":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["config_key","varchar(100)",1,"NULL","","UNI"],["config_value","text",1,"NULL","",""],["config_type","enum('string','integer','boolean','json','email','password')",1,"NULL","",""],["description","text",1,"NULL","",""],["is_sensitive","tinyint(1)",1,"0","",""],["last_updated","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["updated_by","varchar(100)",1,"NULL","",""]],"P":["id"],"K":[["config_key",1,["config_key"]],["idx_config_key",0,["config_key"]],["PRIMARY",1,["id"]]]},"juice":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["name","varchar(100)",0,null,"",""],["brand","varchar(100)",0,null,"",""],["active","int(11)",0,"1","",""],["phasing_out","int(11)",0,"0","",""],["thirty_ml","varchar(45)",1,"NULL","",""],["fifty_ml","varchar(45)",1,"NULL","",""],["hundred_ml","varchar(45)",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"juice_transfers":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["status","int(11)",0,"0","",""],["outlet_from","mediumtext",0,null,"",""],["outlet_to","mediumtext",0,null,"",""],["created","timestamp",0,"current_timestamp()","",""],["packed","timestamp",1,"NULL","",""],["received","timestamp",1,"NULL","",""],["packed_by","int(11)",1,"NULL","",""],["received_by","int(11)",1,"NULL","",""],["packed_notes","mediumtext",1,"NULL","",""],["received_notes","mediumtext",1,"NULL","",""],["created_by","int(11)",0,null,"",""],["nicotine_in_shipment","int(11)",0,"0","",""],["tracking_number","varchar(100)",1,"NULL","",""],["partial_transfer_staff_member","int(11)",1,"NULL","",""],["partial_transfer_timestamp","timestamp",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"juice_transfers_items":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["juice_transfer_id","int(11)",0,null,"",""],["product_id","varchar(45)",0,null,"",""],["qty_to_send","int(11)",0,null,"",""],["status","int(11)",0,"0","",""],["qty_sent","int(11)",1,"NULL","",""],["qty_received","int(11)",1,"NULL","",""],["qty_in_stock_source","int(11)",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"kb_chunks":{"C":[["id","char(36)",0,null,"","PRI"],["doc_id","char(36)",0,null,"","MUL"],["ord","int(11)",0,null,"",""],["text","mediumtext",0,null,"","MUL"],["embedding","longblob",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_created",0,["created_at"]],["idx_doc_ord",0,["doc_id","ord"]],["idx_text",0,["text"]],["PRIMARY",1,["id"]]],"F":[["fk_kb_chunks_doc",["doc_id"],"kb_docs",["id"],"RESTRICT","CASCADE"]]},"kb_docs":{"C":[["id","char(36)",0,null,"","PRI"],["source","varchar(32)",0,null,"","MUL"],["uri","text",0,null,"",""],["title","varchar(255)",1,"NULL","","MUL"],["mime","varchar(64)",1,"NULL","",""],["meta","longtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_created",0,["created_at"]],["idx_source",0,["source"]],["idx_title_uri",0,["title","uri"]],["PRIMARY",1,["id"]]]},"leave_requests":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["date_created","timestamp",0,"current_timestamp()","",""],["date_from","timestamp",0,"'0000-00-00 00:00:00'","",""],["date_to","timestamp",0,"'0000-00-00 00:00:00'","",""],["reason","mediumtext",0,null,"",""],["leaveTypeID","varchar(45)",0,null,"",""],["LeaveTypeName","varchar(45)",0,null,"",""],["status","int(11)",0,"0","",""],["date_decision_made","timestamp",1,"NULL","",""],["staff_id","int(11)",0,null,"",""],["hours_requested","int(11)",1,"NULL","",""],["leave_decided_by_user","int(11)",1,"NULL","",""],["denied_reason","mediumtext",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"logs":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["user_id","int(10) unsigned",0,null,"","MUL"],["created","timestamp",0,"current_timestamp()","",""],["log_id_type","int(11)",0,null,"","MUL"],["data","mediumtext",1,"NULL","",""],["data_2","mediumtext",1,"NULL","",""],["data_3","mediumtext",1,"NULL","",""]],"P":["id"],"K":[["idx_logs_type",0,["log_id_type"]],["idx_logs_user_created",0,["user_id","created"]],["idx_logs_user_date_type",0,["user_id","created","log_id_type"]],["logIDType",0,["log_id_type"]],["PRIMARY",1,["id"]]],"F":[["logs_ibfk_1",["user_id"],"users",["id"],"RESTRICT","CASCADE"]]},"log_types":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["title","varchar(100)",0,null,"","UNI"]],"P":["id"],"K":[["PRIMARY",1,["id"]],["uniq_title",1,["title"]]]},"ls_id_sequences":{"C":[["seq_type","varchar(32)",0,null,"","PRI"],["period","varchar(10)",0,null,"","PRI"],["next_value","bigint(20) unsigned",0,"1","",""],["updated_at","datetime",0,"current_timestamp()","on update current_timestamp()",""]],"P":["seq_type","period"],"K":[["PRIMARY",1,["seq_type","period"]]]},"ls_jobs":{"C":[["job_id","char(36)",0,null,"","PRI"],["type","varchar(64)",0,null,"","MUL"],["payload","longtext",0,null,"",""],["status","enum('pending','running','completed','failed')",0,"'pending'","","MUL"],["locked_by","varchar(64)",1,"NULL","",""],["locked_at","datetime",1,"NULL","",""],["heartbeat_at","datetime",1,"NULL","",""],["priority","int(11)",0,"0","","MUL"],["max_attempts","int(11)",0,"3","",""],["attempts","int(11)",0,"0","",""],["scheduled_at","datetime",0,"current_timestamp()","",""],["started_at","datetime",1,"NULL","",""],["finished_at","datetime",1,"NULL","","MUL"],["completed_at","datetime",1,"NULL","",""],["created_at","datetime",0,"current_timestamp()","",""],["updated_at","datetime",0,"current_timestamp()","on update current_timestamp()",""],["idempotency_key","varchar(255)",1,"NULL","","UNI"],["leased_until","datetime",1,"NULL","",""],["result_meta","longtext",1,"NULL","",""],["error_meta","longtext",1,"NULL","",""],["last_error","text",1,"NULL","",""],["dlq_reason","varchar(255)",1,"NULL","",""]],"P":["job_id"],"K":[["idx_finished_at",0,["finished_at"]],["idx_jobs_claim",0,["status","type","updated_at"]],["idx_jobs_priority",0,["priority","created_at"]],["idx_jobs_queued",0,["status","type","locked_at","started_at"]],["idx_jobs_status",0,["status","created_at"]],["idx_jobs_status_created",0,["status","created_at"]],["idx_jobs_status_finished",0,["status","finished_at"]],["idx_jobs_status_priority",0,["status","priority","updated_at"]],["idx_jobs_status_type_started",0,["status","type","started_at"]],["idx_jobs_status_updated",0,["status","updated_at"]],["idx_jobs_type",0,["type","created_at"]],["idx_jobs_type_status",0,["type","status"]],["idx_status_type",0,["status","type","updated_at"]],["PRIMARY",1,["job_id"]],["uk_jobs_idemp",1,["idempotency_key"]],["uniq_idempotency",1,["idempotency_key"]]]},"ls_jobs_dlq":{"C":[["id","bigint(20) unsigned",0,null,"","PRI"],["created_at","datetime",0,null,"","MUL"],["type","varchar(64)",0,null,"",""],["payload","longtext",1,"NULL","",""],["idempotency_key","varchar(128)",1,"NULL","",""],["fail_code","varchar(64)",1,"NULL","",""],["fail_message","text",1,"NULL","",""],["attempts","int(11)",0,"0","",""]],"P":["id"],"K":[["idx_created",0,["created_at"]],["PRIMARY",1,["id"]]]},"ls_jobs_map":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["job_id","char(36)",0,null,"","UNI"]],"P":["id"],"K":[["PRIMARY",1,["id"]],["uniq_job",1,["job_id"]]]},"ls_job_logs":{"C":[["log_id","char(36)",0,null,"","PRI"],["job_id","char(36)",0,null,"","MUL"],["level","enum('debug','info','warning','error')",0,"'info'","","MUL"],["message","text",0,null,"",""],["context","longtext",1,"NULL","",""],["created_at","datetime",0,"current_timestamp()","","MUL"]],"P":["log_id"],"K":[["idx_created",0,["created_at"]],["idx_job",0,["job_id"]],["idx_job_logs_created",0,["created_at"]],["idx_logs_job",0,["job_id","created_at"]],["idx_logs_level",0,["level","created_at"]],["PRIMARY",1,["log_id"]]]},"ls_purchase_orders":{"C":[["po_id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["vend_po_id","varchar(64)",1,"NULL","","UNI"],["supplier_id","bigint(20) unsigned",0,null,"","MUL"],["outlet_id","varchar(64)",0,null,"","MUL"],["status","enum('draft','submitted','received','cancelled','partial')",0,"'draft'","",""],["ordered_at","datetime",1,"NULL","",""],["received_at","datetime",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["po_id"],"K":[["idx_outlet_status",0,["outlet_id","status"]],["idx_supplier",0,["supplier_id"]],["PRIMARY",1,["po_id"]],["uniq_vend_po",1,["vend_po_id"]]],"F":[["fk_po_supplier",["supplier_id"],"ls_suppliers",["supplier_id"],"RESTRICT","RESTRICT"]]},"ls_purchase_order_lines":{"C":[["line_id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["po_id","bigint(20) unsigned",0,null,"","MUL"],["product_id","varchar(64)",0,null,"",""],["qty_ordered","int(11)",0,null,"",""],["qty_received","int(11)",0,"0","",""],["cost_price","decimal(12,4)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["line_id"],"K":[["idx_po",0,["po_id"]],["PRIMARY",1,["line_id"]],["uniq_po_product",1,["po_id","product_id"]]],"F":[["fk_pol_po",["po_id"],"ls_purchase_orders",["po_id"],"RESTRICT","CASCADE"]]},"ls_rate_limits":{"C":[["rl_key","varchar(191)",0,null,"","PRI"],["window_start","datetime",0,null,"","MUL"],["counter","int(11)",0,"0","",""],["updated_at","datetime",0,null,"",""]],"P":["rl_key"],"K":[["idx_window",0,["window_start"]],["PRIMARY",1,["rl_key"]]]},"ls_returns":{"C":[["return_id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["scope","enum('supplier','outlet')",0,"'outlet'","","MUL"],["supplier_id","bigint(20) unsigned",1,"NULL","","MUL"],["outlet_from","varchar(64)",1,"NULL","","MUL"],["outlet_to","varchar(64)",1,"NULL","",""],["reason","varchar(255)",1,"NULL","",""],["status","enum('draft','submitted','in_transit','received','cancelled')",0,"'draft'","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["return_id"],"K":[["idx_outlets",0,["outlet_from","outlet_to"]],["idx_scope_status",0,["scope","status"]],["idx_supplier",0,["supplier_id"]],["PRIMARY",1,["return_id"]]],"F":[["fk_ret_supplier",["supplier_id"],"ls_suppliers",["supplier_id"],"RESTRICT","RESTRICT"]]},"ls_return_lines":{"C":[["line_id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["return_id","bigint(20) unsigned",0,null,"","MUL"],["product_id","varchar(64)",0,null,"",""],["qty","int(11)",0,null,"",""],["reason","varchar(255)",1,"NULL","",""]],"P":["line_id"],"K":[["idx_return",0,["return_id"]],["PRIMARY",1,["line_id"]],["uniq_return_product",1,["return_id","product_id"]]],"F":[["fk_rtl_ret",["return_id"],"ls_returns",["return_id"],"RESTRICT","CASCADE"]]},"ls_stocktakes":{"C":[["stocktake_id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["outlet_id","varchar(64)",0,null,"","MUL"],["initiated_by","int(11)",1,"NULL","",""],["status","enum('open','counting','reconciling','applied','cancelled')",0,"'open'","",""],["started_at","datetime",1,"NULL","",""],["completed_at","datetime",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["stocktake_id"],"K":[["idx_outlet_status",0,["outlet_id","status"]],["PRIMARY",1,["stocktake_id"]]]},"ls_stocktake_lines":{"C":[["line_id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["stocktake_id","bigint(20) unsigned",0,null,"","MUL"],["product_id","varchar(64)",0,null,"",""],["counted_qty","int(11)",0,null,"",""],["system_qty","int(11)",0,null,"",""],["variance","int(11)",0,null,"",""]],"P":["line_id"],"K":[["idx_stocktake",0,["stocktake_id"]],["PRIMARY",1,["line_id"]],["uniq_stocktake_product",1,["stocktake_id","product_id"]]],"F":[["fk_stl_st",["stocktake_id"],"ls_stocktakes",["stocktake_id"],"RESTRICT","CASCADE"]]},"ls_suppliers":{"C":[["supplier_id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["vend_supplier_id","varchar(64)",1,"NULL","","UNI"],["name","varchar(255)",0,null,"",""],["is_active","tinyint(1)",0,"1","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["supplier_id"],"K":[["idx_active",0,["is_active"]],["PRIMARY",1,["supplier_id"]],["uniq_vend_supplier",1,["vend_supplier_id"]]]},"ls_sync_cursors":{"C":[["entity","varchar(64)",0,null,"","PRI"],["cursor","varchar(255)",0,null,"",""],["updated_at","datetime",0,null,"",""]],"P":["entity"],"K":[["PRIMARY",1,["entity"]]]},"manual_review_required":{"C":[["id","int(11)",0,"0","",""],["StatementLineID","varchar(100)",1,"NULL","",""],["InvoiceDate","date",1,"NULL","",""],["ContactName","varchar(255)",1,"NULL","",""],["Reference","varchar(255)",1,"NULL","",""],["Description","varchar(255)",1,"NULL","",""],["bankAccountID","varchar(100)",1,"NULL","",""],["ledgerAccountID","varchar(100)",1,"NULL","",""],["GSTCode","varchar(50)",1,"NULL","",""],["Spent","decimal(10,2)",1,"NULL","",""],["Received","decimal(10,2)",1,"NULL","",""],["confidence_score","float",1,"NULL","",""],["categorized_by","varchar(50)",1,"'ai'","",""],["reviewed","tinyint(1)",1,"0","",""],["approved","tinyint(1)",1,"0","",""],["review_date","timestamp",1,"NULL","",""],["xero_submitted","tinyint(1)",1,"0","",""],["submission_date","timestamp",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["comment","varchar(255)",1,"NULL","",""]]},"market_insights":{"C":[["insight_id","int(10) unsigned",0,null,"auto_increment","PRI"],["insight_type","enum('price_trend','product_launch','promotion','market_share','competitive_move')",0,null,"","MUL"],["insight_title","varchar(200)",0,null,"",""],["insight_description","text",1,"NULL","",""],["affected_competitors","longtext",1,"NULL","",""],["market_impact_score","decimal(3,2)",1,"0.50","","MUL"],["confidence_level","enum('low','medium','high')",1,"'medium'","","MUL"],["insight_data","longtext",1,"NULL","",""],["action_required","tinyint(1)",1,"0","","MUL"],["action_notes","text",1,"NULL","",""],["generated_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["insight_id"],"K":[["idx_action_required",0,["action_required"]],["idx_confidence_level",0,["confidence_level"]],["idx_generated_at",0,["generated_at"]],["idx_insight_type",0,["insight_type"]],["idx_market_impact_score",0,["market_impact_score"]],["PRIMARY",1,["insight_id"]]]},"market_intelligence":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["intelligence_type","enum('pricing_trends','product_launches','market_shifts','competitor_moves','technology_changes')",0,null,"","MUL"],["title","varchar(500)",0,null,"",""],["summary","text",1,"NULL","",""],["detailed_analysis","longtext",1,"NULL","",""],["impact_level","enum('low','medium','high','critical')",1,"'medium'","","MUL"],["confidence_level","enum('low','medium','high','very_high')",1,"'medium'","",""],["sources","longtext",1,"NULL","",""],["affected_competitors","longtext",1,"NULL","",""],["recommended_actions","longtext",1,"NULL","",""],["tags","longtext",1,"NULL","",""],["validity_start","timestamp",0,"current_timestamp()","","MUL"],["validity_end","timestamp",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["impact_level",0,["impact_level"]],["intelligence_type",0,["intelligence_type"]],["PRIMARY",1,["id"]],["validity_start",0,["validity_start"]]]},"medical_device_registration":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["product_id","varchar(45)",0,null,"",""],["date_created","timestamp",0,"current_timestamp()","",""],["first_name","varchar(45)",0,null,"",""],["last_name","varchar(45)",0,null,"",""],["address","varchar(100)",0,null,"",""],["email","varchar(45)",0,null,"",""],["phone","varchar(45)",0,null,"",""],["serial","varchar(200)",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"messages":{"C":[["message_id","char(36)",0,null,"","PRI"],["conversation_id","char(36)",0,null,"","MUL"],["role","enum('system','user','assistant','tool')",0,null,"","MUL"],["content","mediumtext",1,"NULL","",""],["created_at","datetime",0,"current_timestamp()","",""],["metadata","longtext",1,"NULL","",""]],"P":["message_id"],"K":[["idx_messages_conversation_role",0,["conversation_id","role"]],["idx_messages_conv_created",0,["conversation_id","created_at"]],["idx_msg_conv_created",0,["conversation_id","created_at"]],["idx_msg_role",0,["role","created_at"]],["PRIMARY",1,["message_id"]]],"F":[["fk_msg_conv",["conversation_id"],"conversations",["conversation_id"],"CASCADE","CASCADE"]]},"migration_log":{"C":[["migration_file","varchar(255)",0,null,"","PRI"],["executed_at","datetime",0,"current_timestamp()","",""],["status","enum('completed','failed','running')",0,"'completed'","",""],["notes","text",1,"NULL","",""],["checksum","varchar(64)",1,"NULL","",""]],"P":["migration_file"],"K":[["PRIMARY",1,["migration_file"]]]},"modules":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["project_id","int(11)",0,null,"","MUL"],["module_name","varchar(100)",0,null,"","MUL"],["entry_name","varchar(100)",0,null,"","MUL"],["title","varchar(255)",0,null,"",""],["description","text",1,"NULL","",""],["template_version","varchar(16)",0,null,"",""],["status","enum('draft','active','archived')",1,"'draft'","","MUL"],["created_by_user","varchar(100)",0,null,"","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_created_by",0,["created_by_user"]],["idx_entry_name",0,["entry_name"]],["idx_module_name",0,["module_name"]],["idx_status",0,["status"]],["PRIMARY",1,["id"]],["u_project_module_entry",1,["project_id","module_name","entry_name"]]],"F":[["modules_ibfk_1",["project_id"],"projects",["id"],"RESTRICT","CASCADE"]]},"module_history":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["module","varchar(100)",0,null,"","MUL"],["entry","varchar(100)",0,null,"",""],["file_type","enum('entry','partial','css','js','ajax')",0,null,"","MUL"],["action","enum('create','edit','rollback','ai-suggest','ai-apply')",0,null,"","MUL"],["actor","varchar(100)",0,null,"","MUL"],["diff","longtext",0,null,"",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_action",0,["action"]],["idx_actor",0,["actor"]],["idx_file_type",0,["file_type"]],["idx_mod_entry",0,["module","entry"]],["PRIMARY",1,["id"]]]},"navigation":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["title","varchar(45)",0,null,"",""],["active","varchar(45)",0,"'1'","",""],["show_title_nav_bar","varchar(45)",0,"'1'","",""],["sort_order","int(11)",0,"1","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"negative_product_logs":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["product_id","varchar(45)",0,null,"",""],["outlet_id","varchar(45)",0,null,"",""],["qty","varchar(45)",0,null,"",""],["time","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"neural_ai_agents":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["indexed_tags","varchar(2000)",1,"''","","MUL"],["agent_code","varchar(50)",0,null,"","UNI"],["agent_name","varchar(100)",0,null,"",""],["agent_type","enum('problem_solver','optimizer','specialist','coordinator','assistant')",0,null,"","MUL"],["skill_level","int(11)",0,"1","","MUL"],["memory_access_level","enum('project_only','cross_project_read','cross_project_full')",1,"'project_only'","","MUL"],["specialization","mediumtext",1,"NULL","",""],["status","enum('active','training','disabled')",1,"'active'","",""],["total_memories_created","int(11)",1,"0","",""],["total_solutions_contributed","int(11)",1,"0","",""],["avg_solution_confidence","decimal(3,3)",1,"0.000","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["agent_code",1,["agent_code"]],["idx_access_level",0,["memory_access_level"]],["idx_agent_code",0,["agent_code"]],["idx_agent_type",0,["agent_type"]],["idx_neural_ai_agents_tags",0,["indexed_tags"]],["idx_skill_level",0,["skill_level"]],["PRIMARY",1,["id"]]]},"neural_ai_bots":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["bot_id","varchar(255)",0,null,"","UNI"],["bot_type","varchar(100)",0,null,"","MUL"],["staff_id","int(11)",0,null,"","MUL"],["configuration","longtext",0,null,"",""],["capabilities","longtext",0,null,"",""],["neural_access_level","enum('basic','standard','high','maximum')",1,"'standard'","",""],["performance_metrics","longtext",1,"NULL","",""],["last_active","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["created_at","timestamp",0,"current_timestamp()","",""],["status","enum('active','training','inactive','error')",1,"'active'","","MUL"]],"P":["id"],"K":[["bot_id",1,["bot_id"]],["idx_bot_id",0,["bot_id"]],["idx_bot_type",0,["bot_type"]],["idx_staff_id",0,["staff_id"]],["idx_status",0,["status"]],["PRIMARY",1,["id"]]]},"neural_bot_context_snapshots":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["indexed_tags","varchar(2000)",1,"''","","MUL"],["context_id","varchar(100)",0,null,"","MUL"],["snapshot_type","enum('session_start','major_milestone','error_occurred','manual_save')",1,"'session_start'","","MUL"],["context_data","longtext",1,"NULL","",""],["files_referenced","longtext",1,"NULL","",""],["code_changes","longtext",1,"NULL","",""],["timestamp","datetime",1,"current_timestamp()","",""]],"P":["id"],"K":[["idx_context_id",0,["context_id"]],["idx_neural_bot_context_snapshots_tags",0,["indexed_tags"]],["idx_snapshot_type",0,["snapshot_type"]],["PRIMARY",1,["id"]]]},"neural_bot_interactions":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["bot_id","varchar(255)",0,null,"","MUL"],["staff_id","int(11)",0,null,"",""],["interaction_type","varchar(100)",1,"'chat'","","MUL"],["user_input","text",0,null,"","MUL"],["bot_response","text",0,null,"",""],["confidence_score","decimal(3,2)",1,"0.50","",""],["response_time_ms","int(11)",1,"0","",""],["knowledge_sources","longtext",1,"NULL","",""],["feedback_score","int(11)",1,"NULL","",""],["context_used","longtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_bot_interactions",0,["bot_id","staff_id"]],["idx_created_at",0,["created_at"]],["idx_interaction_type",0,["interaction_type"]],["PRIMARY",1,["id"]],["user_input",0,["user_input","bot_response"]]],"F":[["neural_bot_interactions_ibfk_1",["bot_id"],"neural_ai_bots",["bot_id"],"RESTRICT","CASCADE"]]},"neural_bot_messages":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["indexed_tags","varchar(2000)",1,"''","","MUL"],["session_id","varchar(100)",0,null,"","MUL"],["context_id","varchar(100)",0,null,"","MUL"],["message_id","varchar(100)",0,null,"","UNI"],["message_type","enum('user_input','bot_response','system_note','context_update')",1,"'user_input'","","MUL"],["content","longtext",1,"NULL","","MUL"],["metadata","longtext",1,"NULL","",""],["timestamp","datetime",1,"current_timestamp()","","MUL"]],"P":["id"],"K":[["content",0,["content"]],["idx_context_id",0,["context_id"]],["idx_message_type",0,["message_type"]],["idx_neural_bot_messages_tags",0,["indexed_tags"]],["idx_session_id",0,["session_id"]],["idx_timestamp",0,["timestamp"]],["message_id",1,["message_id"]],["PRIMARY",1,["id"]]]},"neural_bot_registry":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["indexed_tags","varchar(2000)",1,"''","","MUL"],["bot_id","varchar(100)",0,null,"","UNI"],["bot_name","varchar(200)",1,"NULL","",""],["first_seen","datetime",1,"current_timestamp()","",""],["last_active","datetime",1,"current_timestamp()","",""],["total_interactions","int(11)",1,"0","",""],["metadata","longtext",1,"NULL","",""]],"P":["id"],"K":[["bot_id",1,["bot_id"]],["idx_bot_id",0,["bot_id"]],["idx_neural_bot_registry_tags",0,["indexed_tags"]],["PRIMARY",1,["id"]]]},"neural_bot_sessions":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["indexed_tags","varchar(2000)",1,"''","","MUL"],["session_id","varchar(100)",0,null,"","UNI"],["bot_id","varchar(100)",0,null,"","MUL"],["context_id","varchar(100)",0,null,"","MUL"],["title","varchar(500)",1,"NULL","",""],["started_at","datetime",1,"current_timestamp()","",""],["last_message","datetime",1,"current_timestamp()","",""],["message_count","int(11)",1,"0","",""],["status","enum('active','paused','completed','archived')",1,"'active'","",""]],"P":["id"],"K":[["idx_bot_id",0,["bot_id"]],["idx_context_id",0,["context_id"]],["idx_neural_bot_sessions_tags",0,["indexed_tags"]],["idx_session_id",0,["session_id"]],["PRIMARY",1,["id"]],["session_id",1,["session_id"]]]},"neural_cheat_activations":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["staff_id","int(11)",0,null,"","MUL"],["cheat_code","varchar(100)",0,null,"","MUL"],["activation_context","longtext",1,"NULL","",""],["success","tinyint(1)",1,"1","",""],["results","longtext",1,"NULL","",""],["activated_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_activated_at",0,["activated_at"]],["idx_cheat_code",0,["cheat_code"]],["idx_staff_cheats",0,["staff_id","cheat_code"]],["PRIMARY",1,["id"]]]},"neural_conversations":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["staff_id","int(11)",0,null,"","MUL"],["session_id","varchar(255)",0,null,"",""],["conversation_type","varchar(100)",1,"'general'","","MUL"],["user_message","text",0,null,"","MUL"],["ai_response","text",0,null,"",""],["context_data","longtext",1,"NULL","",""],["metadata","longtext",1,"NULL","",""],["learning_value","decimal(3,2)",1,"0.50","",""],["success_score","decimal(3,2)",1,"0.50","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_conversation_type",0,["conversation_type"]],["idx_created_at",0,["created_at"]],["idx_staff_session",0,["staff_id","session_id"]],["PRIMARY",1,["id"]],["user_message",0,["user_message","ai_response"]]]},"neural_decision_matrix":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["session_id","varchar(100)",0,null,"","MUL"],["decision_type","varchar(50)",0,null,"","MUL"],["input_parameters","longtext",1,"NULL","",""],["decision_logic","text",1,"NULL","","MUL"],["output_result","longtext",1,"NULL","",""],["confidence_score","decimal(5,4)",1,"0.0000","","MUL"],["processing_time_ms","decimal(10,3)",1,"NULL","","MUL"],["alternative_options","longtext",1,"NULL","",""],["success_outcome","tinyint(1)",1,"NULL","","MUL"],["learning_value","decimal(5,4)",1,"0.0000","","MUL"],["feedback_score","decimal(5,4)",1,"NULL","",""],["validation_status","enum('pending','validated','rejected','revised')",1,"'pending'","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"],["validated_at","timestamp",1,"NULL","",""],["project_code","varchar(100)",1,"'newtransferv3'","","MUL"],["project_id","int(11)",1,"1","",""],["transfer_mode","varchar(50)",1,"NULL","","MUL"]],"P":["id"],"K":[["idx_confidence",0,["confidence_score"]],["idx_created",0,["created_at"]],["idx_decision_analysis",0,["decision_type","confidence_score","success_outcome"]],["idx_learning",0,["learning_value"]],["idx_learning_analysis",0,["learning_value","processing_time_ms"]],["idx_logic_search",0,["decision_logic"]],["idx_processing_time",0,["processing_time_ms"]],["idx_project_tracking",0,["project_code","project_id"]],["idx_session",0,["session_id"]],["idx_session_decisions",0,["session_id","created_at"]],["idx_success",0,["success_outcome"]],["idx_transfer_mode",0,["transfer_mode","session_id"]],["idx_type",0,["decision_type"]],["PRIMARY",1,["id"]]]},"neural_domains":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["indexed_tags","varchar(2000)",1,"''","","MUL"],["domain_code","varchar(50)",0,null,"","UNI"],["domain_name","varchar(255)",0,null,"",""],["description","text",1,"NULL","",""],["domain_owner","varchar(100)",1,"NULL","",""],["domain_type","enum('business','personal','technical','client','system')",0,null,"","MUL"],["base_path","varchar(500)",1,"NULL","",""],["is_active","tinyint(1)",1,"1","","MUL"],["scanning_enabled","tinyint(1)",1,"1","","MUL"],["scan_frequency","enum('realtime','hourly','daily','weekly')",1,"'daily'","",""],["last_scan_at","timestamp",1,"NULL","","MUL"],["total_projects","int(11)",1,"0","",""],["total_files_tracked","bigint(20)",1,"0","",""],["total_size_bytes","bigint(20)",1,"0","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["domain_code",1,["domain_code"]],["idx_active",0,["is_active"]],["idx_domain_code",0,["domain_code"]],["idx_domain_type",0,["domain_type"]],["idx_last_scan",0,["last_scan_at"]],["idx_neural_domains_tags",0,["indexed_tags"]],["idx_scanning",0,["scanning_enabled"]],["PRIMARY",1,["id"]]]},"neural_execution_logs":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["session_id","varchar(100)",0,null,"","MUL"],["execution_phase","varchar(50)",0,null,"","MUL"],["operation_type","varchar(50)",0,null,"","MUL"],["operation_data","longtext",1,"NULL","",""],["performance_metrics","longtext",1,"NULL","",""],["memory_usage_mb","decimal(10,2)",1,"NULL","","MUL"],["execution_time_ms","decimal(10,3)",1,"NULL","","MUL"],["query_count","int(11)",1,"0","",""],["success_status","tinyint(1)",1,"1","",""],["error_message","text",1,"NULL","",""],["stack_trace","text",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["project_code","varchar(100)",1,"'newtransferv3'","","MUL"],["project_id","int(11)",1,"1","",""],["transfer_mode","varchar(50)",1,"NULL","","MUL"]],"P":["id"],"K":[["idx_created",0,["created_at"]],["idx_memory_analysis",0,["memory_usage_mb","query_count"]],["idx_operation",0,["operation_type"]],["idx_performance",0,["execution_time_ms","memory_usage_mb"]],["idx_performance_composite",0,["session_id","execution_phase","operation_type"]],["idx_phase",0,["execution_phase"]],["idx_project_tracking",0,["project_code","project_id"]],["idx_search",0,["operation_type","error_message"]],["idx_session",0,["session_id"]],["idx_time_analysis",0,["created_at","execution_time_ms"]],["idx_transfer_mode",0,["transfer_mode","session_id"]],["PRIMARY",1,["id"]]]},"neural_file_content":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["indexed_tags","varchar(2000)",1,"''","","MUL"],["file_registry_id","bigint(20)",0,null,"","MUL"],["content_type","enum('summary','keywords','full_content','code_analysis','metadata')",1,"'summary'","","MUL"],["content_data","longtext",1,"NULL","",""],["content_size","int(11)",1,"0","",""],["extraction_method","enum('auto_scan','manual','ai_analysis')",1,"'auto_scan'","","MUL"],["confidence_score","decimal(5,3)",1,"0.000","","MUL"],["language_detected","varchar(50)",1,"NULL","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["file_registry_id",0,["file_registry_id"]],["idx_confidence",0,["confidence_score"]],["idx_content_type",0,["content_type"]],["idx_language",0,["language_detected"]],["idx_method",0,["extraction_method"]],["idx_neural_file_content_tags",0,["indexed_tags"]],["PRIMARY",1,["id"]]],"F":[["neural_file_content_ibfk_1",["file_registry_id"],"neural_file_registry",["id"],"RESTRICT","CASCADE"]]},"neural_file_project_relations":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["indexed_tags","varchar(2000)",1,"''","","MUL"],["file_id","bigint(20)",0,null,"","MUL"],["project_id","int(11)",0,null,"","MUL"],["relationship_type","enum('owned','used','referenced','imported')",1,"'owned'","","MUL"],["relevance_score","decimal(3,2)",1,"1.00","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_file_relations",0,["file_id"]],["idx_neural_file_project_relations_tags",0,["indexed_tags"]],["idx_project_relations",0,["project_id"]],["idx_relationship_type",0,["relationship_type"]],["PRIMARY",1,["id"]],["unique_file_project",1,["file_id","project_id"]]],"F":[["neural_file_project_relations_ibfk_1",["file_id"],"neural_file_registry",["id"],"RESTRICT","CASCADE"],["neural_file_project_relations_ibfk_2",["project_id"],"neural_projects",["id"],"RESTRICT","CASCADE"]]},"neural_file_registry":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["indexed_tags","varchar(2000)",1,"''","","MUL"],["project_id","int(11)",0,null,"","MUL"],["domain_id","int(11)",0,null,"","MUL"],["file_path","varchar(500)",0,null,"",""],["file_name","varchar(255)",0,null,"",""],["file_extension","varchar(10)",1,"NULL","","MUL"],["file_size_bytes","bigint(20)",1,"0","","MUL"],["file_hash","varchar(64)",1,"NULL","",""],["file_type","enum('code','config','documentation','data','image','other')",1,"'other'","","MUL"],["last_modified","timestamp",1,"NULL","",""],["is_tracked","tinyint(1)",1,"1","","MUL"],["scan_priority","enum('low','medium','high','critical')",1,"'medium'","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()","MUL"]],"P":["id"],"K":[["domain_id",0,["domain_id"]],["idx_extension",0,["file_extension"]],["idx_neural_file_registry_tags",0,["indexed_tags"]],["idx_priority",0,["scan_priority"]],["idx_size",0,["file_size_bytes"]],["idx_tracked",0,["is_tracked"]],["idx_type",0,["file_type"]],["idx_updated",0,["updated_at"]],["PRIMARY",1,["id"]],["unique_file",1,["project_id","file_path"]]],"F":[["neural_file_registry_ibfk_1",["project_id"],"neural_projects",["id"],"RESTRICT","CASCADE"],["neural_file_registry_ibfk_2",["domain_id"],"neural_domains",["id"],"RESTRICT","CASCADE"]]},"neural_file_versions":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["indexed_tags","varchar(2000)",1,"''","","MUL"],["file_registry_id","bigint(20)",0,null,"","MUL"],["version_number","int(11)",0,"1","",""],["file_hash","varchar(64)",0,null,"","MUL"],["file_size_bytes","bigint(20)",1,"0","",""],["change_type","enum('created','modified','deleted','renamed','moved')",1,"'modified'","","MUL"],["change_summary","mediumtext",1,"NULL","",""],["backed_up","tinyint(1)",1,"0","","MUL"],["backup_path","varchar(500)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_backed_up",0,["backed_up"]],["idx_change_type",0,["change_type"]],["idx_created",0,["created_at"]],["idx_hash",0,["file_hash"]],["idx_neural_file_versions_tags",0,["indexed_tags"]],["PRIMARY",1,["id"]],["unique_version",1,["file_registry_id","version_number"]]],"F":[["neural_file_versions_ibfk_1",["file_registry_id"],"neural_file_registry",["id"],"RESTRICT","CASCADE"]]},"neural_knowledge_patterns":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["pattern_id","varchar(255)",0,null,"","UNI"],["pattern_type","varchar(100)",0,null,"","MUL"],["pattern_content","text",0,null,"","MUL"],["domain","varchar(100)",0,null,"","MUL"],["success_indicators","longtext",1,"NULL","",""],["usage_count","int(11)",1,"1","","MUL"],["effectiveness_score","decimal(3,2)",1,"0.50","","MUL"],["last_used","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["created_at","timestamp",0,"current_timestamp()","",""],["created_by_bot","varchar(255)",1,"NULL","",""],["metadata","longtext",1,"NULL","",""]],"P":["id"],"K":[["idx_domain",0,["domain"]],["idx_effectiveness",0,["effectiveness_score"]],["idx_pattern_type",0,["pattern_type"]],["idx_usage_count",0,["usage_count"]],["pattern_content",0,["pattern_content"]],["pattern_id",1,["pattern_id"]],["PRIMARY",1,["id"]]]},"neural_learning_insights":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["session_id","varchar(100)",0,null,"","MUL"],["insight_type","enum('pattern','anomaly','optimization','prediction','correlation')",0,null,"","MUL"],["insight_category","varchar(50)",0,null,"","MUL"],["insight_data","longtext",0,null,"",""],["confidence_level","decimal(5,4)",0,null,"","MUL"],["validation_status","enum('hypothesis','tested','confirmed','rejected')",1,"'hypothesis'","","MUL"],["impact_assessment","longtext",1,"NULL","",""],["actionable_recommendations","text",1,"NULL","","MUL"],["related_sessions","longtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"],["validated_at","timestamp",1,"NULL","",""]],"P":["id"],"K":[["idx_category",0,["insight_category"]],["idx_confidence",0,["confidence_level"]],["idx_created",0,["created_at"]],["idx_recommendations",0,["actionable_recommendations"]],["idx_session",0,["session_id"]],["idx_type",0,["insight_type"]],["idx_validation",0,["validation_status"]],["PRIMARY",1,["id"]]]},"neural_live_feed":{"C":[["event_id","int(11)",0,null,"auto_increment","PRI"],["agent_id","int(11)",1,"NULL","","MUL"],["event_type","varchar(100)",0,null,"","MUL"],["summary","varchar(255)",1,"NULL","",""],["details","text",1,"NULL","",""],["event_time","datetime",0,"current_timestamp()","","MUL"],["timestamp","datetime",0,"current_timestamp()","",""]],"P":["event_id"],"K":[["idx_nlf_agent_time",0,["agent_id","event_time"]],["idx_nlf_event_time",0,["event_time"]],["idx_nlf_event_type_time",0,["event_type","event_time"]],["PRIMARY",1,["event_id"]]]},"neural_memories":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["persona_id","int(11)",1,"NULL","","MUL"],["topic_id","int(11)",1,"NULL","","MUL"],["content","mediumtext",1,"NULL","",""],["deleted_at","datetime",1,"NULL","","MUL"],["created_at","datetime",0,"current_timestamp()","",""],["updated_at","datetime",1,"NULL","",""]],"P":["id"],"K":[["idx_neural_memories_deleted_at",0,["deleted_at"]],["idx_neural_memories_persona",0,["persona_id"]],["idx_neural_memories_topic",0,["topic_id"]],["PRIMARY",1,["id"]]]},"neural_memory_associations":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["indexed_tags","varchar(2000)",1,"''","","MUL"],["memory_id_a","bigint(20)",0,null,"","MUL"],["memory_id_b","bigint(20)",0,null,"","MUL"],["association_type","enum('related','causes','solves','conflicts','enhances','supersedes')",0,null,"","MUL"],["strength","decimal(5,3)",1,"0.500","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["created_by_agent","varchar(100)",1,"'GitHub Copilot'","",""]],"P":["id"],"K":[["idx_association_type",0,["association_type"]],["idx_memory_a",0,["memory_id_a"]],["idx_memory_b",0,["memory_id_b"]],["idx_neural_memory_associations_tags",0,["indexed_tags"]],["idx_strength",0,["strength"]],["PRIMARY",1,["id"]],["unique_association",1,["memory_id_a","memory_id_b","association_type"]]],"F":[["neural_memory_associations_ibfk_1",["memory_id_a"],"neural_memory_core",["id"],"RESTRICT","CASCADE"],["neural_memory_associations_ibfk_2",["memory_id_b"],"neural_memory_core",["id"],"RESTRICT","CASCADE"]]},"neural_memory_core":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["indexed_tags","varchar(2000)",1,"''","","MUL"],["session_id","varchar(64)",0,null,"","MUL"],["neural_session_id","bigint(20)",1,"NULL","","MUL"],["memory_type","enum('decision','pattern','optimization','error','solution','insight','workflow')",0,null,"","MUL"],["system_context","varchar(100)",1,"'NewTransferV3'","","MUL"],["project_id","int(11)",1,"NULL","","MUL"],["title","varchar(255)",0,null,"","MUL"],["memory_content","longtext",0,null,"",""],["summary","text",1,"NULL","",""],["tags","longtext",1,"NULL","","MUL"],["parent_memory_id","bigint(20)",1,"NULL","","MUL"],["confidence_score","decimal(5,3)",1,"0.000","","MUL"],["importance_weight","decimal(5,3)",1,"0.500","",""],["access_count","int(11)",1,"0","","MUL"],["success_rate","decimal(5,3)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"],["last_accessed_at","timestamp",1,"NULL","",""],["last_validated_at","timestamp",1,"NULL","",""],["expires_at","timestamp",1,"NULL","",""],["is_active","tinyint(1)",1,"1","","MUL"],["created_by_agent","varchar(100)",1,"'GitHub Copilot'","",""],["validation_status","enum('unvalidated','validated','deprecated','superseded')",1,"'unvalidated'","","MUL"],["metadata","longtext",1,"NULL","",""],["collection_version","varchar(10)",1,"'1.0'","","MUL"],["intelligence_score","decimal(5,4)",1,"0.0000","","MUL"],["learning_weight","decimal(5,4)",1,"0.0000","","MUL"],["enhanced_metadata","longtext",1,"NULL","",""]],"P":["id"],"K":[["ft_search",0,["title","summary"]],["idx_access_count",0,["access_count"]],["idx_active_valid",0,["is_active","validation_status"]],["idx_collection_version",0,["collection_version"]],["idx_confidence_importance",0,["confidence_score","importance_weight"]],["idx_created_at",0,["created_at"]],["idx_intelligence",0,["intelligence_score"]],["idx_learning_weight",0,["learning_weight"]],["idx_memory_type",0,["memory_type"]],["idx_neural_memory_core_tags",0,["indexed_tags"]],["idx_neural_session_id",0,["neural_session_id"]],["idx_project_id",0,["project_id"]],["idx_session_type",0,["session_id","memory_type"]],["idx_system_context",0,["system_context"]],["idx_tags",0,["tags"]],["idx_validation",0,["validation_status"]],["neural_memory_core_ibfk_1",0,["parent_memory_id"]],["PRIMARY",1,["id"]]],"F":[["fk_neural_memory_project",["project_id"],"neural_projects",["id"],"RESTRICT","RESTRICT"],["fk_neural_memory_session",["neural_session_id"],"neural_sessions",["id"],"RESTRICT","RESTRICT"],["neural_memory_core_ibfk_1",["parent_memory_id"],"neural_memory_core",["id"],"RESTRICT","RESTRICT"]]},"neural_memory_tags":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["indexed_tags","varchar(2000)",1,"''","","MUL"],["memory_id","bigint(20)",0,null,"","MUL"],["tag_name","varchar(100)",0,null,"","MUL"],["tag_weight","decimal(3,2)",1,"1.00","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_memory_tags",0,["memory_id","tag_name"]],["idx_neural_memory_tags_tags",0,["indexed_tags"]],["idx_tag_name",0,["tag_name"]],["PRIMARY",1,["id"]],["unique_memory_tag",1,["memory_id","tag_name"]]],"F":[["neural_memory_tags_ibfk_1",["memory_id"],"neural_memory_core",["id"],"RESTRICT","CASCADE"]]},"neural_performance_analytics":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["metric_type","varchar(100)",0,null,"","MUL"],["metric_value","decimal(10,4)",0,null,"",""],["measurement_context","longtext",1,"NULL","",""],["bot_id","varchar(255)",1,"NULL","","MUL"],["staff_id","int(11)",1,"NULL","",""],["measurement_date","date",0,null,"","MUL"],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_bot_performance",0,["bot_id","metric_type"]],["idx_measurement_date",0,["measurement_date"]],["idx_metric_type",0,["metric_type"]],["PRIMARY",1,["id"]]]},"neural_performance_metrics":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["session_id","varchar(100)",0,null,"","MUL"],["metric_category","varchar(50)",0,null,"","MUL"],["metric_name","varchar(100)",0,null,"","MUL"],["metric_value","decimal(15,6)",1,"NULL","","MUL"],["metric_unit","varchar(20)",1,"NULL","",""],["benchmark_comparison","decimal(10,4)",1,"NULL","","MUL"],["trend_analysis","longtext",1,"NULL","",""],["optimization_suggestions","text",1,"NULL","","MUL"],["collection_timestamp","timestamp(6)",0,"current_timestamp(6)","","MUL"],["analysis_version","varchar(20)",1,"'2.0'","",""],["project_code","varchar(100)",1,"'newtransferv3'","","MUL"],["project_id","int(11)",1,"1","",""],["transfer_mode","varchar(50)",1,"NULL","","MUL"]],"P":["id"],"K":[["idx_benchmark",0,["benchmark_comparison"]],["idx_benchmark_analysis",0,["benchmark_comparison","collection_timestamp"]],["idx_category",0,["metric_category"]],["idx_composite",0,["session_id","metric_category","metric_name"]],["idx_metric_analysis",0,["metric_category","metric_name","metric_value"]],["idx_name",0,["metric_name"]],["idx_project_tracking",0,["project_code","project_id"]],["idx_session",0,["session_id"]],["idx_suggestions",0,["optimization_suggestions"]],["idx_timestamp",0,["collection_timestamp"]],["idx_transfer_mode",0,["transfer_mode","session_id"]],["idx_trend_analysis",0,["session_id","metric_category","collection_timestamp"]],["idx_value",0,["metric_value"]],["PRIMARY",1,["id"]]]},"neural_personas":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["name","varchar(255)",0,null,"",""],["role","varchar(255)",1,"NULL","",""],["linked_topics","int(11)",1,"NULL","","MUL"],["active","tinyint(1)",0,"1","","MUL"],["created_at","datetime",0,"current_timestamp()","",""],["updated_at","datetime",1,"NULL","",""]],"P":["id"],"K":[["idx_neural_personas_active",0,["active"]],["idx_neural_personas_linked_topics",0,["linked_topics"]],["PRIMARY",1,["id"]]]},"neural_projects":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["indexed_tags","varchar(2000)",1,"''","","MUL"],["domain_id","int(11)",0,"2","","MUL"],["project_code","varchar(50)",0,null,"","UNI"],["project_name","varchar(100)",0,null,"",""],["description","mediumtext",1,"NULL","",""],["base_path","varchar(500)",1,"NULL","",""],["status","enum('active','maintenance','archived')",1,"'active'","","MUL"],["deploy_status","enum('deployed','pending','disabled')",1,"'pending'","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["priority_level","enum('critical','high','medium','low')",1,"'medium'","","MUL"],["total_files","int(11)",1,"0","",""],["total_size_bytes","bigint(20)",1,"0","",""],["last_file_scan","timestamp",1,"NULL","","MUL"],["scan_frequency","enum('realtime','hourly','daily','weekly')",1,"'daily'","",""],["tags","longtext",1,"NULL","",""],["keywords","longtext",1,"NULL","",""],["technologies","longtext",1,"NULL","",""],["dependencies","longtext",1,"NULL","",""]],"P":["id"],"K":[["idx_domain",0,["domain_id"]],["idx_last_file_scan",0,["last_file_scan"]],["idx_neural_projects_tags",0,["indexed_tags"]],["idx_priority",0,["priority_level"]],["idx_project_code",0,["project_code"]],["idx_status",0,["status","deploy_status"]],["PRIMARY",1,["id"]],["project_code",1,["project_code"]]],"F":[["fk_projects_domain",["domain_id"],"neural_domains",["id"],"RESTRICT","RESTRICT"]]},"neural_sessions":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["indexed_tags","varchar(2000)",1,"''","","MUL"],["session_id","varchar(64)",0,null,"","UNI"],["project_id","int(11)",1,"NULL","","MUL"],["session_type","varchar(50)",1,"'neural_memory'","",""],["status","enum('active','completed','archived')",1,"'active'","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_neural_sessions_tags",0,["indexed_tags"]],["idx_project_id",0,["project_id"]],["idx_session_id",0,["session_id"]],["idx_status",0,["status"]],["PRIMARY",1,["id"]],["session_id",1,["session_id"]]],"F":[["neural_sessions_ibfk_1",["project_id"],"neural_projects",["id"],"CASCADE","SET NULL"]]},"neural_session_analytics":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["session_id","varchar(100)",0,null,"","UNI"],["session_start","timestamp(6)",0,"current_timestamp(6)","on update current_timestamp(6)","MUL"],["session_end","timestamp(6)",1,"NULL","","MUL"],["total_execution_time_ms","decimal(15,3)",1,"NULL","",""],["peak_memory_usage_mb","decimal(10,2)",1,"NULL","",""],["total_queries_executed","int(11)",1,"0","",""],["decisions_made","int(11)",1,"0","",""],["metrics_collected","int(11)",1,"0","",""],["insights_generated","int(11)",1,"0","",""],["success_rate","decimal(5,4)",1,"0.0000","","MUL"],["average_confidence","decimal(5,4)",1,"0.0000","",""],["data_completeness_pct","decimal(5,2)",1,"0.00","",""],["intelligence_quality_score","decimal(5,4)",1,"0.0000","","MUL"],["session_metadata","longtext",1,"NULL","",""],["performance_summary","longtext",1,"NULL","",""],["learning_summary","longtext",1,"NULL","",""],["optimization_recommendations","longtext",1,"NULL","",""],["session_status","enum('active','completed','failed','timeout')",1,"'active'","","MUL"],["created_at","timestamp",0,"current_timestamp()","","MUL"],["completed_at","timestamp",1,"NULL","",""]],"P":["id"],"K":[["idx_created",0,["created_at"]],["idx_end",0,["session_end"]],["idx_quality",0,["intelligence_quality_score"]],["idx_session",0,["session_id"]],["idx_start",0,["session_start"]],["idx_status",0,["session_status"]],["idx_success_rate",0,["success_rate"]],["PRIMARY",1,["id"]],["session_id",1,["session_id"]]]},"neural_sources":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["type","varchar(32)",0,null,"",""],["name","varchar(255)",0,null,"","UNI"],["status","enum('active','inactive')",0,"'active'","","MUL"],["created_at","datetime",0,"current_timestamp()","",""],["updated_at","datetime",1,"NULL","",""]],"P":["id"],"K":[["idx_neural_sources_status",0,["status"]],["PRIMARY",1,["id"]],["uq_neural_sources_name",1,["name"]]]},"neural_staff_preferences":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["staff_id","int(11)",0,null,"","UNI"],["communication_style","varchar(100)",1,"'professional'","",""],["preferred_response_length","enum('brief','normal','detailed')",1,"'normal'","",""],["expertise_areas","longtext",1,"NULL","",""],["learning_preferences","longtext",1,"NULL","",""],["bot_personality_preference","varchar(100)",1,"'helpful'","",""],["notification_settings","longtext",1,"NULL","",""],["privacy_settings","longtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_staff_id",0,["staff_id"]],["PRIMARY",1,["id"]],["staff_id",1,["staff_id"]]]},"neural_system_events":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["indexed_tags","varchar(2000)",1,"''","","MUL"],["project_id","int(11)",1,"NULL","","MUL"],["ai_agent_id","int(11)",1,"NULL","","MUL"],["session_id","varchar(64)",1,"NULL","","MUL"],["event_type","varchar(100)",0,null,"",""],["event_description","mediumtext",1,"NULL","",""],["event_data","longtext",1,"NULL","",""],["severity","enum('info','warning','error')",1,"'info'","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_agent",0,["ai_agent_id"]],["idx_created_at",0,["created_at"]],["idx_neural_system_events_tags",0,["indexed_tags"]],["idx_project_event",0,["project_id","event_type"]],["idx_session",0,["session_id"]],["PRIMARY",1,["id"]]],"F":[["neural_system_events_ibfk_1",["project_id"],"neural_projects",["id"],"RESTRICT","CASCADE"],["neural_system_events_ibfk_2",["ai_agent_id"],"neural_ai_agents",["id"],"RESTRICT","CASCADE"]]},"neural_topics":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["topic","varchar(255)",0,null,"",""],["linked_sources","int(11)",1,"NULL","","MUL"],["archived","tinyint(1)",0,"0","","MUL"],["created_at","datetime",0,"current_timestamp()","",""],["updated_at","datetime",1,"NULL","",""]],"P":["id"],"K":[["idx_neural_topics_archived",0,["archived"]],["idx_neural_topics_linked_sources",0,["linked_sources"]],["PRIMARY",1,["id"]]]},"neural_training_sessions":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["bot_id","varchar(255)",0,null,"","MUL"],["training_focus","varchar(100)",0,null,"",""],["patterns_learned","int(11)",1,"0","",""],["training_data_size","int(11)",1,"0","",""],["effectiveness_score","decimal(3,2)",1,"0.00","",""],["knowledge_domains","longtext",1,"NULL","",""],["training_duration","int(11)",1,"0","",""],["started_at","timestamp",0,"current_timestamp()","",""],["completed_at","timestamp",1,"NULL","",""],["status","enum('in_progress','completed','failed')",1,"'in_progress'","","MUL"]],"P":["id"],"K":[["idx_bot_training",0,["bot_id","training_focus"]],["idx_training_status",0,["status"]],["PRIMARY",1,["id"]]],"F":[["neural_training_sessions_ibfk_1",["bot_id"],"neural_ai_bots",["bot_id"],"RESTRICT","CASCADE"]]},"neura_events":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["ts","datetime",0,null,"","MUL"],["request_id","varchar(64)",0,null,"","MUL"],["event","varchar(128)",0,null,"","MUL"],["source","varchar(128)",0,null,"",""],["actor","varchar(128)",1,"NULL","",""],["ip","varchar(64)",1,"NULL","",""],["route","varchar(255)",1,"NULL","",""],["method","varchar(16)",1,"NULL","",""],["uri","varchar(512)",1,"NULL","",""],["user_agent","varchar(512)",1,"NULL","",""],["payload","longtext",1,"NULL","",""]],"P":["id"],"K":[["idx_event",0,["event"]],["idx_request",0,["request_id"]],["idx_ts",0,["ts"]],["PRIMARY",1,["id"]]]},"news_feed":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["user_id","int(11)",1,"NULL","","MUL"],["store_id","varchar(100)",1,"NULL","","MUL"],["activity_type","varchar(50)",1,"NULL","",""],["title","varchar(255)",1,"NULL","",""],["content","mediumtext",1,"NULL","",""],["data","longtext",1,"NULL","",""],["is_achievement","tinyint(1)",1,"0","",""],["is_challenge","tinyint(1)",1,"0","",""],["priority","int(11)",1,"1","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_store_time",0,["store_id","created_at"]],["idx_user_time",0,["user_id","created_at"]],["PRIMARY",1,["id"]]]},"nicotine_checks":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["outlet_id","varchar(100)",0,null,"",""],["date_checked","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["ml","int(11)",0,null,"",""],["confirmed_by_user","int(11)",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"notification_alert_rules":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["rule_name","varchar(100)",0,null,"",""],["trigger_type","varchar(50)",0,null,"","MUL"],["conditions","longtext",0,null,"",""],["actions","longtext",0,null,"",""],["enabled","tinyint(1)",0,"1","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["created_by","int(11)",0,null,"","MUL"],["last_triggered","timestamp",1,"NULL","",""]],"P":["id"],"K":[["idx_created_by",0,["created_by"]],["idx_trigger_enabled",0,["trigger_type","enabled"]],["PRIMARY",1,["id"]]]},"notification_computers":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["computer_name","mediumtext",1,"NULL","",""],["ip","mediumtext",1,"NULL","",""],["last_pinged","timestamp",1,"NULL","",""],["outlet_id","mediumtext",1,"NULL","",""],["web_order_notification","int(11)",0,"1","",""],["take_screenshots","int(11)",1,"0","",""],["screenshot_seconds","int(11)",1,"30","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"notification_messages":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["message","mediumtext",0,null,"",""],["created","timestamp",0,"current_timestamp()","on update current_timestamp()","MUL"],["link","mediumtext",1,"NULL","",""],["specific_store_id","mediumtext",1,"NULL","",""],["specific_computer_id","mediumtext",1,"NULL","",""]],"P":["id"],"K":[["messageCreated",0,["created"]],["PRIMARY",1,["id"]]]},"notification_preferences":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["user_id","varchar(50)",1,"'pearce'","","MUL"],["notification_type","varchar(50)",0,null,"","MUL"],["enabled","tinyint(1)",1,"1","",""],["frequency","enum('realtime','hourly','daily','disabled')",1,"'realtime'","",""],["channels","longtext",1,"NULL","",""],["quiet_hours_start","time",1,"'22:00:00'","",""],["quiet_hours_end","time",1,"'07:00:00'","",""],["weekend_notifications","tinyint(1)",1,"0","",""],["urgency_threshold","int(11)",1,"70","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_type",0,["notification_type"]],["idx_user",0,["user_id"]],["PRIMARY",1,["id"]],["unique_user_type",1,["user_id","notification_type"]]]},"notification_read":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["message_id","int(11)",0,null,"","MUL"],["computer_id","int(11)",0,null,"","MUL"],["message_read","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["ComputerID",0,["computer_id"]],["MessageID",0,["message_id"]],["PRIMARY",1,["id"]]]},"nz_vape_websites":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["domain","varchar(100)",0,null,"","UNI"],["website_name","varchar(200)",0,null,"",""],["site_type","enum('retailer','wholesale','manufacturer','distributor')",1,"'retailer'","",""],["market_tier","enum('premium','mid_market','budget','specialty')",1,"'mid_market'","",""],["crawling_enabled","tinyint(1)",1,"1","","MUL"],["crawl_priority","int(11)",1,"50","",""],["stealth_level","enum('low','medium','high','ultra')",1,"'ultra'","",""],["crawl_delay_seconds","int(11)",1,"45","",""],["product_list_urls","longtext",1,"NULL","",""],["search_url_template","varchar(500)",1,"NULL","",""],["pagination_pattern","varchar(200)",1,"NULL","",""],["requires_javascript","tinyint(1)",1,"0","",""],["has_bot_protection","tinyint(1)",1,"0","",""],["login_required","tinyint(1)",1,"0","",""],["cloudflare_protected","tinyint(1)",1,"0","",""],["avg_response_time_ms","int(11)",1,"0","",""],["success_rate_percent","decimal(5,2)",1,"100.00","",""],["last_successful_crawl","datetime",1,"NULL","","MUL"],["last_failed_crawl","datetime",1,"NULL","",""],["consecutive_failures","int(11)",1,"0","",""],["product_count_estimate","int(11)",1,"0","",""],["pricing_accuracy","enum('low','medium','high')",1,"'medium'","",""],["stock_info_available","tinyint(1)",1,"0","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["domain",1,["domain"]],["idx_crawling_enabled",0,["crawling_enabled","crawl_priority"]],["idx_domain",0,["domain"]],["idx_last_crawl",0,["last_successful_crawl"]],["PRIMARY",1,["id"]]]},"openai_keys":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["label","varchar(64)",0,null,"",""],["api_key_enc","text",0,null,"",""],["last_used_at","timestamp",1,"NULL","","MUL"],["enabled","tinyint(1)",1,"1","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_enabled",0,["enabled"]],["idx_last_used",0,["last_used_at"]],["PRIMARY",1,["id"]]]},"outlet_courier_tokens":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["outlet_id","varchar(64)",0,null,"","MUL"],["carrier","varchar(50)",0,null,"",""],["token_sealed","varbinary(4096)",0,null,"",""],["created_by","int(11)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_outlet_carrier",0,["outlet_id","carrier"]],["PRIMARY",1,["id"]],["u_outlet_carrier",1,["outlet_id","carrier"]]]},"pack_rules":{"C":[["scope","enum('product','category','brand','supplier')",0,null,"","PRI"],["scope_id","varchar(100)",0,null,"","PRI"],["pack_size","int(11)",1,"NULL","",""],["outer_multiple","int(11)",1,"NULL","",""],["enforce_outer","tinyint(1)",0,"0","",""],["rounding_mode","enum('floor','ceil','round')",0,"'round'","",""],["source","enum('human','vendor','gpt','inferred')",0,"'human'","",""],["confidence","decimal(4,2)",0,"1.00","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["created_at","timestamp",0,"current_timestamp()","",""],["must_outer_pack","tinyint(1)",0,"0","",""],["min_outer_multiple","int(11)",1,"NULL","",""],["max_units_per_pack","int(11)",1,"NULL","",""]],"P":["scope","scope_id"],"K":[["ix_pack_rules_scope",0,["scope","scope_id"]],["ix_pack_rules_scope_scopeid",0,["scope","scope_id"]],["PRIMARY",1,["scope","scope_id"]]]},"payroll_audit_log":{"C":[["id","int(10) unsigned",0,null,"auto_increment","PRI"],["created_at","timestamp",0,"current_timestamp()","","MUL"],["level","varchar(20)",0,"'info'","","MUL"],["message","text",0,null,"",""],["ctx_json","longtext",1,"NULL","",""]],"P":["id"],"K":[["created_at_idx",0,["created_at"]],["level_idx",0,["level"]],["PRIMARY",1,["id"]]]},"payroll_wage_issues":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["staff_id","int(11)",0,null,"","MUL"],["xero_employee_id","char(36)",0,null,"","MUL"],["payslip_id","char(36)",0,null,"","MUL"],["payrun_id","char(36)",0,null,"","MUL"],["line_type","enum('earnings','reimbursement')",0,null,"",""],["line_id","char(36)",0,null,"",""],["change_type","enum('underpaid_time','overpaid_time','reimbursement')",0,null,"",""],["hours","decimal(10,2)",1,"0.00","",""],["amount","decimal(10,2)",1,"0.00","",""],["note","text",1,"NULL","",""],["evidence_json","longtext",1,"NULL","",""],["ocr_json","longtext",1,"NULL","",""],["anomaly_json","longtext",1,"NULL","",""],["status","enum('pending','approved','declined')",1,"'pending'","",""],["approved_at","datetime",1,"NULL","",""],["approved_by","int(11)",1,"NULL","",""],["created_at","datetime",0,null,"",""]],"P":["id"],"K":[["payrun_id",0,["payrun_id"]],["payslip_id",0,["payslip_id"]],["PRIMARY",1,["id"]],["staff_id",0,["staff_id"]],["xero_employee_id",0,["xero_employee_id"]]]},"payroll_wage_issue_events":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["issue_id","int(11)",0,null,"","MUL"],["actor_type","enum('user','system','payroll')",0,null,"",""],["actor_id","varchar(64)",1,"NULL","",""],["event_type","varchar(64)",0,null,"",""],["details_json","longtext",1,"NULL","",""],["created_at","datetime",1,"current_timestamp()","",""]],"P":["id"],"K":[["issue_id",0,["issue_id"]],["PRIMARY",1,["id"]]],"F":[["fk_pwiev_issue",["issue_id"],"payroll_wage_issues",["id"],"RESTRICT","CASCADE"]]},"performance_tests":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["test_id","varchar(255)",0,null,"","UNI"],["performance_score","int(11)",0,null,"",""],["performance_grade","char(1)",0,null,"",""],["duration_seconds","decimal(10,2)",0,null,"",""],["results","longtext",0,null,"",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]],["test_id",1,["test_id"]]]},"permissions":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["name","varchar(100)",1,"NULL","",""],["show_in_sidemenu","int(11)",0,"1","",""],["filename","varchar(100)",0,null,"",""],["navigation_id","int(11)",0,null,"","MUL"]],"P":["id"],"K":[["navID_idx",0,["navigation_id"]],["PRIMARY",1,["id"]]]},"personalized_tasks":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["staff_id","varchar(50)",0,null,"","MUL"],["outlet_id","int(11)",0,null,"",""],["task_name","varchar(255)",0,null,"",""],["description","mediumtext",0,null,"",""],["points_value","int(11)",0,null,"",""],["difficulty","enum('Easy','Medium','Hard')",1,"'Medium'","",""],["mode","enum('fun','serious','balanced')",1,"'balanced'","",""],["status","enum('active','completed','expired')",1,"'active'","",""],["completion_date","timestamp",1,"NULL","",""],["week_starting","date",0,null,"",""],["expires_at","timestamp",1,"NULL","",""],["gpt_context","mediumtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_personal_tasks",0,["staff_id","status","week_starting"]],["PRIMARY",1,["id"]]]},"petty_cash_expenses":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["outlet_id","varchar(45)",0,null,"","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["total_cash","decimal(10,2)",0,null,"",""],["xero_invoice_id","varchar(45)",0,null,"",""],["deleted_at","timestamp",1,"NULL","",""]],"P":["id"],"K":[["outletIDIndex",0,["outlet_id"]],["PRIMARY",1,["id"]]]},"petty_cash_receipts_upload":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["amount","decimal(10,2)",0,null,"",""],["notes","mediumtext",1,"NULL","",""],["uploaded_at","timestamp",0,"current_timestamp()","",""],["uploaded_by","int(11)",0,null,"",""],["assigned_to_expense","varchar(45)",1,"NULL","","MUL"],["deleted_at","timestamp",1,"NULL","",""],["filename","varchar(100)",0,null,"",""],["original_filename","mediumtext",0,null,"",""],["outlet_id","varchar(45)",0,null,"","MUL"],["assigned_to_expense_timestamp","timestamp",1,"NULL","",""],["assigned_by","int(11)",1,"NULL","",""]],"P":["id"],"K":[["assignedExpenseIndex",0,["assigned_to_expense"]],["outletIDIndex",0,["outlet_id"]],["PRIMARY",1,["id"]]]},"post_codes":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["post_code","int(11)",1,"NULL","",""],["city","varchar(100)",1,"NULL","","MUL"],["suburb","varchar(100)",1,"NULL","",""],["territory","varchar(100)",1,"NULL","",""],["region","varchar(100)",1,"NULL","",""],["island","varchar(100)",1,"NULL","",""],["street_name","varchar(100)",1,"NULL","",""]],"P":["id"],"K":[["mainIndex",0,["city","territory","region","island"]],["PRIMARY",1,["id"]]]},"po_attachments":{"C":[["attachment_id","int(11)",0,null,"auto_increment","PRI"],["purchase_order_id","int(11)",0,null,"","MUL"],["line_item_id","int(11)",1,"NULL","",""],["document_type","enum('packing_slip','invoice','other')",1,"'other'","",""],["file_path","varchar(255)",0,null,"",""],["uploaded_by","int(11)",0,null,"",""],["uploaded_at","datetime",0,null,"",""]],"P":["attachment_id"],"K":[["PRIMARY",1,["attachment_id"]],["purchase_order_id",0,["purchase_order_id"]]],"F":[["po_attachments_ibfk_1",["purchase_order_id"],"purchase_orders",["purchase_order_id"],"RESTRICT","RESTRICT"]]},"po_discrepancies":{"C":[["discrepancy_id","int(11)",0,null,"auto_increment","PRI"],["purchase_order_id","int(11)",0,null,"","MUL"],["line_item_id","int(11)",1,"NULL","",""],["type","enum('missing','damaged','over','under','other')",1,"'other'","",""],["description","mediumtext",1,"NULL","",""],["discrepancy_note","mediumtext",1,"NULL","",""],["detected_by","int(11)",1,"NULL","",""],["detected_at","datetime",0,null,"",""]],"P":["discrepancy_id"],"K":[["PRIMARY",1,["discrepancy_id"]],["purchase_order_id",0,["purchase_order_id"]]],"F":[["po_discrepancies_ibfk_1",["purchase_order_id"],"purchase_orders",["purchase_order_id"],"RESTRICT","RESTRICT"]]},"po_documents":{"C":[["document_id","int(11)",0,null,"auto_increment","PRI"],["purchase_order_id","int(11)",0,null,"","MUL"],["document_type","enum('packing_slip','invoice','other')",1,"'other'","",""],["file_path","varchar(255)",0,null,"",""],["uploaded_by","int(11)",0,null,"",""],["uploaded_at","datetime",0,null,"",""]],"P":["document_id"],"K":[["PRIMARY",1,["document_id"]],["purchase_order_id",0,["purchase_order_id"]]],"F":[["po_documents_ibfk_1",["purchase_order_id"],"purchase_orders",["purchase_order_id"],"RESTRICT","RESTRICT"]]},"po_email_ingest":{"C":[["ingest_id","int(11)",0,null,"auto_increment","PRI"],["purchase_order_id","int(11)",0,null,"","MUL"],["email_from","varchar(128)",1,"NULL","",""],["subject","varchar(255)",1,"NULL","",""],["body","mediumtext",1,"NULL","",""],["received_at","datetime",0,null,"",""],["processed","tinyint(1)",1,"0","",""]],"P":["ingest_id"],"K":[["PRIMARY",1,["ingest_id"]],["purchase_order_id",0,["purchase_order_id"]]],"F":[["po_email_ingest_ibfk_1",["purchase_order_id"],"purchase_orders",["purchase_order_id"],"RESTRICT","RESTRICT"]]},"po_events":{"C":[["event_id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["purchase_order_id","int(11)",0,null,"","MUL"],["event_type","varchar(64)",0,null,"",""],["event_data","longtext",1,"NULL","",""],["created_by","int(11)",1,"NULL","",""],["created_at","datetime",0,"current_timestamp()","",""]],"P":["event_id"],"K":[["idx_po_event",0,["purchase_order_id","event_type","created_at"]],["PRIMARY",1,["event_id"]]]},"po_evidence":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["purchase_order_id","int(11)",0,null,"","MUL"],["evidence_type","varchar(50)",1,"'delivery'","",""],["file_path","varchar(500)",0,null,"",""],["description","text",1,"NULL","",""],["uploaded_by","int(11)",0,null,"","MUL"],["uploaded_at","datetime",1,"current_timestamp()","",""]],"P":["id"],"K":[["idx_po_id",0,["purchase_order_id"]],["idx_uploaded_by",0,["uploaded_by"]],["PRIMARY",1,["id"]]]},"po_notes":{"C":[["note_id","int(11)",0,null,"auto_increment","PRI"],["purchase_order_id","int(11)",0,null,"","MUL"],["line_item_id","int(11)",1,"NULL","",""],["discrepancy_id","int(11)",1,"NULL","",""],["event_id","int(11)",1,"NULL","",""],["user_id","int(11)",0,null,"",""],["note_type","enum('general','line','discrepancy','event')",1,"'general'","",""],["note","mediumtext",0,null,"",""],["created_at","datetime",0,null,"",""]],"P":["note_id"],"K":[["PRIMARY",1,["note_id"]],["purchase_order_id",0,["purchase_order_id"]]],"F":[["po_notes_ibfk_1",["purchase_order_id"],"purchase_orders",["purchase_order_id"],"RESTRICT","RESTRICT"]]},"po_receipts":{"C":[["receipt_id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["purchase_order_id","int(11)",0,null,"","MUL"],["outlet_id","varchar(100)",0,null,"",""],["is_final","tinyint(1)",0,"0","",""],["created_by","int(11)",1,"NULL","",""],["created_at","datetime",0,"current_timestamp()","",""]],"P":["receipt_id"],"K":[["idx_po_receipt",0,["purchase_order_id","created_at"]],["PRIMARY",1,["receipt_id"]]]},"po_receipt_items":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["receipt_id","bigint(20) unsigned",0,null,"","MUL"],["product_id","varchar(100)",0,null,"",""],["expected_qty","int(11)",0,"0","",""],["received_qty","int(11)",0,"0","",""],["line_note","varchar(255)",1,"NULL","",""]],"P":["id"],"K":[["idx_receipt",0,["receipt_id"]],["PRIMARY",1,["id"]]],"F":[["fk_receipt_items_header",["receipt_id"],"po_receipts",["receipt_id"],"RESTRICT","CASCADE"]]},"po_receiving_sim_lines":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["sim_id","int(11)",0,null,"","MUL"],["product_id","varchar(64)",0,null,"",""],["expected_qty","int(11)",0,"0","",""],["received_qty","int(11)",0,"0","",""],["flags_json","longtext",1,"NULL","",""],["line_note","text",1,"NULL","",""]],"P":["id"],"K":[["idx_sim",0,["sim_id"]],["PRIMARY",1,["id"]]],"F":[["fk_sim_header",["sim_id"],"po_receiving_sim_sessions",["sim_id"],"RESTRICT","CASCADE"]]},"po_receiving_sim_sessions":{"C":[["sim_id","int(11)",0,null,"auto_increment","PRI"],["purchase_order_id","int(11)",0,null,"","MUL"],["user_id","int(11)",0,null,"","MUL"],["notes","text",1,"NULL","",""],["quality","enum('poor','fair','good','excellent')",1,"NULL","",""],["items_count","int(11)",0,"0","",""],["is_partial","tinyint(1)",0,"0","",""],["created_at","datetime",1,"current_timestamp()","","MUL"]],"P":["sim_id"],"K":[["idx_created",0,["created_at"]],["idx_po",0,["purchase_order_id"]],["idx_user",0,["user_id"]],["PRIMARY",1,["sim_id"]]]},"po_security_events":{"C":[["event_id","int(11)",0,null,"auto_increment","PRI"],["purchase_order_id","int(11)",1,"NULL","",""],["event_type","varchar(64)",0,null,"",""],["event_data","longtext",1,"NULL","",""],["triggered_by","int(11)",1,"NULL","",""],["triggered_at","datetime",0,null,"",""]],"P":["event_id"],"K":[["PRIMARY",1,["event_id"]]]},"po_settings":{"C":[["setting_id","int(11)",0,null,"auto_increment","PRI"],["setting_key","varchar(64)",0,null,"",""],["setting_value","varchar(255)",0,null,"",""],["scope","enum('global','outlet','user')",1,"'global'","",""],["scope_id","int(11)",1,"NULL","",""],["updated_at","datetime",0,null,"",""]],"P":["setting_id"],"K":[["PRIMARY",1,["setting_id"]]]},"po_supplier_ratings":{"C":[["rating_id","int(11)",0,null,"auto_increment","PRI"],["purchase_order_id","int(11)",0,null,"","MUL"],["supplier_id","int(11)",0,null,"",""],["rating","enum('excellent','good','fair','poor')",1,"'good'","",""],["notes","mediumtext",1,"NULL","",""],["rated_by","int(11)",0,null,"",""],["rated_at","datetime",0,null,"",""]],"P":["rating_id"],"K":[["PRIMARY",1,["rating_id"]],["purchase_order_id",0,["purchase_order_id"]]],"F":[["po_supplier_ratings_ibfk_1",["purchase_order_id"],"purchase_orders",["purchase_order_id"],"RESTRICT","RESTRICT"]]},"po_ui_panels_state":{"C":[["state_id","int(11)",0,null,"auto_increment","PRI"],["purchase_order_id","int(11)",0,null,"","MUL"],["user_id","int(11)",0,null,"",""],["panel_name","varchar(64)",0,null,"",""],["state","longtext",1,"NULL","",""],["updated_at","datetime",0,null,"",""]],"P":["state_id"],"K":[["PRIMARY",1,["state_id"]],["purchase_order_id",0,["purchase_order_id"]]],"F":[["po_ui_panels_state_ibfk_1",["purchase_order_id"],"purchase_orders",["purchase_order_id"],"RESTRICT","RESTRICT"]]},"price_history":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["product_id","int(11)",0,null,"","MUL"],["price","decimal(10,2)",0,null,"","MUL"],["availability_status","enum('in_stock','out_of_stock','limited_stock','pre_order','discontinued')",0,null,"",""],["promotion_applied","tinyint(1)",1,"0","",""],["promotion_details","longtext",1,"NULL","",""],["stock_quantity","int(11)",1,"NULL","",""],["recorded_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["price",0,["price"]],["PRIMARY",1,["id"]],["product_id",0,["product_id"]],["recorded_at",0,["recorded_at"]]]},"price_tracking":{"C":[["price_id","int(10) unsigned",0,null,"auto_increment","PRI"],["competitor_name","varchar(200)",0,null,"","MUL"],["product_name","varchar(300)",0,null,"","MUL"],["product_url","varchar(1000)",1,"NULL","",""],["current_price","decimal(10,2)",1,"NULL","",""],["previous_price","decimal(10,2)",1,"NULL","",""],["price_change","decimal(10,2)",1,"0.00","","MUL"],["price_change_percent","decimal(5,2)",1,"0.00","",""],["is_on_sale","tinyint(1)",1,"0","","MUL"],["sale_price","decimal(10,2)",1,"NULL","",""],["stock_status","enum('in_stock','out_of_stock','limited','unknown')",1,"'unknown'","","MUL"],["last_seen","timestamp",0,"current_timestamp()","on update current_timestamp()","MUL"],["first_seen","timestamp",0,"current_timestamp()","",""]],"P":["price_id"],"K":[["idx_competitor_name",0,["competitor_name"]],["idx_is_on_sale",0,["is_on_sale"]],["idx_last_seen",0,["last_seen"]],["idx_price_change",0,["price_change"]],["idx_product_name",0,["product_name"]],["idx_stock_status",0,["stock_status"]],["PRIMARY",1,["price_id"]],["unique_competitor_product",1,["competitor_name","product_name"]]],"F":[["price_tracking_ibfk_1",["competitor_name"],"competitor_profiles",["competitor_name"],"CASCADE","CASCADE"]]},"pricing_matrix":{"C":[["rule_id","int(11)",0,"0","",""],["carrier_code","varchar(32)",0,null,"",""],["carrier_name","varchar(100)",0,null,"",""],["service_code","varchar(64)",1,null,"",""],["service_name","varchar(150)",1,null,"",""],["container_code","varchar(64)",1,null,"",""],["container_name","varchar(150)",1,null,"",""],["length_mm","int(11)",1,"NULL","",""],["width_mm","int(11)",1,"NULL","",""],["height_mm","int(11)",1,"NULL","",""],["max_weight_grams","int(11)",1,"NULL","",""],["price","decimal(10,2)",0,null,"",""],["currency","char(3)",0,"'NZD'","",""],["effective_from","date",1,"NULL","",""],["effective_to","date",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","",""]]},"pricing_rules":{"C":[["rule_id","int(11)",0,null,"auto_increment","PRI"],["carrier_id","int(11)",0,null,"","MUL"],["service_id","int(11)",1,"NULL","","MUL"],["container_id","int(11)",1,"NULL","","MUL"],["price","decimal(10,2)",0,null,"",""],["currency","char(3)",0,"'NZD'","",""],["effective_from","date",1,"NULL","",""],["effective_to","date",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["rule_id"],"K":[["fk_pr_container",0,["container_id"]],["fk_pr_service",0,["service_id"]],["ix_pr_carrier_service_container",0,["carrier_id","service_id","container_id"]],["PRIMARY",1,["rule_id"]]],"F":[["fk_pricing_carrier",["carrier_id"],"carriers",["carrier_id"],"CASCADE","CASCADE"],["fk_pricing_container",["container_id"],"containers",["container_id"],"CASCADE","SET NULL"],["fk_pricing_service",["service_id"],"carrier_services",["service_id"],"CASCADE","SET NULL"],["fk_pr_carrier",["carrier_id"],"carriers",["carrier_id"],"CASCADE","RESTRICT"],["fk_pr_container",["container_id"],"containers",["container_id"],"CASCADE","RESTRICT"],["fk_pr_service",["service_id"],"carrier_services",["service_id"],"CASCADE","RESTRICT"]]},"print_jobs":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["queue","varchar(64)",0,"'default'","","MUL"],["job_type","varchar(32)",0,null,"",""],["payload","longtext",0,null,"",""],["priority","tinyint(4)",0,"5","",""],["status","enum('queued','picked','done','error','cancelled')",0,"'queued'","",""],["agent_id","varchar(64)",1,"NULL","","MUL"],["available_at","timestamp",0,"current_timestamp()","",""],["picked_at","timestamp",1,"NULL","",""],["completed_at","timestamp",1,"NULL","",""],["error_message","text",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_agent_status",0,["agent_id","status"]],["idx_queue_status_prio",0,["queue","status","priority","available_at"]],["PRIMARY",1,["id"]]]},"product_categorization_data":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["product_id","varchar(100)",0,null,"","UNI"],["lightspeed_category_id","varchar(255)",1,"NULL","","MUL"],["category_id","varchar(50)",0,null,"","MUL"],["category_code","varchar(50)",1,"NULL","",""],["pack_quantity","int(11)",1,"NULL","",""],["outer_packaging","int(11)",1,"NULL","",""],["categorization_confidence","decimal(3,2)",1,"NULL","",""],["categorization_method","varchar(50)",1,"NULL","",""],["categorization_reasoning","text",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["ix_pcd_category",0,["category_id"]],["ix_pcd_vendor_lightspeed",0,["lightspeed_category_id"]],["ix_product_categorization_prod",0,["product_id"]],["PRIMARY",1,["id"]],["unique_product",1,["product_id"]]],"F":[["fk_pcd_cat",["category_id"],"categories",["id"],"RESTRICT","RESTRICT"],["fk_pcd_product",["product_id"],"vend_products",["id"],"RESTRICT","RESTRICT"]]},"product_categorization_queue":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["product_id","varchar(255)",0,null,"","UNI"],["product_name","varchar(500)",1,"NULL","",""],["status","enum('queued','processing','done','failed')",0,"'queued'","","MUL"],["attempt_count","int(11)",0,"0","",""],["last_error","text",1,"NULL","",""],["requested_by","varchar(100)",1,"NULL","",""],["locked_at","datetime",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_pcq_status",0,["status"]],["PRIMARY",1,["id"]],["uq_pcq_product",1,["product_id"]]]},"product_classification":{"C":[["product_id","varchar(255)",0,null,"","PRI"],["product_type_code","varchar(50)",0,"'unknown'","",""],["category_id","varchar(50)",0,null,"","MUL"],["confidence","decimal(4,2)",0,"0.00","",""],["method","enum('unknown','lightspeed','vend_map','keyword','ai','human','rule')",0,"'unknown'","",""],["reasoning","text",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["product_id"],"K":[["ix_product_classification_cat",0,["category_id"]],["PRIMARY",1,["product_id"]],["ux_product_classification_prod",1,["product_id"]]],"F":[["fk_pc_category",["category_id"],"categories",["id"],"RESTRICT","RESTRICT"]]},"product_classification_unified":{"C":[["product_id","varchar(100)",0,null,"","PRI"],["product_type_code","varchar(50)",0,null,"",""],["category_id","varchar(50)",0,null,"","MUL"],["category_code","varchar(100)",1,"NULL","",""],["external_source_id","varchar(255)",1,"NULL","",""],["confidence","decimal(4,2)",1,"0.00","",""],["method","varchar(50)",1,"'unknown'","",""],["reasoning","text",1,"NULL","",""],["created_at","timestamp",1,"NULL","",""],["updated_at","timestamp",1,"NULL","",""]],"P":["product_id"],"K":[["ix_pcu_category",0,["category_id"]],["ix_pcu_prod_cat",0,["product_id","category_id"]],["PRIMARY",1,["product_id"]]],"F":[["fk_pcu_category",["category_id"],"categories",["id"],"RESTRICT","RESTRICT"],["fk_pcu_product",["product_id"],"vend_products",["id"],"RESTRICT","RESTRICT"]]},"product_competitor_matches":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["website_id","int(11)",0,null,"","MUL"],["competitor_product_name","varchar(300)",0,null,"",""],["competitor_product_url","varchar(800)",0,null,"",""],["competitor_sku","varchar(100)",1,"NULL","",""],["our_product_id","int(11)",1,"NULL","","MUL"],["match_confidence","decimal(3,2)",1,"0.00","",""],["match_type","enum('exact','similar','variant','unknown')",1,"'unknown'","",""],["current_price","decimal(10,2)",1,"NULL","",""],["original_price","decimal(10,2)",1,"NULL","",""],["our_price","decimal(10,2)",1,"NULL","",""],["price_advantage_percent","decimal(6,2)",1,"NULL","STORED GENERATED","MUL"],["stock_status","enum('in_stock','out_of_stock','low_stock','unknown')",1,"'unknown'","",""],["availability_text","varchar(200)",1,"NULL","",""],["is_on_sale","tinyint(1)",1,"0","",""],["sale_badge_text","varchar(200)",1,"NULL","",""],["variants_data","longtext",1,"NULL","",""],["dropdowns_data","longtext",1,"NULL","",""],["coil_pack_data","longtext",1,"NULL","",""],["size_variations","longtext",1,"NULL","",""],["nicotine_variations","longtext",1,"NULL","",""],["pricing_matrix","longtext",1,"NULL","",""],["images_data","longtext",1,"NULL","",""],["screenshot_path","varchar(500)",1,"NULL","",""],["video_path","varchar(500)",1,"NULL","",""],["reviews_count","int(11)",1,"0","",""],["reviews_rating","decimal(3,2)",1,"0.00","",""],["gpt_vision_analysis","longtext",1,"NULL","",""],["gpt_vision_used","tinyint(1)",1,"0","",""],["last_price_check","datetime",1,"NULL","","MUL"],["alert_threshold_percent","decimal(5,2)",1,"10.00","",""],["priority","int(11)",1,"50","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_competitor_matches_monitoring",0,["last_price_check","alert_threshold_percent"]],["idx_our_product",0,["our_product_id"]],["idx_price_advantage",0,["price_advantage_percent"]],["idx_price_check",0,["last_price_check"]],["idx_website_product",0,["website_id","competitor_product_name"]],["PRIMARY",1,["id"]],["unique_competitor_product",1,["website_id","competitor_product_url"]]],"F":[["product_competitor_matches_ibfk_1",["website_id"],"nz_vape_websites",["id"],"RESTRICT","CASCADE"]]},"product_dimensions":{"C":[["product_id","varchar(45)",0,null,"","PRI"],["avg_length_mm","int(11)",1,"NULL","",""],["avg_width_mm","int(11)",1,"NULL","",""],["avg_height_mm","int(11)",1,"NULL","",""],["avg_volume_cm3","int(11)",1,"NULL","",""],["sample_count","int(11)",1,"0","",""],["confidence_score","decimal(3,2)",1,"0.00","","MUL"],["source","enum('manual','calculated','estimated')",1,"'estimated'","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["product_id"],"K":[["idx_confidence",0,["confidence_score"]],["idx_source",0,["source"]],["PRIMARY",1,["product_id"]]]},"product_types":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["code","varchar(50)",0,null,"","UNI"],["label","varchar(100)",1,"NULL","",""],["description","mediumtext",1,"NULL","",""],["active","tinyint(1)",1,"1","",""],["default_seed_qty","int(10) unsigned",0,"3","",""],["avg_weight_grams","int(11)",1,"0","",""]],"P":["id"],"K":[["code",1,["code"]],["PRIMARY",1,["id"]]]},"projects":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["name","varchar(255)",0,null,"",""],["slug","varchar(100)",0,null,"","UNI"],["description","text",1,"NULL","",""],["template_contract","varchar(64)",0,"'CIS_TEMPLATE'","","MUL"],["template_version","varchar(16)",0,"'1.0.0'","",""],["status","enum('active','archived','suspended')",1,"'active'","","MUL"],["created_by_user","varchar(100)",0,null,"","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_created_by",0,["created_by_user"]],["idx_slug",0,["slug"]],["idx_status",0,["status"]],["idx_template",0,["template_contract","template_version"]],["PRIMARY",1,["id"]],["slug",1,["slug"]]]},"proposed_transactions":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["StatementLineID","varchar(100)",1,"NULL","","UNI"],["InvoiceDate","date",1,"NULL","","MUL"],["ContactName","varchar(255)",1,"NULL","",""],["Reference","varchar(255)",1,"NULL","",""],["Description","varchar(255)",1,"NULL","",""],["bankAccountID","varchar(100)",1,"NULL","",""],["ledgerAccountID","varchar(100)",1,"NULL","",""],["GSTCode","varchar(50)",1,"NULL","",""],["Spent","decimal(10,2)",1,"NULL","",""],["Received","decimal(10,2)",1,"NULL","",""],["confidence_score","float",1,"NULL","","MUL"],["categorized_by","varchar(50)",1,"'ai'","",""],["reviewed","tinyint(1)",1,"0","","MUL"],["approved","tinyint(1)",1,"0","",""],["review_date","timestamp",1,"NULL","",""],["xero_submitted","tinyint(1)",1,"0","","MUL"],["submission_date","timestamp",1,"NULL","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["comment","varchar(255)",1,"NULL","",""]],"P":["id"],"K":[["idx_proposed_transactions_confidence_date",0,["confidence_score","created_at"]],["idx_proposed_transactions_workflow",0,["reviewed","approved","xero_submitted"]],["idx_reviewed_approved",0,["reviewed","approved"]],["idx_submission_date",0,["submission_date"]],["idx_xero_submitted",0,["xero_submitted"]],["PRIMARY",1,["id"]],["unique_statement_line",1,["StatementLineID"]],["unique_transaction",1,["InvoiceDate","ContactName","Description","Reference","Spent","bankAccountID"]]]},"purchase_orders":{"C":[["purchase_order_id","int(11)",0,null,"auto_increment","PRI"],["outlet_id","varchar(100)",0,null,"","PRI"],["supplier_id","varchar(100)",0,null,"","PRI"],["supplier_name_cache","varchar(150)",1,"NULL","",""],["date_created","timestamp",0,"current_timestamp()","","MUL"],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["deleted_by","int(11)",1,"NULL","",""],["deleted_at","timestamp",1,"NULL","",""],["status","int(11)",1,"0","","MUL"],["created_by","varchar(45)",0,null,"",""],["completed_by","varchar(100)",1,"NULL","",""],["completed_timestamp","timestamp",1,"NULL","",""],["completed_notes","mediumtext",1,"NULL","",""],["receiving_started_by","varchar(45)",1,"NULL","","MUL"],["receiving_started_at","timestamp",1,"NULL","",""],["mobile_session_token","varchar(96)",1,"NULL","","MUL"],["receiving_device_info","mediumtext",1,"NULL","",""],["receive_summary_json","longtext",1,"NULL","",""],["api_id","varchar(45)",1,"NULL","","MUL"],["partial_delivery","int(11)",0,"0","","MUL"],["partial_delivery_time","timestamp",1,"NULL","",""],["partial_delivery_by","varchar(45)",1,"NULL","",""],["packing_slip_no","varchar(80)",1,"NULL","",""],["invoice_no","varchar(80)",1,"NULL","",""],["no_packing_slip","tinyint(1)",0,"0","",""],["totals_mode","enum('EX_GST','INC_GST')",1,"NULL","",""],["subtotal_ex_gst","decimal(12,4)",1,"NULL","",""],["gst","decimal(12,4)",1,"NULL","",""],["total_inc_gst","decimal(12,4)",1,"NULL","",""],["id","int(11)",1,"NULL","VIRTUAL GENERATED",""],["created_at","datetime",1,"NULL","VIRTUAL GENERATED",""],["completed_at","datetime",1,"NULL","VIRTUAL GENERATED",""],["last_received_by","int(11)",1,"NULL","",""],["last_received_at","datetime",1,"NULL","",""],["unlocked_by","int(11)",1,"NULL","",""],["unlocked_at","datetime",1,"NULL","",""],["receiving_notes","mediumtext",1,"NULL","",""],["receiving_quality","enum('poor','fair','good','excellent')",1,"NULL","",""]],"P":["purchase_order_id","outlet_id","supplier_id"],"K":[["idx_po_api",0,["api_id"]],["idx_po_mobile_token",0,["mobile_session_token"]],["idx_po_receiving_started",0,["receiving_started_by","receiving_started_at"]],["idx_po_status_created",0,["status","date_created"]],["id_UNIQUE",1,["purchase_order_id"]],["ix_po_date_created",0,["date_created"]],["ix_po_outlet_status_created",0,["outlet_id","status","date_created"]],["ix_po_partial",0,["partial_delivery"]],["ix_po_status",0,["status"]],["ix_po_supplier_status_completed",0,["supplier_id","status","completed_timestamp"]],["PRIMARY",1,["purchase_order_id","outlet_id","supplier_id"]]]},"purchase_orders_flagged":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["purchase_order_id","varchar(96)",0,null,"","MUL"],["outlet_id","varchar(64)",0,null,"","MUL"],["status","tinyint(4)",1,"0","","MUL"],["flagged_reason","varchar(255)",1,"NULL","",""],["flagged_notes","text",1,"NULL","",""],["flagged_by","varchar(64)",1,"NULL","",""],["flagged_at","datetime",1,"current_timestamp()","",""],["created_at","datetime",1,"current_timestamp()","",""],["updated_at","datetime",1,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_outlet",0,["outlet_id"]],["idx_po",0,["purchase_order_id"]],["idx_status",0,["status"]],["PRIMARY",1,["id"]]]},"purchase_order_items":{"C":[["purchase_order_id","int(11)",0,null,"",""],["product_id","varchar(100)",0,null,"",""],["qty_ordered","int(11)",0,null,"",""],["qty_received","int(11)",1,"NULL","",""],["damaged_qty","int(11)",0,"0","",""],["has_damage","int(1)",0,"0","",""],["line_note","varchar(255)",1,"NULL","",""],["discrepancy_type","enum('OK','MISSING','SENT_LOW','SENT_HIGH','SUBSTITUTED','DAMAGED','UNORDERED')",0,"'OK'","",""],["received_at","timestamp",1,"NULL","",""],["is_substitute","tinyint(1)",1,"NULL","",""],["received_by","varchar(45)",1,"NULL","",""]]},"purchase_order_line_items":{"C":[["product_id","varchar(100)",0,null,"","PRI"],["substitution_product_id","varchar(100)",1,"NULL","","MUL"],["purchase_order_id","int(11)",0,null,"","PRI"],["order_qty","int(11)",0,null,"",""],["slip_qty","int(11)",1,"NULL","",""],["order_purchase_price","decimal(10,4)",0,null,"",""],["qty_in_stock_before","int(11)",1,"NULL","",""],["qty_arrived","int(11)",1,"NULL","",""],["damaged_qty","int(11)",0,"0","",""],["discrepancy_type","enum('OK','MISSING','SENT_LOW','SENT_HIGH','SUBSTITUTED','DAMAGED','UNORDERED')",0,"'OK'","",""],["unit_cost_ex_gst","decimal(10,4)",1,"NULL","",""],["line_note","varchar(255)",1,"NULL","",""],["received_by","varchar(45)",1,"NULL","","MUL"],["received_at","timestamp",1,"NULL","",""],["barcode_scanned","tinyint(1)",0,"0","","MUL"],["photo_evidence_count","int(11)",0,"0","","MUL"],["receiving_notes","mediumtext",1,"NULL","",""],["added_product","int(11)",0,"0","",""],["unexpected_product","tinyint(1)",0,"0","","MUL"],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["deleted_by","int(11)",1,"NULL","",""],["deleted_at","timestamp",1,"NULL","",""],["qty_ordered","int(11)",1,"NULL","VIRTUAL GENERATED",""],["qty_received","int(11)",1,"NULL","VIRTUAL GENERATED",""],["has_damage","tinyint(1)",1,"NULL","",""],["is_substitute","tinyint(1)",1,"NULL","",""]],"P":["product_id","purchase_order_id"],"K":[["idx_poli_barcode",0,["barcode_scanned"]],["idx_poli_photos",0,["photo_evidence_count"]],["idx_poli_received",0,["received_by","received_at"]],["idx_poli_unexpected",0,["unexpected_product"]],["ix_poli_product",0,["product_id"]],["ix_poli_substitute",0,["substitution_product_id"]],["PRIMARY",1,["product_id","purchase_order_id"]],["purchaseOrderID_idx",0,["purchase_order_id"]]],"F":[["purchaseOrderID",["purchase_order_id"],"purchase_orders",["purchase_order_id"],"NO ACTION","CASCADE"]]},"queue_config":{"C":[["config_key","varchar(255)",0,null,"","PRI"],["config_value","text",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["config_key"],"K":[["PRIMARY",1,["config_key"]]]},"queue_dlq":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["job_id","bigint(20) unsigned",0,null,"","MUL"],["job_type","varchar(80)",0,null,"","MUL"],["ref_id","varchar(128)",1,"NULL","","MUL"],["payload_json","longtext",0,null,"",""],["attempts","int(10) unsigned",0,null,"",""],["last_error","text",1,"NULL","",""],["dead_at","datetime",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_dead_ref",0,["ref_id"]],["idx_dead_type",0,["job_type","dead_at"]],["idx_job_id",0,["job_id"]],["PRIMARY",1,["id"]]]},"queue_feature_endpoints":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["key","varchar(120)",0,null,"","UNI"],["title","varchar(160)",0,null,"",""],["status","enum('enabled','disabled')",0,"'enabled'","",""],["http_method","enum('POST','GET','PUT','PATCH')",0,"'POST'","",""],["handler_type","enum('queue','sync')",0,"'queue'","",""],["job_type","varchar(120)",1,"NULL","",""],["payload_schema","longtext",1,"NULL","",""],["idempotency_mode","enum('header','field','off')",0,"'header'","",""],["auth_mode","enum('open','bearer')",0,"'bearer'","",""],["secret","varchar(255)",1,"NULL","",""],["notes","text",1,"NULL","",""],["created_at","datetime",0,"current_timestamp()","",""],["updated_at","datetime",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["key",1,["key"]],["PRIMARY",1,["id"]]]},"queue_health":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["sampled_at","datetime",0,null,"","MUL"],["tier","enum('green','amber','red')",0,null,"",""],["damage_score","decimal(5,2)",0,"0.00","",""],["metrics","longtext",1,"NULL","",""],["notes","text",1,"NULL","",""]],"P":["id"],"K":[["idx_sampled",0,["sampled_at"]],["PRIMARY",1,["id"]]]},"queue_jobs":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["job_id","varchar(64)",0,null,"","UNI"],["job_type","varchar(64)",0,null,"","MUL"],["queue_name","varchar(64)",0,"'default'","","MUL"],["payload","longtext",0,null,"",""],["priority","tinyint(4)",0,"5","",""],["status","enum('pending','processing','completed','failed','dead')",0,"'pending'","","MUL"],["attempts","tinyint(3) unsigned",0,"0","",""],["max_attempts","tinyint(3) unsigned",0,"3","",""],["available_at","timestamp",0,"current_timestamp()","",""],["started_at","timestamp",1,"NULL","",""],["completed_at","timestamp",1,"NULL","",""],["failed_at","timestamp",1,"NULL","",""],["next_retry_at","timestamp",1,"NULL","","MUL"],["worker_id","varchar(128)",1,"NULL","","MUL"],["heartbeat_at","timestamp",1,"NULL","",""],["heartbeat_timeout","int(10) unsigned",0,"300","",""],["last_error","text",1,"NULL","",""],["error_details","longtext",1,"NULL","",""],["created_by_user","int(10) unsigned",1,"NULL","","MUL"],["processing_log","longtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_created_user",0,["created_by_user"]],["idx_job_lookup",0,["job_id","job_type"]],["idx_job_type_status",0,["job_type","status"]],["idx_queue_name_priority",0,["queue_name","priority","available_at"]],["idx_retry_schedule",0,["next_retry_at","status"]],["idx_status_available",0,["status","available_at"]],["idx_worker_heartbeat",0,["worker_id","heartbeat_at"]],["job_id",1,["job_id"]],["PRIMARY",1,["id"]]]},"queue_jobs_dlq":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["job_id","bigint(20) unsigned",1,"NULL","",""],["job_type","varchar(100)",0,null,"","MUL"],["attempts","int(11)",0,"0","",""],["failure_reason","text",1,"NULL","",""],["payload_json","longtext",1,"NULL","",""],["moved_at","datetime",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_moved",0,["moved_at"]],["idx_type",0,["job_type"]],["PRIMARY",1,["id"]]]},"queue_job_log":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["job_id","bigint(20) unsigned",0,null,"","MUL"],["job_type","varchar(80)",0,null,"","MUL"],["event","enum('enqueued','reserved','running','retry','done','failed','dead','reaped')",0,null,"",""],["attempts","int(10) unsigned",0,"0","",""],["message","varchar(500)",1,"NULL","",""],["created_at","datetime",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_created",0,["created_at"]],["idx_job",0,["job_id"]],["idx_type_event_time",0,["job_type","event","created_at"]],["PRIMARY",1,["id"]]]},"queue_job_logs":{"C":[["log_id","char(36)",0,null,"",""],["job_id","char(36)",0,null,"",""],["level","enum('debug','info','warning','error')",0,"'info'","",""],["message","text",0,null,"",""],["context","longtext",1,"NULL","",""],["created_at","datetime",0,"current_timestamp()","",""]]},"queue_trace":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["trace_id","varchar(64)",0,null,"","MUL"],["subject","enum('webhook','job','system')",0,null,"","MUL"],["subject_id","varchar(64)",1,"NULL","",""],["stage","varchar(64)",0,null,"",""],["level","varchar(16)",0,"'info'","",""],["data","longtext",1,"NULL","",""],["created_at","datetime",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_subject",0,["subject","subject_id"]],["idx_trace",0,["trace_id"]],["PRIMARY",1,["id"]]]},"queue_webhook_endpoints":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["name","varchar(120)",0,null,"","UNI"],["token","char(24)",0,null,"",""],["status","enum('enabled','disabled')",0,"'enabled'","",""],["mode","enum('open','hmac','bearer')",0,"'open'","",""],["secret","varchar(255)",1,"NULL","",""],["tolerance_sec","int(11)",0,"300","",""],["fanout_enabled","tinyint(1)",0,"1","",""],["notes","text",1,"NULL","",""],["created_at","datetime",0,"current_timestamp()","",""],["updated_at","datetime",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["name",1,["name"]],["PRIMARY",1,["id"]]]},"queue_webhook_events":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["webhook_id","varchar(64)",0,null,"","UNI"],["webhook_type","varchar(100)",0,null,"","MUL"],["status","enum('received','processing','completed','failed')",0,"'received'","",""],["received_at","datetime",0,"current_timestamp()","","MUL"],["processed_at","datetime",1,"NULL","",""],["queue_job_id","bigint(20) unsigned",1,"NULL","",""],["hmac_valid","tinyint(1)",1,"NULL","",""],["payload_json","longtext",1,"NULL","",""],["headers_json","longtext",1,"NULL","",""],["source_ip","varchar(45)",1,"NULL","",""],["user_agent","varchar(255)",1,"NULL","",""],["error_message","text",1,"NULL","",""],["created_at","datetime",0,"current_timestamp()","",""],["updated_at","datetime",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_received",0,["received_at"]],["idx_type_status",0,["webhook_type","status"]],["PRIMARY",1,["id"]],["uq_webhook_id",1,["webhook_id"]]]},"queue_workers":{"C":[["worker_id","varchar(64)",0,null,"","PRI"],["started_at","datetime",0,"current_timestamp()","",""],["heartbeat_at","datetime",0,"current_timestamp()","","MUL"],["info_json","longtext",1,"NULL","",""]],"P":["worker_id"],"K":[["idx_heartbeat",0,["heartbeat_at"]],["PRIMARY",1,["worker_id"]]]},"quiz_answers":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["quiz_id","int(11)",0,null,"",""],["title","mediumtext",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"quiz_questions":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["title","mediumtext",0,null,"",""],["question_type","varchar(45)",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"random_crawl_queue":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["website_id","int(11)",0,null,"","MUL"],["target_url","varchar(800)",0,null,"",""],["scheduled_for","datetime",0,null,"","MUL"],["visit_type","enum('product_page','category_page','search_page','random_browse')",1,"'random_browse'","",""],["priority","int(11)",1,"50","",""],["use_delay_seconds","int(11)",1,"NULL","",""],["browser_profile","varchar(100)",1,"NULL","",""],["status","enum('queued','assigned','completed','failed','skipped')",1,"'queued'","","MUL"],["assigned_to","varchar(100)",1,"NULL","",""],["attempts","int(11)",1,"0","",""],["last_attempt","datetime",1,"NULL","",""],["session_id","varchar(100)",1,"NULL","",""],["data_found","longtext",1,"NULL","",""],["execution_time_seconds","decimal(8,3)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_queue_performance",0,["scheduled_for","priority","status"]],["idx_scheduled",0,["scheduled_for","status"]],["idx_status",0,["status"]],["idx_website_priority",0,["website_id","priority"]],["PRIMARY",1,["id"]]],"F":[["random_crawl_queue_ibfk_1",["website_id"],"nz_vape_websites",["id"],"RESTRICT","CASCADE"]]},"recently_stocktaked":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["product_id","varchar(100)",0,null,"","MUL"],["outlet_id","varchar(100)",0,null,"",""],["staff_id","int(11)",0,null,"",""],["time_stocktaked","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["index",0,["product_id","outlet_id","time_stocktaked"]],["PRIMARY",1,["id"]]]},"reconciliation_rules":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["name","varchar(100)",0,null,"",""],["contact_pattern","varchar(255)",1,"NULL","",""],["description_pattern","varchar(255)",1,"NULL","",""],["reference_pattern","varchar(255)",1,"NULL","",""],["min_amount","decimal(10,2)",1,"NULL","",""],["max_amount","decimal(10,2)",1,"NULL","",""],["account_id","varchar(100)",0,null,"",""],["gst_code","varchar(50)",1,"'GST'","",""],["description","varchar(255)",1,"NULL","",""],["confidence_threshold","float",1,"0.8","",""],["priority","int(11)",1,"1","","MUL"],["active","tinyint(1)",1,"1","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_active",0,["active"]],["idx_priority",0,["priority"]],["PRIMARY",1,["id"]]]},"reconciliation_summary":{"C":[["date","date",1,"NULL","",""],["total_transactions","bigint(21)",0,"0","",""],["reviewed","decimal(22,0)",1,"NULL","",""],["approved","decimal(22,0)",1,"NULL","",""],["submitted","decimal(22,0)",1,"NULL","",""],["ai_categorized","decimal(22,0)",1,"NULL","",""],["rule_categorized","decimal(22,0)",1,"NULL","",""],["avg_confidence","double",1,"NULL","",""],["total_spent","decimal(32,2)",1,"NULL","",""],["total_received","decimal(32,2)",1,"NULL","",""]]},"refunds":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["order_number","varchar(45)",1,"NULL","",""],["name","varchar(45)",1,"NULL","",""],["email","varchar(45)",1,"NULL","",""],["bank_account","varchar(45)",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"register_closure":{"C":[["id","varchar(100)",0,null,"","PRI"],["open_count_sequence","varchar(45)",0,null,"",""],["register_open_time","varchar(45)",0,null,"",""],["register_close_time","varchar(45)",0,null,"",""],["register_id","varchar(45)",0,null,"",""],["register_name","varchar(45)",0,null,"",""],["register_outlet_id","varchar(45)",0,null,"",""],["register_outlet_name","varchar(45)",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"register_closure_backfill_audit":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["run_id","char(36)",0,null,"","MUL"],["task","varchar(50)",0,null,"",""],["target_date","date",0,null,"",""],["register_id","varchar(64)",0,null,"",""],["outlet_id","varchar(64)",0,null,"",""],["method","enum('vend','simulated')",0,null,"",""],["status","enum('inserted','skipped','exists','error')",0,null,"",""],["details","longtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]],["uniq_guard",1,["run_id","register_id","target_date"]]]},"register_closure_bank_deposits":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["outlet_id","varchar(45)",0,null,"","MUL"],["notes","mediumtext",1,"NULL","",""],["first_name","varchar(45)",0,null,"",""],["last_name","varchar(45)",0,null,"",""],["created","timestamp",0,"current_timestamp()","",""],["expected_cash_total","decimal(15,5)",0,null,"",""],["actual_cash_total","decimal(15,5)",0,null,"",""],["user_created_by","int(11)",0,null,"",""],["reference","varchar(45)",0,null,"",""],["bag_number","varchar(45)",0,null,"",""],["matched_transaction_id","int(11)",1,"NULL","",""]],"P":["id"],"K":[["bankDepositIndex",0,["outlet_id","reference","bag_number","user_created_by"]],["PRIMARY",1,["id"]]]},"register_closure_daily_totals":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["total_cash_count","decimal(15,5)",0,null,"",""],["remainder_in_till","decimal(15,5)",0,null,"",""],["total_cash_banked","decimal(15,5)",0,null,"",""],["first_name","varchar(45)",0,null,"",""],["last_name","varchar(45)",0,null,"",""],["submitted_user_id","int(11)",0,null,"",""],["created","timestamp",0,"current_timestamp()","",""],["notes","mediumtext",1,"NULL","",""],["register_closure_id","varchar(45)",0,null,"",""],["missing","int(11)",0,"0","",""],["bank_deposit_id","int(11)",1,"NULL","",""],["actual_cash_banked_deposited","decimal(15,5)",1,"NULL","",""],["bag_number","varchar(45)",0,null,"",""],["bag_number_confirmed","varchar(45)",1,"NULL","",""],["cashup_calc_data","mediumtext",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"register_closure_payments_counts":{"C":[["id","varchar(45)",0,null,"",""],["start_total","decimal(15,5)",0,null,"",""],["payments_total","decimal(15,5)",0,null,"",""],["withdrawals_total","decimal(15,5)",0,null,"",""],["close_total","decimal(15,5)",0,null,"",""],["payment_type_id","varchar(45)",0,null,"",""],["payment_type_name","varchar(45)",0,null,"",""],["payment_type_id_2","varchar(45)",0,null,"",""],["config","mediumtext",1,"NULL","",""]]},"register_closure_payments_summary":{"C":[["id","varchar(45)",0,null,"","PRI"],["summary_id","varchar(45)",0,null,"","PRI"],["payment_type_name","varchar(45)",0,null,"",""],["total","decimal(15,5)",0,null,"",""],["discrepancy","decimal(15,5)",0,null,"",""]],"P":["id","summary_id"],"K":[["PRIMARY",1,["id","summary_id"]]]},"register_closure_taxes":{"C":[["id","varchar(45)",0,null,"","PRI"],["tax_id","varchar(45)",0,null,"",""],["name","varchar(45)",0,null,"",""],["rate","decimal(15,5)",0,null,"",""],["total","decimal(15,5)",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"register_closure_totals":{"C":[["id","varchar(100)",0,null,"","PRI"],["sales","decimal(15,5)",0,null,"",""],["onaccount","decimal(15,5)",0,null,"",""],["laybys","decimal(15,5)",0,null,"",""],["tax","decimal(15,5)",0,null,"",""],["discounts","decimal(15,5)",0,null,"",""],["payments","decimal(15,5)",0,null,"",""],["regular_payments","decimal(15,5)",0,null,"",""],["onaccount_payments","decimal(15,5)",0,null,"",""],["layby_payments","decimal(15,5)",0,null,"",""],["loyalty","decimal(15,5)",0,null,"",""],["cost_of_goods_sold","decimal(15,5)",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"remuneration_requests":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["user_id","int(11)",0,null,"",""],["created_at","timestamp",0,"current_timestamp()","",""],["status","int(11)",0,"0","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"remuneration_request_answers":{"C":[["question_id","int(11)",0,null,"","PRI"],["request_id","int(11)",0,null,"","PRI"],["answer","mediumtext",1,"NULL","",""],["question_text","mediumtext",1,"NULL","",""]],"P":["request_id","question_id"],"K":[["PRIMARY",1,["request_id","question_id"]]]},"remuneration_request_questions":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["question_text","mediumtext",0,null,"",""],["active","int(11)",0,"1","",""],["required","int(11)",0,"1","",""],["sort","int(11)",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"report_archives":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["scheduled_report_id","int(11)",1,"NULL","","MUL"],["report_title","varchar(500)",0,null,"",""],["report_type","varchar(100)",0,null,"","MUL"],["file_path","varchar(1000)",1,"NULL","",""],["file_size_mb","decimal(10,2)",1,"NULL","",""],["generation_time_seconds","decimal(8,2)",1,"NULL","",""],["data_points_included","int(11)",1,"NULL","",""],["generated_at","timestamp",0,"current_timestamp()","","MUL"],["expires_at","timestamp",1,"NULL","",""]],"P":["id"],"K":[["generated_at",0,["generated_at"]],["PRIMARY",1,["id"]],["report_type",0,["report_type"]],["scheduled_report_id",0,["scheduled_report_id"]]]},"roles":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["name","varchar(100)",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"role_user":{"C":[["user_id","int(11)",0,null,"","PRI"],["role_id","int(11)",0,null,"","PRI"]],"P":["user_id","role_id"],"K":[["PRIMARY",1,["user_id","role_id"]]]},"rtsp_cameras":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["cred_id","int(11)",0,null,"","MUL"],["camera_id","int(11)",0,null,"",""],["zone_label","varchar(100)",1,"NULL","",""],["channel","varchar(4)",0,null,"",""],["is_default","tinyint(1)",0,"0","",""],["active","tinyint(1)",0,"1","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]],["uq_cred_camera",1,["cred_id","camera_id"]]],"F":[["rtsp_cameras_ibfk_1",["cred_id"],"rtsp_credentials",["id"],"RESTRICT","CASCADE"]]},"rtsp_credentials":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["outlet_id","varchar(45)",0,null,"","UNI"],["rtsp_username","varchar(45)",0,null,"",""],["rtsp_password","varchar(45)",0,null,"",""],["port","int(11)",0,"554","",""],["rtsp_format_example","varchar(255)",1,"NULL","",""],["active","tinyint(1)",0,"1","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]],["uq_outlet",1,["outlet_id"]]]},"rtsp_feeds":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["outlet_id","varchar(45)",0,null,"",""],["rtsp_username","varchar(45)",0,null,"",""],["rtsp_password","varchar(45)",0,null,"",""],["channel","varchar(45)",0,null,"",""],["default","int(11)",0,"0","",""],["active","int(11)",0,"0","",""],["port","int(11)",0,"554","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"sales_summary_90d":{"C":[["product_id","varchar(36)",0,null,"","PRI"],["outlet_id","varchar(36)",0,null,"","PRI"],["qty_sold","int(11)",1,"0","",""],["last_updated","timestamp",0,"current_timestamp()","",""]],"P":["product_id","outlet_id"],"K":[["ix_sales_summary_90d_prod_outlet",0,["product_id","outlet_id"]],["PRIMARY",1,["product_id","outlet_id"]]]},"scheduled_reports":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["report_name","varchar(200)",0,null,"",""],["report_type","enum('competitor_summary','price_analysis','market_trends','performance_metrics','alert_summary','custom')",0,null,"",""],["schedule_frequency","enum('daily','weekly','monthly','quarterly','custom')",0,null,"",""],["schedule_time","time",1,"'09:00:00'","",""],["recipients","longtext",0,null,"",""],["report_config","longtext",1,"NULL","",""],["last_generated","timestamp",1,"NULL","",""],["next_generation","timestamp",1,"NULL","","MUL"],["is_active","tinyint(1)",1,"1","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["is_active",0,["is_active"]],["next_generation",0,["next_generation"]],["PRIMARY",1,["id"]]]},"schema_migrations":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["filename","varchar(255)",0,null,"","MUL"],["checksum_sha256","char(64)",0,null,"",""],["executed_at","timestamp",0,"current_timestamp()","","MUL"],["executed_by","varchar(64)",1,"NULL","",""],["success","tinyint(1)",0,"1","","MUL"],["error_message","text",1,"NULL","",""]],"P":["id"],"K":[["idx_schema_migrations_success",0,["success","executed_at"]],["idx_schema_migrations_time",0,["executed_at"]],["PRIMARY",1,["id"]],["ux_schema_migrations_file_checksum",1,["filename","checksum_sha256"]]]},"security_scans":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["scan_id","varchar(255)",0,null,"","UNI"],["overall_score","int(11)",0,null,"",""],["risk_level","varchar(50)",0,null,"",""],["results","longtext",0,null,"",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]],["scan_id",1,["scan_id"]]]},"Session":{"C":[["Session_Id","varbinary(64)",0,null,"","PRI"],["Session_Expires","datetime",0,null,"","MUL"],["Session_Data","mediumblob",1,"NULL","",""]],"P":["Session_Id"],"K":[["idx_session_expires",0,["Session_Expires"]],["PRIMARY",1,["Session_Id"]]]},"staff_achievements":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["staff_id","varchar(50)",0,null,"","MUL"],["outlet_id","int(11)",0,null,"",""],["achievement_type","varchar(100)",0,null,"",""],["achievement_name","varchar(255)",0,null,"",""],["description","mediumtext",1,"NULL","",""],["icon_emoji","varchar(10)",1,"NULL","",""],["points_value","int(11)",1,"0","",""],["earned_date","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_staff_achievements",0,["staff_id","earned_date"]],["PRIMARY",1,["id"]]]},"staff_ai_conversations":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["staff_profile_id","int(11)",0,null,"","MUL"],["conversation_uuid","varchar(36)",0,null,"","MUL"],["message_type","enum('user','ai')",0,null,"","MUL"],["content","longtext",0,null,"",""],["context_data","longtext",1,"NULL","",""],["ai_confidence","decimal(3,2)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_conversation",0,["conversation_uuid"]],["idx_created",0,["created_at"]],["idx_profile",0,["staff_profile_id"]],["idx_type",0,["message_type"]],["PRIMARY",1,["id"]]]},"staff_ai_knowledge":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["knowledge_type","varchar(50)",1,"NULL","","MUL"],["title","varchar(255)",1,"NULL","",""],["content","longtext",1,"NULL","",""],["applicable_roles","longtext",1,"NULL","",""],["store_specific","tinyint(1)",1,"0","",""],["store_location","varchar(100)",1,"NULL","","MUL"],["confidence_score","decimal(3,2)",1,"NULL","",""],["created_by","int(11)",1,"NULL","","MUL"],["verified_by","int(11)",1,"NULL","",""],["is_active","tinyint(1)",1,"1","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_active",0,["is_active"]],["idx_created_by",0,["created_by"]],["idx_store",0,["store_location"]],["idx_type",0,["knowledge_type"]],["PRIMARY",1,["id"]]]},"staff_ai_profile":{"C":[["owner_user_id","int(11)",0,null,"","PRI"],["bot_id","int(11)",0,null,"","PRI"],["preferences_json","longtext",1,"NULL","",""],["strengths_json","longtext",1,"NULL","",""],["notes_json","longtext",1,"NULL","",""],["last_updated","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["owner_user_id","bot_id"],"K":[["PRIMARY",1,["owner_user_id","bot_id"]]]},"staff_ai_profiles":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["user_id","int(11)",0,null,"","MUL"],["ai_personality_type","enum('manager','sales','inventory','admin','analyst','delivery')",0,null,"","MUL"],["store_location","varchar(100)",1,"NULL","","MUL"],["specializations","longtext",1,"NULL","",""],["ai_preferences","longtext",1,"NULL","",""],["learning_data","longtext",1,"NULL","",""],["performance_metrics","longtext",1,"NULL","",""],["is_active","tinyint(1)",1,"1","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_active",0,["is_active"]],["idx_personality",0,["ai_personality_type"]],["idx_store",0,["store_location"]],["idx_user_id",0,["user_id"]],["PRIMARY",1,["id"]]]},"staff_members":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["staff_id","varchar(50)",0,null,"","UNI"],["employee_number","varchar(50)",1,"NULL","",""],["display_name","varchar(100)",0,null,"",""],["first_name","varchar(50)",0,null,"",""],["last_name","varchar(50)",0,null,"",""],["position","varchar(100)",1,"NULL","",""],["department","varchar(100)",1,"NULL","",""],["outlet_id","varchar(50)",1,"NULL","","MUL"],["face_vectors","longtext",1,"NULL","",""],["photos","longtext",1,"NULL","",""],["overlay_color","varchar(7)",1,"'#00FF00'","",""],["recognition_enabled","tinyint(1)",1,"1","",""],["privacy_level","enum('full','name_only','position_only','anonymous')",1,"'full'","",""],["status","enum('active','inactive','suspended')",1,"'active'","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_outlet",0,["outlet_id"]],["idx_status",0,["status"]],["PRIMARY",1,["id"]],["staff_id",1,["staff_id"]]]},"staff_points":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["staff_id","varchar(50)",0,null,"","MUL"],["outlet_id","int(11)",0,null,"","MUL"],["points","int(11)",0,null,"",""],["reason","varchar(255)",0,null,"",""],["task_type","enum('daily','weekly','monthly','challenge','bonus')",1,"'daily'","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_outlet_points",0,["outlet_id","created_at"]],["idx_staff_points",0,["staff_id","created_at"]],["PRIMARY",1,["id"]]]},"staff_preferences":{"C":[["staff_id","varchar(50)",0,null,"","PRI"],["preferred_modes","longtext",1,"NULL","",""],["challenge_types","longtext",1,"NULL","",""],["difficulty_preference","enum('easy','medium','hard')",1,"'medium'","",""],["notification_frequency","enum('daily','weekly','never')",1,"'weekly'","",""],["gamification_enabled","tinyint(1)",1,"1","",""],["last_updated","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["staff_id"],"K":[["PRIMARY",1,["staff_id"]]]},"staff_schedules":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["user_id","int(11)",1,"NULL","",""],["outlet_id","int(11)",1,"NULL","",""],["shift_date","date",1,"NULL","",""],["start_time","time",1,"NULL","",""],["end_time","time",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"staff_streaks":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["user_id","int(11)",1,"NULL","","MUL"],["bot_id","int(11)",1,"NULL","",""],["streak_key","varchar(64)",1,"NULL","",""],["current_streak","int(11)",1,"0","",""],["longest_streak","int(11)",1,"0","",""],["last_day","date",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]],["uniq_user_bot_streak",1,["user_id","bot_id","streak_key"]]]},"staff_task_completions":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["staff_id","varchar(50)",0,null,"","MUL"],["task_id","int(11)",0,null,"","MUL"],["outlet_id","int(11)",0,null,"",""],["completed_at","timestamp",0,"current_timestamp()","",""],["points_earned","int(11)",0,null,"",""],["notes","mediumtext",1,"NULL","",""]],"P":["id"],"K":[["idx_completions",0,["staff_id","completed_at"]],["PRIMARY",1,["id"]],["task_id",0,["task_id"]]],"F":[["staff_task_completions_ibfk_1",["task_id"],"weekly_tasks",["id"],"RESTRICT","RESTRICT"]]},"staff_transfers":{"C":[["id","int(11) unsigned",0,null,"auto_increment","PRI"],["created_by_user","int(11)",0,null,"",""],["timestamp_created","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["outlet_from","varchar(100)",0,null,"","MUL"],["status","int(11)",0,"0","",""],["notes","longtext",1,"NULL","",""],["deleted_by","int(11)",1,"NULL","",""],["deleted_at","timestamp",1,"NULL","",""],["customer_id","varchar(45)",1,"NULL","","MUL"]],"P":["id"],"K":[["idx_staff_customer",0,["customer_id"]],["idx_staff_transfers_outlet_status",0,["outlet_from","status"]],["PRIMARY",1,["id"]]],"F":[["fk_staff_customer",["customer_id"],"vend_customers",["id"],"RESTRICT","RESTRICT"]]},"staff_transfers_products":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["staff_transfer_id","int(11)",0,null,"",""],["source_outlet_id","varchar(90)",0,null,"",""],["product_id","varchar(90)",1,"NULL","",""],["qty_requested","int(11)",0,null,"",""],["qty_sent","int(11)",1,"NULL","",""],["qty_received","int(11)",1,"NULL","",""],["qty_at_source_after_transfer","int(11)",1,"NULL","",""],["qty_at_destination_before_transfer","int(11)",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"staff_transfers_shipments":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["transferID","int(11)",0,null,"",""],["outletID","varchar(45)",0,null,"",""],["notes","mediumtext",1,"NULL","",""],["tracking_number","mediumtext",1,"NULL","",""],["timestamp_packed","timestamp",1,"NULL","",""],["timestamp_received","timestamp",1,"NULL","",""],["packed_by","int(11)",1,"NULL","",""],["received_by","int(11)",1,"NULL","",""],["received_notes","mediumtext",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"stock_accuracy_history":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["date_created","timestamp",0,"current_timestamp()","",""],["outlet_id","varchar(45)",0,null,"",""],["percentage","decimal(13,2)",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"stock_products_to_transfer":{"C":[["primary_key","int(11)",0,null,"auto_increment","PRI"],["transfer_id","int(11)",0,null,"","MUL"],["product_id","varchar(45)",0,null,"","MUL"],["donor_outlet_id","varchar(100)",1,"NULL","",""],["qty_to_transfer","int(11)",0,null,"",""],["min_qty_to_remain","int(11)",0,null,"",""],["qty_transferred_at_source","int(11)",1,"NULL","",""],["qty_counted_at_destination","int(11)",1,"NULL","",""],["new_total_qty_in_stock","int(11)",1,"NULL","",""],["new_total_at_destination","int(11)",1,"NULL","",""],["unexpected_product_added","int(11)",0,"0","",""],["staff_added_product","int(11)",0,"0","",""],["validation_flags","longtext",1,"NULL","",""],["validation_notes","varchar(255)",1,"NULL","",""],["deleted_at","datetime",1,"NULL","",""],["demand_forecast","int(11)",1,"NULL","",""],["stockout_risk","decimal(5,2)",1,"NULL","","MUL"],["overstock_risk","decimal(5,2)",1,"NULL","",""],["optimal_qty","int(11)",1,"NULL","",""],["sales_velocity","decimal(10,2)",1,"NULL","",""],["abc_classification","enum('A','B','C','D')",1,"NULL","","MUL"],["profit_impact","decimal(12,2)",1,"NULL","",""],["ml_priority_score","decimal(5,2)",1,"NULL","","MUL"],["last_sale_date","date",1,"NULL","",""],["days_of_stock","int(11)",1,"NULL","",""],["pack_size","int(11)",1,"1","",""],["outer_multiple","int(11)",1,"NULL","",""],["enforce_outer","tinyint(1)",1,"0","",""],["pack_compliance_status","enum('compliant','broken','forced')",1,"'compliant'","","MUL"],["weight_per_unit_grams","int(11)",1,"NULL","",""],["total_weight_grams","int(11)",1,"NULL","","MUL"],["value_per_gram","decimal(10,4)",1,"NULL","",""],["shipping_priority","tinyint(1)",1,"0","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["primary_key"],"K":[["idx_abc_class",0,["abc_classification"]],["idx_ml_priority",0,["ml_priority_score"]],["idx_pack_compliance",0,["pack_compliance_status","enforce_outer"]],["idx_priority",0,["ml_priority_score"]],["idx_products_transfer",0,["transfer_id","product_id"]],["idx_product_id",0,["product_id"]],["idx_shipping_priority",0,["shipping_priority","value_per_gram"]],["idx_spt_transfer_active",0,["transfer_id","deleted_at"]],["idx_stockout_risk",0,["stockout_risk"]],["idx_transfer_id",0,["transfer_id"]],["idx_transfer_product",0,["transfer_id","product_id"]],["idx_weight_optimization",0,["total_weight_grams","weight_per_unit_grams"]],["ix_spt_product",0,["product_id"]],["ix_spt_transfer",0,["transfer_id"]],["PRIMARY",1,["primary_key"]],["product_id",0,["product_id"]],["uniq_transfer_product",1,["transfer_id","product_id"]]],"F":[["stockTransferKey",["transfer_id"],"stock_transfers",["transfer_id"],"NO ACTION","CASCADE"]]},"stock_transfers":{"C":[["transfer_id","int(11)",0,null,"auto_increment","PRI"],["date_created","timestamp",0,"current_timestamp()","","MUL"],["status","int(11)",0,"0","","MUL"],["micro_status","varchar(50)",1,"NULL","","MUL"],["receive_confidence","tinyint(4)",1,"NULL","",""],["receive_quality_notes","varchar(255)",1,"NULL","",""],["transfer_created_by_user","int(11)",0,null,"",""],["transfer_completed_by_user","int(11)",1,"NULL","",""],["transfer_completed","timestamp",1,"NULL","",""],["outlet_from","varchar(100)",0,null,"","MUL"],["outlet_to","varchar(100)",0,null,"","MUL"],["transfer_json","mediumtext",1,"NULL","",""],["transfer_json_destination","mediumtext",1,"NULL","",""],["receive_summary_json","mediumtext",1,"NULL","",""],["recieve_completed","timestamp",1,"NULL","",""],["transfer_notes","mediumtext",1,"NULL","",""],["completed_notes","mediumtext",1,"NULL","",""],["require_source_stocktake","int(11)",0,"1","",""],["transfer_received_by_user","int(11)",1,"NULL","",""],["tracking_number","mediumtext",1,"NULL","",""],["transfer_partially_received_timestamp","timestamp",1,"NULL","",""],["transfer_partially_received_by_user","int(11)",1,"NULL","",""],["source_module","varchar(64)",0,"'automatic_stock_transfers_v4'","",""],["delivery_mode","varchar(64)",1,"NULL","",""],["deleted_at","datetime",1,"NULL","",""],["ai_confidence_score","decimal(5,2)",1,"NULL","",""],["urgency_score","decimal(5,2)",1,"NULL","","MUL"],["automation_triggered","tinyint(1)",1,"0","","MUL"],["business_impact_score","decimal(10,2)",1,"NULL","",""],["risk_assessment","enum('low','medium','high','critical')",1,"NULL","","MUL"],["predicted_success_rate","decimal(5,2)",1,"NULL","",""],["seasonal_factor","decimal(5,2)",1,"NULL","",""],["ml_recommendations","longtext",1,"NULL","",""],["run_id","varchar(100)",1,"NULL","","MUL"],["priority","int(11)",1,"50","","MUL"],["product_count","int(11)",1,"0","",""],["total_quantity","int(11)",1,"0","",""],["created_by_system","varchar(100)",1,"'automatic_stock_transfers_v4'","",""],["transfer_type","enum('manual','auto_seed','rebalance','emergency')",1,"'manual'","","MUL"],["algorithm_version","varchar(20)",1,"NULL","","MUL"],["total_items","int(11)",1,"0","",""],["total_weight_grams","int(11)",1,"NULL","",""],["shipping_cost","decimal(10,2)",1,"NULL","",""],["notes","text",1,"NULL","",""],["synced_to_vend","tinyint(1)",0,"0","",""]],"P":["transfer_id"],"K":[["idx_algorithm_version",0,["algorithm_version"]],["idx_automation",0,["automation_triggered"]],["idx_automation_triggered",0,["automation_triggered"]],["idx_micro_status",0,["micro_status"]],["idx_outlet_from",0,["outlet_from"]],["idx_outlet_to",0,["outlet_to"]],["idx_priority",0,["priority"]],["idx_risk",0,["risk_assessment"]],["idx_run_id",0,["run_id"]],["idx_status",0,["status"]],["idx_status_priority",0,["status","priority"]],["idx_transfer_date",0,["date_created"]],["idx_transfer_outlets",0,["outlet_from","outlet_to"]],["idx_transfer_status",0,["status","micro_status"]],["idx_transfer_type_status",0,["transfer_type","status"]],["idx_urgency",0,["urgency_score"]],["ix_st_date",0,["date_created"]],["ix_st_fromdate",0,["outlet_from","date_created"]],["ix_st_todate",0,["outlet_to","date_created"]],["PRIMARY",1,["transfer_id"]]]},"storage_stats":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["stat_date","date",0,null,"","UNI"],["total_backups","int(11)",1,"0","",""],["total_size","bigint(20)",1,"0","",""],["full_backups","int(11)",1,"0","",""],["incremental_backups","int(11)",1,"0","",""],["failed_backups","int(11)",1,"0","",""],["oldest_backup_date","datetime",1,"NULL","",""],["newest_backup_date","datetime",1,"NULL","",""]],"P":["id"],"K":[["idx_stat_date",1,["stat_date"]],["PRIMARY",1,["id"]]]},"store_audit":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["outlet_id","varchar(100)",0,null,"","MUL"],["version_id","int(11)",0,null,"","MUL"],["performed_by_user","int(10) unsigned",0,null,"","MUL"],["performed_at","datetime",0,null,"",""],["status","enum('in_progress','submitted','void')",0,"'in_progress'","",""],["summary_notes","text",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",1,"NULL","on update current_timestamp()",""]],"P":["id"],"K":[["fk_audit_user",0,["performed_by_user"]],["fk_audit_version",0,["version_id"]],["ix_audit_outlet_dt",0,["outlet_id","performed_at"]],["PRIMARY",1,["id"]]],"F":[["fk_audit_outlet",["outlet_id"],"vend_outlets",["id"],"RESTRICT","RESTRICT"],["fk_audit_user",["performed_by_user"],"users",["id"],"RESTRICT","RESTRICT"],["fk_audit_version",["version_id"],"store_audit_checklist_version",["id"],"RESTRICT","RESTRICT"]]},"store_audit_ai_rule":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["version_id","int(11)",0,null,"","MUL"],["question_code","varchar(128)",0,null,"",""],["mapping_kind","enum('yesno','five_point','advisory','non_visual')",0,null,"",""],["yes_condition","longtext",1,"NULL","",""],["five_point_rules","longtext",1,"NULL","",""],["notes","text",1,"NULL","",""]],"P":["id"],"K":[["ix_sairule__version",0,["version_id"]],["PRIMARY",1,["id"]],["uq_version_code",1,["version_id","question_code"]]],"F":[["fk_ai_rule_version",["version_id"],"store_audit_checklist_version",["id"],"RESTRICT","CASCADE"]]},"store_audit_checklist_question":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["version_id","int(11)",0,null,"","MUL"],["section_id","int(11)",0,null,"","MUL"],["code","varchar(64)",0,null,"",""],["label","varchar(255)",0,null,"",""],["help","text",1,"NULL","",""],["input_kind","enum('scale','yes_no','number','text','multiselect')",0,null,"",""],["scale_id","int(11)",1,"NULL","","MUL"],["min_value","decimal(10,2)",1,"NULL","",""],["max_value","decimal(10,2)",1,"NULL","",""],["step","decimal(10,2)",1,"NULL","",""],["required","tinyint(1)",0,"0","",""],["weight","decimal(6,2)",0,"1.00","",""],["display_order","int(11)",0,"0","",""],["active","tinyint(1)",0,"1","",""]],"P":["id"],"K":[["fk_question_scale",0,["scale_id"]],["fk_question_section",0,["section_id"]],["ix_sa_question__ver_sec_order",0,["version_id","section_id","display_order"]],["PRIMARY",1,["id"]],["uq_version_code",1,["version_id","code"]]],"F":[["fk_question_scale",["scale_id"],"store_audit_rating_scale",["id"],"RESTRICT","SET NULL"],["fk_question_section",["section_id"],"store_audit_checklist_section",["id"],"RESTRICT","CASCADE"],["fk_question_version",["version_id"],"store_audit_checklist_version",["id"],"RESTRICT","CASCADE"]]},"store_audit_checklist_question_ai_spec":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["question_id","int(11)",0,null,"","MUL"],["vision_prompt_template","text",0,null,"",""],["required_shots","int(11)",0,"1","",""],["shot_list","longtext",1,"NULL","",""],["accept_criteria","longtext",1,"NULL","",""],["failure_examples","text",1,"NULL","",""],["bbox_required","tinyint(1)",0,"0","",""],["tags","longtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["fk_ai_question",0,["question_id"]],["PRIMARY",1,["id"]]],"F":[["fk_ai_question",["question_id"],"store_audit_checklist_question",["id"],"RESTRICT","CASCADE"]]},"store_audit_checklist_section":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["version_id","int(11)",0,null,"","MUL"],["name","varchar(120)",0,null,"",""],["display_order","int(11)",0,"0","",""],["weight","decimal(6,2)",0,"1.00","",""]],"P":["id"],"K":[["fk_section_version",0,["version_id"]],["PRIMARY",1,["id"]]],"F":[["fk_section_version",["version_id"],"store_audit_checklist_version",["id"],"RESTRICT","CASCADE"]]},"store_audit_checklist_version":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["name","varchar(120)",0,null,"",""],["status","enum('draft','active','archived')",0,"'draft'","",""],["created_at","timestamp",0,"current_timestamp()","",""],["activated_at","timestamp",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"store_audit_media":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["audit_id","int(11)",0,null,"","MUL"],["question_id","int(11)",1,"NULL","","MUL"],["path","text",0,null,"",""],["mime","varchar(64)",1,"NULL","",""],["size_bytes","int(11)",1,"NULL","",""],["taken_at","datetime",1,"NULL","",""],["caption","varchar(255)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["ix_media_audit",0,["audit_id"]],["ix_media_question",0,["question_id"]],["PRIMARY",1,["id"]]],"F":[["fk_media_audit",["audit_id"],"store_audit",["id"],"RESTRICT","CASCADE"],["fk_media_question",["question_id"],"store_audit_checklist_question",["id"],"RESTRICT","SET NULL"]]},"store_audit_media_ai_result":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["media_id","int(11)",0,null,"","MUL"],["question_id","int(11)",1,"NULL","","MUL"],["model","varchar(100)",0,null,"",""],["run_at","datetime",0,null,"",""],["status","enum('pending','ok','error')",0,"'pending'","",""],["summary","text",1,"NULL","",""],["suggested_option_id","int(11)",1,"NULL","","MUL"],["suggested_numeric","decimal(10,2)",1,"NULL","",""],["confidence","decimal(4,3)",1,"NULL","",""],["signals","longtext",1,"NULL","",""],["prompt_used","text",1,"NULL","",""],["latency_ms","int(11)",1,"NULL","",""],["error_message","text",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["ix_ai_media",0,["media_id"]],["ix_ai_question",0,["question_id"]],["ix_ai_suggest",0,["suggested_option_id"]],["ix_samai__question_runat",0,["question_id","run_at"]],["PRIMARY",1,["id"]]],"F":[["fk_aires_media",["media_id"],"store_audit_media",["id"],"RESTRICT","CASCADE"],["fk_aires_question",["question_id"],"store_audit_checklist_question",["id"],"RESTRICT","SET NULL"],["fk_aires_suggest",["suggested_option_id"],"store_audit_rating_scale_option",["id"],"RESTRICT","SET NULL"]]},"store_audit_rating_scale":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["name","varchar(120)",0,null,"",""],["description","text",1,"NULL","",""],["min_score","decimal(6,2)",0,"0.00","",""],["max_score","decimal(6,2)",0,"1.00","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"store_audit_rating_scale_option":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["scale_id","int(11)",0,null,"","MUL"],["code","varchar(64)",0,null,"",""],["label","varchar(100)",0,null,"",""],["score_value","decimal(6,2)",0,null,"",""],["display_order","int(11)",0,"0","",""],["color_hex","char(7)",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]],["uq_scale_code",1,["scale_id","code"]]],"F":[["fk_rso_scale",["scale_id"],"store_audit_rating_scale",["id"],"RESTRICT","CASCADE"]]},"store_audit_response":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["audit_id","int(11)",0,null,"","MUL"],["question_id","int(11)",0,null,"","MUL"],["is_na","tinyint(1)",0,"0","",""],["scale_option_id","int(11)",1,"NULL","","MUL"],["numeric_value","decimal(10,2)",1,"NULL","",""],["text_value","text",1,"NULL","",""],["notes","text",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["ix_resp_audit",0,["audit_id"]],["ix_resp_question",0,["question_id"]],["ix_resp_scaleopt",0,["scale_option_id"]],["ix_sa_resp__audit_q",0,["audit_id","question_id"]],["PRIMARY",1,["id"]],["uq_audit_question",1,["audit_id","question_id"]]],"F":[["fk_resp_audit",["audit_id"],"store_audit",["id"],"RESTRICT","CASCADE"],["fk_resp_question",["question_id"],"store_audit_checklist_question",["id"],"RESTRICT","RESTRICT"],["fk_resp_scaleopt",["scale_option_id"],"store_audit_rating_scale_option",["id"],"RESTRICT","SET NULL"]]},"store_audit_v_audit_score":{"C":[["audit_id","int(11)",0,"0","",""],["outlet_id","varchar(100)",0,null,"",""],["performed_at","datetime",0,null,"",""],["percentage_calc","decimal(45,0)",1,"NULL","",""]]},"store_audit_v_response_scored":{"C":[["audit_id","int(11)",0,"0","",""],["outlet_id","varchar(100)",0,null,"",""],["performed_at","datetime",0,null,"",""],["section_id","int(11)",0,"0","",""],["section_name","varchar(120)",0,null,"",""],["section_weight","decimal(6,2)",0,"1.00","",""],["question_id","int(11)",0,"0","",""],["question_code","varchar(64)",0,null,"",""],["input_kind","enum('scale','yes_no','number','text','multiselect')",0,null,"",""],["question_weight","decimal(6,2)",0,"1.00","",""],["is_na","tinyint(1)",0,"0","",""],["scale_option_id","int(11)",1,"NULL","",""],["numeric_value","decimal(10,2)",1,"NULL","",""],["text_value","text",1,"NULL","",""],["notes","text",1,"NULL","",""],["scale_id","int(11)",1,"0","",""],["score_value","decimal(6,2)",1,null,"",""],["normalized_score","decimal(13,6)",1,"NULL","",""],["effective_weight","decimal(12,4)",0,"0.0000","",""]]},"store_audit_v_section_score":{"C":[["audit_id","int(11)",0,"0","",""],["outlet_id","varchar(100)",0,null,"",""],["performed_at","datetime",0,null,"",""],["section_id","int(11)",0,"0","",""],["section_name","varchar(120)",0,null,"",""],["section_pct","decimal(45,0)",1,"NULL","",""]]},"store_bonus_history":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["outlet_id","varchar(45)",0,null,"",""],["created_at","timestamp",0,"current_timestamp()","",""],["json_object","mediumtext",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"store_customer_notes":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["outlet_id","varchar(45)",0,null,"",""],["subject","mediumtext",0,null,"",""],["message","mediumtext",0,null,"",""],["date_created","timestamp",0,"current_timestamp()","",""],["written_by","int(11)",0,null,"",""],["deleted","int(11)",0,"0","",""],["done","int(11)",0,"0","",""],["email_address","varchar(100)",1,"NULL","",""],["phone","varchar(100)",1,"NULL","",""],["customer_name","varchar(100)",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"store_email_accounts":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["store_id","varchar(50)",0,null,"","UNI"],["store_name","varchar(255)",0,null,"",""],["email_address","varchar(255)",0,null,"","UNI"],["display_name","varchar(255)",0,null,"",""],["imap_host","varchar(255)",0,null,"",""],["imap_port","int(11)",1,"993","",""],["imap_encryption","enum('ssl','tls','none')",1,"'ssl'","",""],["imap_username","varchar(255)",0,null,"",""],["imap_password_encrypted","text",0,null,"",""],["smtp_host","varchar(255)",0,null,"",""],["smtp_port","int(11)",1,"587","",""],["smtp_encryption","enum('ssl','tls','none')",1,"'tls'","",""],["smtp_username","varchar(255)",0,null,"",""],["smtp_password_encrypted","text",0,null,"",""],["sync_enabled","tinyint(1)",1,"1","","MUL"],["sync_interval_minutes","int(11)",1,"5","",""],["last_sync","timestamp",1,"NULL","",""],["storage_quota_mb","int(11)",1,"5000","",""],["current_usage_mb","decimal(10,2)",1,"0.00","",""],["is_active","tinyint(1)",1,"1","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["email_address",1,["email_address"]],["idx_active",0,["is_active"]],["idx_sync_enabled",0,["sync_enabled"]],["PRIMARY",1,["id"]],["store_id",1,["store_id"]]]},"store_feedback":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["customer_name","varchar(45)",0,null,"",""],["customer_email","varchar(45)",1,"NULL","",""],["customer_phone","varchar(45)",1,"NULL","",""],["store_id","varchar(45)",1,"NULL","",""],["rating","int(11)",0,null,"",""],["comment","mediumtext",0,null,"",""],["staff_name","varchar(45)",1,"NULL","",""],["timestamp","timestamp",1,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"store_quality":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["outlet_id","varchar(45)",0,null,"",""],["performed_by_user","int(11)",0,null,"",""],["date_performed","timestamp",1,"NULL","",""],["date_created","timestamp",0,"current_timestamp()","",""],["percentage","int(11)",1,"-1","",""],["other_notes","mediumtext",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"store_quality_images":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["store_quality_id","int(11)",0,null,"",""],["filename","mediumtext",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"store_quality_scores":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["store_quality_id","int(11)",0,null,"",""],["score_id","int(11)",0,null,"",""],["rating","varchar(45)",0,null,"",""],["notes","mediumtext",1,"NULL","",""],["not_applicable","int(11)",0,"0","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"store_quality_score_checklist":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["type","varchar(45)",0,"'select'","",""],["status","varchar(45)",0,"'1'","",""],["input_type","varchar(45)",0,"'select'","",""],["name","varchar(45)",0,null,"",""],["desc","mediumtext",1,"NULL","",""],["score_points","int(11)",0,"1","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"substitute_products":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["product_id","varchar(100)",0,null,"","UNI"],["name","varchar(500)",0,null,"","MUL"],["sku","varchar(100)",1,"NULL","",""],["brand_name","varchar(200)",1,"NULL","",""],["category","varchar(100)",1,"NULL","",""],["description","text",1,"NULL","",""],["created_by","int(11)",0,null,"",""],["created_at","datetime",1,"current_timestamp()","",""]],"P":["id"],"K":[["idx_name",0,["name"]],["idx_product_id",0,["product_id"]],["PRIMARY",1,["id"]],["product_id",1,["product_id"]]]},"supplier_ai_intelligence":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["supplier_id","varchar(100)",0,null,"","MUL"],["supplier_type","enum('vendor','customer','partner','competitor')",0,null,"","MUL"],["company_name","varchar(255)",0,null,"",""],["relationship_status","enum('active','potential','inactive','competitive')",0,null,"","MUL"],["ai_profile","longtext",1,"NULL","",""],["interaction_history","longtext",1,"NULL","",""],["negotiation_insights","longtext",1,"NULL","",""],["market_intelligence","longtext",1,"NULL","",""],["performance_metrics","longtext",1,"NULL","",""],["risk_assessment","longtext",1,"NULL","",""],["opportunity_score","decimal(3,2)",1,"NULL","","MUL"],["last_analysis","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_opportunity",0,["opportunity_score"]],["idx_status",0,["relationship_status"]],["idx_supplier_id",0,["supplier_id"]],["idx_type",0,["supplier_type"]],["PRIMARY",1,["id"]]]},"support_desk":{"C":[["id","int(10) unsigned",0,null,"auto_increment","PRI"],["user_id","int(10) unsigned",0,null,"",""],["summary","varchar(180)",0,null,"",""],["description","text",0,null,"",""],["impact","varchar(32)",0,null,"",""],["status","enum('open','in_progress','resolved','closed')",1,"'open'","","MUL"],["priority","int(1) unsigned",0,"2","",""],["ai_summary","text",1,"NULL","",""],["clarify_log","text",1,"NULL","",""],["ticket_type_id","int(10) unsigned",0,"1","","MUL"],["attachments","text",1,"NULL","",""],["created_at","datetime",1,"current_timestamp()","",""],["updated_at","datetime",1,"current_timestamp()","on update current_timestamp()",""],["reference_url","varchar(255)",1,"NULL","",""],["system_id","int(11)",0,"0","",""]],"P":["id"],"K":[["idx_status",0,["status"]],["idx_type",0,["ticket_type_id"]],["PRIMARY",1,["id"]]],"F":[["fk_desk_type",["ticket_type_id"],"support_desk_types",["ticket_type_id"],"RESTRICT","RESTRICT"]]},"support_desk_activity":{"C":[["id","int(10)",0,null,"auto_increment","PRI"],["ticket_id","int(10) unsigned",0,null,"","MUL"],["user_id","int(10) unsigned",1,"NULL","","MUL"],["event_type","varchar(64)",0,null,"",""],["event_details","text",1,"NULL","",""],["created_at","datetime",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_created",0,["created_at"]],["idx_ticket",0,["ticket_id"]],["idx_ticket_id",0,["ticket_id"]],["idx_user_id",0,["user_id"]],["PRIMARY",1,["id"]]]},"support_desk_comments":{"C":[["id","int(10) unsigned",0,null,"auto_increment","PRI"],["ticket_id","int(10) unsigned",0,null,"","MUL"],["user_id","int(10) unsigned",0,null,"","MUL"],["username","varchar(128)",0,null,"",""],["comment","text",0,null,"",""],["is_internal","tinyint(1)",1,"0","",""],["attachments","text",1,"NULL","",""],["created_at","datetime",1,"current_timestamp()","",""],["deleted","tinyint(1)",1,"0","",""],["deleted_at","datetime",1,"NULL","",""],["is_announcement","tinyint(1)",0,"0","","MUL"]],"P":["id"],"K":[["idx_is_announcement",0,["is_announcement"]],["idx_ticket",0,["ticket_id"]],["PRIMARY",1,["id"]],["user_id",0,["user_id"]]],"F":[["fk_comments_ticket",["ticket_id"],"support_desk",["id"],"RESTRICT","CASCADE"]]},"support_desk_files":{"C":[["id","int(10) unsigned",0,null,"auto_increment","PRI"],["ticket_id","int(10) unsigned",0,null,"","MUL"],["comment_id","int(10) unsigned",1,"NULL","","MUL"],["filename","varchar(255)",0,null,"",""],["filepath","varchar(255)",0,null,"",""],["uploaded_by","int(10) unsigned",1,"NULL","",""],["uploaded_at","datetime",1,"current_timestamp()","",""],["filetype","varchar(128)",1,"NULL","",""],["filesize","int(10) unsigned",1,"NULL","",""]],"P":["id"],"K":[["idx_comment",0,["comment_id"]],["idx_ticket",0,["ticket_id"]],["PRIMARY",1,["id"]]],"F":[["fk_files_comment",["comment_id"],"support_desk_comments",["id"],"RESTRICT","SET NULL"],["fk_files_ticket",["ticket_id"],"support_desk",["id"],"RESTRICT","CASCADE"]]},"support_desk_types":{"C":[["ticket_type_id","int(10) unsigned",0,null,"auto_increment","PRI"],["label","varchar(40)",0,null,"",""],["is_enabled","tinyint(1)",1,"1","",""]],"P":["ticket_type_id"],"K":[["PRIMARY",1,["ticket_type_id"]]]},"surcharges":{"C":[["surcharge_id","int(11)",0,null,"auto_increment","PRI"],["carrier_id","int(11)",0,null,"","MUL"],["code","varchar(64)",0,null,"",""],["name","varchar(150)",0,null,"",""],["price","decimal(10,2)",0,null,"",""]],"P":["surcharge_id"],"K":[["PRIMARY",1,["surcharge_id"]],["uniq_surcharge",1,["carrier_id","code"]]],"F":[["fk_surcharge_carrier",["carrier_id"],"carriers",["carrier_id"],"CASCADE","CASCADE"]]},"systems":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["name","varchar(128)",0,null,"",""],["description","text",1,"NULL","",""],["active","tinyint(1)",0,"1","",""],["default","tinyint(1)",0,"0","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"system_activity_log":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["event_type","varchar(100)",0,null,"","MUL"],["table_name","varchar(100)",1,"NULL","",""],["record_id","int(11)",1,"NULL","",""],["user_id","int(11)",0,null,"","MUL"],["details","text",1,"NULL","",""],["created_at","datetime",1,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_created_at",0,["created_at"]],["idx_event_type",0,["event_type"]],["idx_user_id",0,["user_id"]],["PRIMARY",1,["id"]]]},"system_alerts":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["severity","enum('info','warning','critical','emergency')",1,"NULL","",""],["title","varchar(255)",1,"NULL","",""],["message","mediumtext",1,"NULL","",""],["data","longtext",1,"NULL","",""],["resolved_at","timestamp",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"system_audit_log":{"C":[["id","int(10) unsigned",0,null,"auto_increment","PRI"],["user_id","varchar(50)",1,"NULL","","MUL"],["action","varchar(100)",0,null,"","MUL"],["entity_type","varchar(50)",0,null,"","MUL"],["entity_id","varchar(50)",1,"NULL","",""],["old_values","longtext",1,"NULL","",""],["new_values","longtext",1,"NULL","",""],["ip_address","varchar(45)",1,"NULL","",""],["user_agent","text",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_action",0,["action"]],["idx_audit_action_date",0,["action","created_at"]],["idx_created",0,["created_at"]],["idx_entity",0,["entity_type","entity_id"]],["idx_user",0,["user_id"]],["PRIMARY",1,["id"]]]},"system_error_log":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["user_id","int(11)",1,"NULL","","MUL"],["session_id","varchar(64)",1,"NULL","",""],["endpoint","varchar(255)",1,"NULL","","MUL"],["error_message","text",1,"NULL","",""],["stack_trace","text",1,"NULL","",""],["severity","enum('notice','warning','error','critical')",1,"'error'","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_endpoint",0,["endpoint","created_at"]],["idx_severity",0,["severity","created_at"]],["idx_user",0,["user_id","created_at"]],["PRIMARY",1,["id"]]]},"system_event_log":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["event_type","varchar(64)",1,"NULL","","MUL"],["event_data","mediumtext",1,"NULL","",""],["source_module","varchar(64)",1,"NULL","",""],["actor_type","enum('user','system','api')",1,"NULL","","MUL"],["actor_id","varchar(64)",1,"NULL","",""],["target_type","varchar(64)",1,"NULL","",""],["target_id","varchar(64)",1,"NULL","",""],["summary","text",1,"NULL","",""],["details_json","longtext",1,"NULL","",""],["severity","enum('info','success','warning','error','critical')",0,"'info'","","MUL"],["created_at","datetime",1,"NULL","","MUL"],["run_id","varchar(64)",1,"NULL","STORED GENERATED","MUL"],["description","text",1,"NULL","",""],["created_by_staff","int(11)",1,"NULL","",""],["metadata","longtext",1,"NULL","",""]],"P":["id"],"K":[["idx_created",0,["created_at"]],["idx_severity",0,["severity"]],["idx_system_event_actor",0,["actor_type","actor_id"]],["idx_system_event_created",0,["created_at"]],["idx_system_event_log_monitoring",0,["event_type","created_at","severity"]],["idx_system_event_type",0,["event_type","severity"]],["idx_type",0,["event_type"]],["ix_sel_created",0,["created_at"]],["ix_sel_id",0,["id"]],["ix_sel_run_created",0,["run_id","created_at"]],["ix_sel_sev_created",0,["severity","created_at"]],["ix_sel_type_created",0,["event_type","created_at"]],["PRIMARY",1,["id"]]]},"system_health_log":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["graded_at","datetime",0,"current_timestamp()","","MUL"],["grade","enum('GREEN','AMBER','RED')",0,null,"","MUL"],["score","int(11)",0,null,"",""],["reasons","longtext",1,"NULL","",""],["metrics","longtext",1,"NULL","",""],["actions","longtext",1,"NULL","",""]],"P":["id"],"K":[["idx_grade",0,["grade","graded_at"]],["idx_graded_at",0,["graded_at"]],["PRIMARY",1,["id"]]]},"system_health_logs":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["check_type","varchar(50)",0,null,"","MUL"],["alerts_triggered","int(11)",1,"0","","MUL"],["checks_performed","int(11)",1,"0","",""],["results_data","longtext",1,"NULL","",""],["created_at","timestamp",1,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_alerts_triggered",0,["alerts_triggered"]],["idx_check_type",0,["check_type"]],["idx_created_at",0,["created_at"]],["PRIMARY",1,["id"]]]},"system_health_tests":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["test_type","varchar(100)",1,"NULL","",""],["status","varchar(50)",1,"NULL","",""],["timestamp","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"system_heartbeat":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["status","enum('HEALTHY','DEGRADED','CRITICAL','EMERGENCY')",1,"'HEALTHY'","",""],["health_data","longtext",1,"NULL","",""],["timestamp","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"system_profiling_log":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["session_id","varchar(64)",1,"NULL","",""],["user_id","int(11)",1,"NULL","","MUL"],["endpoint","varchar(255)",1,"NULL","","MUL"],["php_time_ms","int(11)",1,"NULL","",""],["sql_time_ms","int(11)",1,"NULL","",""],["sql_count","int(11)",1,"NULL","",""],["memory_mb","decimal(6,2)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_endpoint",0,["endpoint","created_at"]],["idx_user",0,["user_id","created_at"]],["PRIMARY",1,["id"]]]},"system_status_snapshots":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["timestamp","datetime",1,"current_timestamp()","",""],["status_type","varchar(50)",1,"'general'","",""],["status_data","longtext",1,"NULL","",""],["source_system","varchar(100)",1,"'transfers'","",""],["created_at","datetime",1,"current_timestamp()","",""],["updated_at","datetime",1,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"template_registry":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["name","varchar(64)",0,null,"","MUL"],["version","varchar(16)",0,null,"",""],["json_schema","longtext",0,null,"",""],["active","tinyint(1)",1,"0","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_active",0,["active"]],["PRIMARY",1,["id"]],["u_name_version",1,["name","version"]]]},"timesheet_amendments":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["created_at","timestamp",0,"current_timestamp()","",""],["staff_id","int(11)",0,null,"",""],["vend_outlet_id","varchar(45)",0,null,"",""],["actual_start_time","timestamp",1,"NULL","",""],["actual_end_time","timestamp",1,"NULL","",""],["explanation","mediumtext",1,"NULL","",""],["deleted_at","timestamp",1,"NULL","",""],["status","int(11)",0,"0","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"tool_calls":{"C":[["tool_call_id","char(36)",0,null,"","PRI"],["message_id","char(36)",0,null,"","MUL"],["tool_name","varchar(128)",0,null,"","MUL"],["function_name","varchar(128)",1,"NULL","",""],["arguments","longtext",0,null,"",""],["result","longtext",1,"NULL","",""],["status","enum('pending','completed','failed')",0,"'pending'","","MUL"],["duration_ms","int(11)",1,"NULL","","MUL"],["created_at","datetime",0,"current_timestamp()","",""]],"P":["tool_call_id"],"K":[["idx_tool_calls_message_created",0,["message_id","created_at"]],["idx_tool_calls_tool_created",0,["tool_name","created_at"]],["idx_tool_duration",0,["duration_ms","tool_name"]],["idx_tool_msg",0,["message_id","created_at"]],["idx_tool_name_status",0,["tool_name","status","created_at"]],["idx_tool_status",0,["status","created_at"]],["PRIMARY",1,["tool_call_id"]]],"F":[["fk_tool_msg",["message_id"],"messages",["message_id"],"CASCADE","CASCADE"]]},"transaction_rules":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["match_type","enum('contact','reference','description','pattern','ai')",0,"'pattern'","",""],["match_value","varchar(255)",1,"NULL","",""],["bankAccountID","varchar(100)",1,"NULL","",""],["ledgerAccountID","varchar(100)",1,"NULL","",""],["GSTCode","varchar(45)",1,"NULL","",""],["confidence_score","float",1,"1","",""],["ai_generated","tinyint(1)",1,"0","",""],["usage_count","int(11)",1,"0","",""],["last_used","timestamp",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["approval_count","int(11)",1,"0","",""],["rejection_count","int(11)",1,"0","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"transfers":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["public_id","varchar(40)",0,null,"","UNI"],["vend_transfer_id","char(36)",1,"NULL","","UNI"],["vend_resource","enum('consignment','purchase_order')",1,"'consignment'","","MUL"],["vend_number","varchar(64)",1,"NULL","",""],["vend_url","varchar(255)",1,"NULL","",""],["type","enum('stock','juice','staff')",0,null,"","MUL"],["status","enum('draft','open','sent','partial','received','cancelled')",0,"'draft'","","MUL"],["outlet_from","varchar(100)",0,null,"","MUL"],["outlet_to","varchar(100)",0,null,"","MUL"],["created_by","int(11)",0,null,"",""],["staff_transfer_id","int(10) unsigned",1,"NULL","","MUL"],["created_at","timestamp",0,"current_timestamp()","","MUL"],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["deleted_by","int(11)",1,"NULL","",""],["deleted_at","timestamp",1,"NULL","",""],["customer_id","varchar(45)",1,"NULL","","MUL"],["state","enum('OPEN','PACKING','PACKAGED','SENT','RECEIVING','RECEIVED','CLOSED','CANCELLED')",0,"'OPEN'","","MUL"],["total_boxes","int(10) unsigned",0,"0","",""],["total_weight_g","bigint(20) unsigned",0,"0","",""],["draft_data","longtext",1,"NULL","",""],["draft_updated_at","timestamp",1,"NULL","",""]],"P":["id"],"K":[["idx_transfers_created",0,["created_at"]],["idx_transfers_customer",0,["customer_id"]],["idx_transfers_from_status_date",0,["outlet_from","status","created_at"]],["idx_transfers_staff",0,["staff_transfer_id"]],["idx_transfers_state",0,["state"]],["idx_transfers_status",0,["status"]],["idx_transfers_to_created",0,["outlet_to","created_at"]],["idx_transfers_to_status_date",0,["outlet_to","status","created_at"]],["idx_transfers_type_created",0,["type","created_at"]],["idx_transfers_type_status",0,["type","status"]],["idx_transfers_vend",0,["vend_resource","vend_transfer_id"]],["PRIMARY",1,["id"]],["uniq_transfers_public_id",1,["public_id"]],["uniq_transfers_vend_uuid",1,["vend_transfer_id"]]],"F":[["fk_transfers_customer",["customer_id"],"vend_customers",["id"],"RESTRICT","RESTRICT"],["fk_transfers_staff",["staff_transfer_id"],"staff_transfers",["id"],"NO ACTION","SET NULL"]]},"transfer_allocations":{"C":[["id","int(10) unsigned",0,null,"auto_increment","PRI"],["public_id","varchar(40)",1,"NULL","","UNI"],["execution_id","int(10) unsigned",0,null,"","MUL"],["product_id","varchar(50)",0,null,"","MUL"],["allocated_quantity","int(11)",0,null,"",""],["calculation_data","longtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["transfer_id","bigint(20) unsigned",1,"NULL","",""],["item_id","bigint(20) unsigned",1,"NULL","",""],["qty","int(11)",0,"0","",""]],"P":["id"],"K":[["fk_execution",0,["execution_id"]],["idx_allocation_product_date",0,["product_id","created_at"]],["idx_product",0,["product_id"]],["PRIMARY",1,["id"]],["uniq_ta_pub",1,["public_id"]]]},"transfer_audit_log":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["entity_type","enum('transfer','po')",0,"'transfer'","","MUL"],["entity_pk","int(11)",1,"NULL","",""],["transfer_pk","int(11)",1,"NULL","","MUL"],["transfer_id","varchar(100)",1,"NULL","","MUL"],["vend_consignment_id","varchar(100)",1,"NULL","","MUL"],["vend_transfer_id","char(36)",1,"NULL","","MUL"],["action","varchar(100)",0,null,"","MUL"],["status","varchar(50)",0,null,"","MUL"],["actor_type","enum('system','user','api','cron','webhook')",0,null,"","MUL"],["actor_id","varchar(100)",1,"NULL","",""],["outlet_from","varchar(100)",1,"NULL","","MUL"],["outlet_to","varchar(100)",1,"NULL","",""],["data_before","longtext",1,"NULL","",""],["data_after","longtext",1,"NULL","",""],["metadata","longtext",1,"NULL","",""],["error_details","longtext",1,"NULL","",""],["processing_time_ms","int(10) unsigned",1,"NULL","",""],["api_response","longtext",1,"NULL","",""],["session_id","varchar(255)",1,"NULL","",""],["ip_address","varchar(45)",1,"NULL","",""],["user_agent","text",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_action_status",0,["action","status"]],["idx_actor",0,["actor_type","actor_id"]],["idx_audit_action_created",0,["action","created_at"]],["idx_audit_errors",0,["status","created_at"]],["idx_audit_transfer_created",0,["transfer_id","created_at"]],["idx_created_at",0,["created_at"]],["idx_entity",0,["entity_type","entity_pk"]],["idx_error_tracking",0,["status","created_at"]],["idx_outlet_from_to",0,["outlet_from","outlet_to"]],["idx_tal_actor_time",0,["actor_type","actor_id","created_at"]],["idx_tal_entity_action_time",0,["entity_type","action","created_at"]],["idx_tal_status_time",0,["status","created_at"]],["idx_tal_transfer_time",0,["transfer_id","created_at"]],["idx_transfer_id",0,["transfer_id"]],["idx_transfer_pk",0,["transfer_pk"]],["idx_vend_consignment",0,["vend_consignment_id"]],["idx_vend_transfer",0,["vend_transfer_id"]],["PRIMARY",1,["id"]]]},"transfer_carrier_orders":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["transfer_id","int(11)",0,null,"","MUL"],["carrier","varchar(50)",0,null,"",""],["order_id","varchar(100)",1,"NULL","","MUL"],["order_number","varchar(100)",0,null,"","MUL"],["payload","longtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_order_id",0,["order_id"]],["idx_order_number",0,["order_number"]],["PRIMARY",1,["id"]],["uniq_transfer_carrier",1,["transfer_id","carrier"]]],"F":[["fk_tco_transfer",["transfer_id"],"transfers",["id"],"NO ACTION","CASCADE"]]},"transfer_configurations":{"C":[["id","int(10) unsigned",0,null,"auto_increment","PRI"],["name","varchar(100)",0,null,"","UNI"],["description","text",1,"NULL","",""],["allocation_method","tinyint(1)",0,"1","",""],["power_factor","decimal(4,2)",0,"2.00","",""],["min_allocation_pct","decimal(5,2)",0,"5.00","",""],["max_allocation_pct","decimal(5,2)",0,"50.00","",""],["rounding_method","tinyint(1)",0,"0","",""],["is_preset","tinyint(1)",0,"0","","MUL"],["is_active","tinyint(1)",0,"1","","MUL"],["enable_safety_checks","tinyint(1)",0,"1","",""],["enable_logging","tinyint(1)",0,"1","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["created_by","varchar(50)",1,"NULL","",""],["updated_by","varchar(50)",1,"NULL","",""]],"P":["id"],"K":[["idx_active",0,["is_active"]],["idx_preset",0,["is_preset"]],["PRIMARY",1,["id"]],["uk_name",1,["name"]]]},"transfer_discrepancies":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["transfer_id","int(11)",0,null,"","MUL"],["item_id","int(11)",1,"NULL","","MUL"],["product_id","varchar(64)",0,null,"","MUL"],["type","enum('missing','damaged','lost','mistake')",0,null,"",""],["qty","int(11)",0,null,"",""],["notes","text",1,"NULL","",""],["status","enum('open','reconciled','void')",0,"'open'","","MUL"],["created_by","int(11)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",1,"NULL","on update current_timestamp()",""],["deleted_at","timestamp",1,"NULL","",""],["deleted_by","int(11)",1,"NULL","",""]],"P":["id"],"K":[["idx_td_item",0,["item_id"]],["idx_td_product",0,["product_id"]],["idx_td_status",0,["status"]],["idx_td_status_created",0,["status","created_at"]],["idx_td_transfer",0,["transfer_id"]],["idx_td_transfer_created",0,["transfer_id","created_at"]],["PRIMARY",1,["id"]]]},"transfer_executions":{"C":[["id","int(10) unsigned",0,null,"auto_increment","PRI"],["transfer_id","bigint(20) unsigned",1,"NULL","","MUL"],["public_id","varchar(32)",1,"NULL","","UNI"],["alias_code","varchar(24)",1,"NULL","","UNI"],["config_id","int(10) unsigned",0,null,"","MUL"],["simulation_mode","tinyint(1)",0,"1","",""],["status","enum('pending','running','completed','failed','cancelled')",0,"'pending'","","MUL"],["total_items_processed","int(10) unsigned",0,"0","",""],["execution_time_seconds","decimal(10,3)",1,"NULL","",""],["error_message","text",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"],["completed_at","timestamp",1,"NULL","",""],["updated_at","datetime",0,"current_timestamp()","on update current_timestamp()",""],["executed_by","varchar(50)",1,"NULL","",""]],"P":["id"],"K":[["fk_config",0,["config_id"]],["idx_created",0,["created_at"]],["idx_status",0,["status"]],["idx_tx_transfer",0,["transfer_id"]],["PRIMARY",1,["id"]],["uniq_tx_alias",1,["alias_code"]],["uniq_tx_pub",1,["public_id"]]]},"transfer_idempotency":{"C":[["idem_key","varchar(128)",0,null,"","PRI"],["idem_hash","char(64)",0,null,"","MUL"],["vend_id","varchar(64)",1,"NULL","",""],["vend_number","varchar(64)",1,"NULL","",""],["response_json","longtext",1,"NULL","",""],["status_code","smallint(6)",1,"NULL","",""],["created_at","timestamp",1,"current_timestamp()","",""]],"P":["idem_key"],"K":[["idx_idem_hash",0,["idem_hash"]],["PRIMARY",1,["idem_key"]]]},"transfer_items":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["transfer_id","int(11)",0,null,"","MUL"],["product_id","varchar(45)",0,null,"","MUL"],["qty_requested","int(11)",0,null,"",""],["qty_sent_total","int(11)",1,"0","",""],["qty_received_total","int(11)",1,"0","",""],["confirmation_status","enum('pending','accepted','declined')",0,"'pending'","","MUL"],["confirmed_by_store","int(11)",1,"NULL","",""],["created_at","datetime",1,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["deleted_by","int(11)",1,"NULL","",""],["deleted_at","timestamp",1,"NULL","",""]],"P":["id"],"K":[["idx_items_outstanding",0,["transfer_id","confirmation_status"]],["idx_item_confirm",0,["confirmation_status"]],["idx_item_product",0,["product_id"]],["idx_item_transfer",0,["transfer_id"]],["idx_ti_transfer_product",0,["transfer_id","product_id"]],["PRIMARY",1,["id"]],["uniq_item_transfer_product",1,["transfer_id","product_id"]]],"F":[["fk_items_transfer",["transfer_id"],"transfers",["id"],"NO ACTION","CASCADE"]]},"transfer_labels":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["transfer_id","int(10) unsigned",0,null,"","MUL"],["order_id","bigint(20) unsigned",1,"NULL","","MUL"],["carrier_code","varchar(32)",0,null,"",""],["tracking","varchar(64)",0,null,"",""],["label_url","varchar(255)",0,null,"",""],["spooled","tinyint(1)",0,"0","",""],["idem_key","varchar(80)",1,"NULL","",""],["idem_hash","char(64)",1,"NULL","",""],["created_by","int(10) unsigned",1,"NULL","",""],["created_at","datetime",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_order",0,["order_id"]],["idx_transfer",0,["transfer_id"]],["PRIMARY",1,["id"]],["uniq_transfer_tracking",1,["transfer_id","tracking"]]]},"transfer_logs":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["transfer_id","int(11)",1,"NULL","","MUL"],["shipment_id","int(11)",1,"NULL","","MUL"],["item_id","int(11)",1,"NULL","","MUL"],["parcel_id","int(11)",1,"NULL","","MUL"],["staff_transfer_id","int(10) unsigned",1,"NULL","","MUL"],["event_type","varchar(100)",0,null,"","MUL"],["event_data","longtext",1,"NULL","",""],["actor_user_id","int(11)",1,"NULL","",""],["actor_role","varchar(50)",1,"NULL","",""],["severity","enum('info','warning','error','critical')",1,"'info'","",""],["source_system","varchar(50)",0,"'CIS'","","MUL"],["trace_id","varchar(64)",1,"NULL","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["customer_id","varchar(45)",1,"NULL","","MUL"]],"P":["id"],"K":[["idx_logs_customer",0,["customer_id"]],["idx_logs_event",0,["event_type","created_at"]],["idx_logs_event_created",0,["event_type","created_at"]],["idx_logs_item",0,["item_id","created_at"]],["idx_logs_parcel",0,["parcel_id","created_at"]],["idx_logs_shipment",0,["shipment_id","created_at"]],["idx_logs_source",0,["source_system","created_at"]],["idx_logs_staff",0,["staff_transfer_id","created_at"]],["idx_logs_transfer",0,["transfer_id","created_at"]],["idx_logs_transfer_created",0,["transfer_id","created_at"]],["idx_tl_source_severity_time",0,["source_system","severity","created_at"]],["idx_tl_trace",0,["trace_id"]],["idx_tl_transfer_type_time",0,["transfer_id","event_type","created_at"]],["idx_transfer_time",0,["transfer_id","created_at"]],["PRIMARY",1,["id"]]],"F":[["fk_logs_customer",["customer_id"],"vend_customers",["id"],"RESTRICT","RESTRICT"],["fk_logs_item",["item_id"],"transfer_items",["id"],"NO ACTION","SET NULL"],["fk_logs_parcel",["parcel_id"],"transfer_parcels",["id"],"NO ACTION","SET NULL"],["fk_logs_shipment",["shipment_id"],"transfer_shipments",["id"],"NO ACTION","SET NULL"],["fk_logs_staff",["staff_transfer_id"],"staff_transfers",["id"],"NO ACTION","SET NULL"],["fk_logs_transfer",["transfer_id"],"transfers",["id"],"NO ACTION","SET NULL"]]},"transfer_media":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["transfer_id","int(11)",0,null,"","MUL"],["parcel_id","int(11)",1,"NULL","","MUL"],["discrepancy_id","int(11)",1,"NULL","","MUL"],["kind","enum('photo','video','other')",0,"'photo'","",""],["mime_type","varchar(100)",0,null,"",""],["size_bytes","int(10) unsigned",0,"0","",""],["path","varchar(255)",0,null,"",""],["thumb_path","varchar(255)",1,"NULL","",""],["uploaded_by","int(11)",1,"NULL","",""],["src_ip","varchar(45)",1,"NULL","",""],["user_agent","varchar(255)",1,"NULL","",""],["note","varchar(255)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_discrepancy",0,["discrepancy_id"]],["idx_parcel",0,["parcel_id"]],["idx_transfer_time",0,["transfer_id","created_at"]],["PRIMARY",1,["id"]]],"F":[["fk_tm_discrepancy",["discrepancy_id"],"transfer_discrepancies",["id"],"RESTRICT","SET NULL"],["fk_tm_parcel",["parcel_id"],"transfer_parcels",["id"],"RESTRICT","SET NULL"],["fk_tm_transfer",["transfer_id"],"transfers",["id"],"RESTRICT","CASCADE"]]},"transfer_notes":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["transfer_id","int(11)",0,null,"","MUL"],["note_text","mediumtext",0,null,"",""],["created_by","int(11)",0,null,"",""],["created_at","timestamp",0,"current_timestamp()","","MUL"],["updated_at","timestamp",1,"NULL","on update current_timestamp()",""],["deleted_at","timestamp",1,"NULL","","MUL"],["deleted_by","int(11)",1,"NULL","",""]],"P":["id"],"K":[["idx_note_created",0,["created_at"]],["idx_note_deleted",0,["deleted_at"]],["PRIMARY",1,["id"]],["transfer_id",0,["transfer_id"]]],"F":[["transfer_notes_ibfk_1",["transfer_id"],"transfers",["id"],"RESTRICT","CASCADE"]]},"transfer_pack_locks":{"C":[["transfer_id","int(10) unsigned",0,null,"","PRI"],["user_id","int(10) unsigned",0,null,"","MUL"],["acquired_at","datetime",0,"current_timestamp()","",""],["expires_at","datetime",0,null,"","MUL"],["heartbeat_at","datetime",0,"current_timestamp()","",""],["client_fingerprint","varchar(255)",1,"NULL","",""]],"P":["transfer_id"],"K":[["expires_at",0,["expires_at"]],["PRIMARY",1,["transfer_id"]],["user_id",0,["user_id"]]]},"transfer_pack_lock_audit":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["transfer_id","int(10) unsigned",0,null,"","MUL"],["user_id","int(10) unsigned",0,null,"","MUL"],["action","varchar(50)",0,null,"",""],["status","varchar(20)",0,"'success'","",""],["metadata","longtext",1,"NULL","",""],["ip_address","varchar(45)",1,"NULL","",""],["user_agent","varchar(500)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["created_at",0,["created_at"]],["PRIMARY",1,["id"]],["transfer_id",0,["transfer_id","action"]],["user_id",0,["user_id","created_at"]]]},"transfer_pack_lock_requests":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["transfer_id","int(10) unsigned",0,null,"","MUL"],["user_id","int(10) unsigned",0,null,"","MUL"],["requested_at","datetime",0,"current_timestamp()","",""],["status","enum('pending','accepted','declined','expired','cancelled')",0,"'pending'","",""],["responded_at","datetime",1,"NULL","",""],["expires_at","datetime",1,"NULL","","MUL"],["client_fingerprint","varchar(255)",1,"NULL","",""]],"P":["id"],"K":[["expires_at",0,["expires_at"]],["PRIMARY",1,["id"]],["transfer_id",0,["transfer_id","status"]],["user_id",0,["user_id"]]]},"transfer_parcels":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["shipment_id","int(11)",0,null,"","MUL"],["box_number","int(11)",0,null,"",""],["tracking_number","varchar(191)",1,"NULL","","MUL"],["tracking_ref_raw","text",1,"NULL","",""],["courier","varchar(50)",1,"NULL","",""],["weight_grams","int(10) unsigned",1,"NULL","",""],["length_mm","int(10) unsigned",1,"NULL","",""],["width_mm","int(10) unsigned",1,"NULL","",""],["height_mm","int(10) unsigned",1,"NULL","",""],["weight_kg","decimal(10,2)",1,"NULL","",""],["label_url","varchar(255)",1,"NULL","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["deleted_by","int(11)",1,"NULL","",""],["deleted_at","timestamp",1,"NULL","",""],["status","enum('pending','labelled','manifested','in_transit','received','missing','damaged','cancelled','exception')",0,"'pending'","","MUL"],["notes","mediumtext",1,"NULL","",""],["received_at","timestamp",1,"NULL","",""],["created_at","datetime",0,"current_timestamp()","",""],["parcel_number","int(11)",0,"1","",""]],"P":["id"],"K":[["idx_parcels_shipment_box",0,["shipment_id","box_number"]],["idx_parcel_shipment",0,["shipment_id"]],["idx_parcel_shipment_status",0,["shipment_id","status"]],["idx_parcel_status_time",0,["status","updated_at"]],["idx_parcel_tracking",0,["tracking_number"]],["idx_shipment_id",0,["shipment_id"]],["idx_tracking",0,["tracking_number"]],["PRIMARY",1,["id"]],["uniq_parcel_boxnum",1,["shipment_id","box_number"]],["uq_parcel_box",1,["shipment_id","box_number"]]],"F":[["fk_parcels_shipment",["shipment_id"],"transfer_shipments",["id"],"NO ACTION","CASCADE"]]},"transfer_parcel_items":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["parcel_id","int(11)",0,null,"","MUL"],["item_id","int(11)",0,null,"","MUL"],["qty_received","int(11)",0,"0","",""],["locked_at","timestamp",1,"current_timestamp()","",""],["created_at","timestamp",0,"current_timestamp()","",""],["qty","int(11)",0,"0","",""]],"P":["id"],"K":[["idx_item_id",0,["item_id"]],["idx_parcel_id",0,["parcel_id"]],["idx_tpi_item",0,["item_id"]],["idx_tpi_parcel",0,["parcel_id"]],["PRIMARY",1,["id"]],["uniq_parcel_item",1,["parcel_id","item_id"]],["uq_parcel_item",1,["parcel_id","item_id"]]],"F":[["fk_tpi_item",["item_id"],"transfer_items",["id"],"NO ACTION","CASCADE"],["fk_tpi_parcel",["parcel_id"],"transfer_parcels",["id"],"NO ACTION","CASCADE"]]},"transfer_performance_logs":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["transfer_id","int(10) unsigned",0,null,"","MUL"],["user_id","int(10) unsigned",0,null,"","MUL"],["event_type","enum('RELEASED_FOR_PACKING','PACKING_STARTED','PACKING_COMPLETED','CANCELLED')",0,null,"",""],["event_timestamp","timestamp",0,"current_timestamp()","",""],["session_id","varchar(100)",1,"NULL","",""],["user_agent","text",1,"NULL","",""],["additional_data","longtext",1,"NULL","",""]],"P":["id"],"K":[["idx_timing_analysis",0,["transfer_id","event_type","event_timestamp"]],["idx_transfer_events",0,["transfer_id","event_type"]],["idx_user_performance",0,["user_id","event_timestamp"]],["PRIMARY",1,["id"]]]},"transfer_queue":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["created_at","datetime",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"transfer_queue_metrics":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["metric_type","varchar(100)",0,null,"","MUL"],["queue_name","varchar(255)",0,"'default'","","MUL"],["job_type","varchar(100)",1,"NULL","",""],["value","decimal(15,4)",0,null,"",""],["unit","varchar(50)",0,null,"",""],["metadata","longtext",1,"NULL","",""],["outlet_from","varchar(50)",1,"NULL","","MUL"],["outlet_to","varchar(50)",1,"NULL","",""],["worker_id","varchar(255)",1,"NULL","","MUL"],["recorded_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_cleanup_old_metrics",0,["recorded_at"]],["idx_metric_type_recorded",0,["metric_type","recorded_at"]],["idx_outlet_metrics",0,["outlet_from","outlet_to","recorded_at"]],["idx_queue_job_type",0,["queue_name","job_type"]],["idx_worker_metrics",0,["worker_id","recorded_at"]],["PRIMARY",1,["id"]]]},"transfer_receipts":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["transfer_id","int(11)",0,null,"","MUL"],["received_by","int(11)",1,"NULL","",""],["received_at","timestamp",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_tr_created",0,["created_at"]],["idx_tr_transfer",0,["transfer_id"]],["PRIMARY",1,["id"]]],"F":[["fk_tr_transfer",["transfer_id"],"transfers",["id"],"NO ACTION","CASCADE"]]},"transfer_receipt_items":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["receipt_id","int(11)",0,null,"","MUL"],["transfer_item_id","int(11)",0,null,"","MUL"],["qty_received","int(11)",0,"0","",""],["condition","varchar(32)",1,"'ok'","",""],["notes","text",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_tri_item",0,["transfer_item_id"]],["idx_tri_receipt",0,["receipt_id"]],["PRIMARY",1,["id"]],["uq_receipt_item",1,["receipt_id","transfer_item_id"]],["u_receipt_item",1,["receipt_id","transfer_item_id"]]],"F":[["fk_tri_item",["transfer_item_id"],"transfer_items",["id"],"NO ACTION","CASCADE"],["fk_tri_receipt",["receipt_id"],"transfer_receipts",["id"],"NO ACTION","CASCADE"]]},"transfer_shipments":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["transfer_id","int(11)",0,null,"","MUL"],["delivery_mode","enum('courier','internal_drive','pickup')",0,"'courier'","","MUL"],["dest_name","varchar(160)",1,"NULL","",""],["dest_company","varchar(160)",1,"NULL","",""],["dest_addr1","varchar(160)",1,"NULL","",""],["dest_addr2","varchar(160)",1,"NULL","",""],["dest_suburb","varchar(120)",1,"NULL","",""],["dest_city","varchar(120)",1,"NULL","",""],["dest_postcode","varchar(16)",1,"NULL","",""],["dest_email","varchar(190)",1,"NULL","",""],["dest_phone","varchar(50)",1,"NULL","",""],["dest_instructions","varchar(500)",1,"NULL","",""],["status","enum('packed','in_transit','partial','received','cancelled')",0,"'packed'","","MUL"],["packed_at","timestamp",1,"NULL","","MUL"],["packed_by","int(11)",1,"NULL","",""],["received_at","timestamp",1,"NULL","","MUL"],["created_at","datetime",0,"current_timestamp()","",""],["received_by","int(11)",1,"NULL","",""],["driver_staff_id","int(11)",1,"NULL","",""],["nicotine_in_shipment","tinyint(1)",0,"0","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["deleted_by","int(11)",1,"NULL","",""],["deleted_at","timestamp",1,"NULL","",""],["carrier_name","varchar(120)",1,"NULL","",""],["tracking_number","varchar(120)",1,"NULL","",""],["tracking_url","varchar(300)",1,"NULL","",""],["dispatched_at","datetime",1,"NULL","",""]],"P":["id"],"K":[["idx_shipments_mode",0,["delivery_mode"]],["idx_shipments_packed_at",0,["packed_at"]],["idx_shipments_received_at",0,["received_at"]],["idx_shipments_status",0,["status"]],["idx_shipments_transfer",0,["transfer_id"]],["idx_transfer_id",0,["transfer_id"]],["PRIMARY",1,["id"]]],"F":[["fk_shipments_transfer",["transfer_id"],"transfers",["id"],"NO ACTION","CASCADE"]]},"transfer_shipment_items":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["shipment_id","int(11)",0,null,"","MUL"],["item_id","int(11)",0,null,"","MUL"],["qty_sent","int(11)",0,null,"",""],["qty_received","int(11)",0,"0","",""]],"P":["id"],"K":[["idx_tsi_item",0,["item_id"]],["idx_tsi_shipment",0,["shipment_id"]],["PRIMARY",1,["id"]],["uniq_shipment_item",1,["shipment_id","item_id"]],["uq_ship_item",1,["shipment_id","item_id"]]],"F":[["fk_tsi_item",["item_id"],"transfer_items",["id"],"NO ACTION","CASCADE"],["fk_tsi_shipment",["shipment_id"],"transfer_shipments",["id"],"NO ACTION","CASCADE"]]},"transfer_shipment_notes":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["shipment_id","int(11)",0,null,"","MUL"],["note_text","mediumtext",0,null,"",""],["created_by","int(11)",0,null,"",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_shipment",0,["shipment_id"]],["PRIMARY",1,["id"]]],"F":[["fk_shipment_notes",["shipment_id"],"transfer_shipments",["id"],"NO ACTION","CASCADE"]]},"transfer_tracking_events":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["transfer_id","int(11)",0,null,"","MUL"],["parcel_id","int(11)",1,"NULL","","MUL"],["tracking_number","varchar(100)",1,"NULL","","MUL"],["carrier","varchar(50)",0,null,"",""],["event_code","varchar(64)",0,null,"",""],["event_text","varchar(255)",0,null,"",""],["occurred_at","datetime",0,null,"",""],["raw_json","longtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_parcel_time",0,["parcel_id","occurred_at"]],["idx_tracking",0,["tracking_number"]],["idx_transfer_time",0,["transfer_id","occurred_at"]],["PRIMARY",1,["id"]]],"F":[["fk_tte_parcel",["parcel_id"],"transfer_parcels",["id"],"RESTRICT","SET NULL"],["fk_tte_transfer",["transfer_id"],"transfers",["id"],"RESTRICT","CASCADE"]]},"transfer_ui_sessions":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["transfer_id","int(11)",0,null,"","MUL"],["user_id","int(11)",0,null,"",""],["state_json","longtext",0,null,"",""],["autosave_at","timestamp",0,"current_timestamp()","",""],["resumed_at","timestamp",1,"NULL","",""],["expires_at","timestamp",1,"NULL","","MUL"]],"P":["id"],"K":[["idx_ui_expiry",0,["expires_at"]],["PRIMARY",1,["id"]],["uq_ui_transfer_user",1,["transfer_id","user_id"]]],"F":[["fk_ui_transfer",["transfer_id"],"transfers",["id"],"RESTRICT","CASCADE"]]},"transfer_upload_tokens":{"C":[["token","char(64)",0,null,"","PRI"],["transfer_id","int(11)",0,null,"","MUL"],["parcel_id","int(11)",1,"NULL","","MUL"],["discrepancy_id","int(11)",1,"NULL","","MUL"],["max_uses","int(10) unsigned",0,"10","",""],["used_count","int(10) unsigned",0,"0","",""],["expires_at","datetime",0,null,"",""],["created_by","int(11)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["token"],"K":[["fk_tut_discrepancy",0,["discrepancy_id"]],["fk_tut_parcel",0,["parcel_id"]],["idx_transfer_exp",0,["transfer_id","expires_at"]],["PRIMARY",1,["token"]]],"F":[["fk_tut_discrepancy",["discrepancy_id"],"transfer_discrepancies",["id"],"RESTRICT","SET NULL"],["fk_tut_parcel",["parcel_id"],"transfer_parcels",["id"],"RESTRICT","SET NULL"],["fk_tut_transfer",["transfer_id"],"transfers",["id"],"RESTRICT","CASCADE"]]},"transfer_validation_cache":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["cache_key","varchar(255)",0,null,"","UNI"],["transfer_data","longtext",0,null,"",""],["validation_result","longtext",0,null,"",""],["status","enum('valid','invalid','error')",0,null,"","MUL"],["errors","longtext",1,"NULL","",""],["warnings","longtext",1,"NULL","",""],["safeguards_applied","longtext",1,"NULL","",""],["economic_analysis","longtext",1,"NULL","",""],["outlet_from","varchar(50)",0,null,"","MUL"],["outlet_to","varchar(50)",0,null,"",""],["total_items","int(10) unsigned",0,"0","",""],["total_value","decimal(12,2)",0,"0.00","",""],["courier_cost","decimal(10,2)",1,"NULL","",""],["requires_approval","tinyint(1)",0,"0","","MUL"],["approval_reasons","longtext",1,"NULL","",""],["expires_at","timestamp",0,"current_timestamp()","on update current_timestamp()","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_cleanup_expired",0,["expires_at"]],["idx_outlet_from_to",0,["outlet_from","outlet_to"]],["idx_requires_approval",0,["requires_approval","created_at"]],["idx_status_expires",0,["status","expires_at"]],["PRIMARY",1,["id"]],["uniq_cache_key",1,["cache_key"]]]},"ubcs_auto_branches":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["source_node_id","bigint(20)",0,null,"","MUL"],["branch_type","enum('related_concept','dependency','similarity','contradiction','evolution')",0,null,"","MUL"],["target_node_id","bigint(20)",0,null,"","MUL"],["branch_strength","decimal(5,3)",1,"0.500","",""],["auto_generated","tinyint(1)",1,"1","",""],["verified","tinyint(1)",1,"0","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_branch_type",0,["branch_type"]],["idx_source_node",0,["source_node_id"]],["idx_target_node",0,["target_node_id"]],["PRIMARY",1,["id"]]]},"ubcs_bot_extractions":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["extraction_id","varchar(100)",0,null,"","UNI"],["bot_identifier","varchar(100)",0,null,"","MUL"],["session_id","varchar(200)",1,"NULL","",""],["project_id","int(11)",1,"NULL","",""],["extraction_type","enum('full_context','incremental','emergency_dump')",1,"'full_context'","",""],["raw_data","longtext",1,"NULL","",""],["processed_nodes","int(11)",1,"0","",""],["extraction_status","enum('pending','processing','completed','failed')",1,"'pending'","","MUL"],["extraction_metadata","longtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["extraction_id",1,["extraction_id"]],["idx_bot_project",0,["bot_identifier","project_id"]],["idx_extraction_status",0,["extraction_status"]],["PRIMARY",1,["id"]]]},"ubcs_bot_registry":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["bot_id","varchar(100)",0,null,"","UNI"],["bot_name","varchar(200)",1,"NULL","",""],["first_seen","datetime",1,"current_timestamp()","",""],["last_active","datetime",1,"current_timestamp()","",""],["total_interactions","int(11)",1,"0","",""],["metadata","longtext",1,"NULL","",""]],"P":["id"],"K":[["bot_id",1,["bot_id"]],["idx_bot_id",0,["bot_id"]],["PRIMARY",1,["id"]]]},"ubcs_context_snapshots":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["context_id","varchar(100)",0,null,"","MUL"],["snapshot_type","enum('session_start','major_milestone','error_occurred','manual_save')",1,"'session_start'","","MUL"],["context_data","longtext",1,"NULL","",""],["files_referenced","longtext",1,"NULL","",""],["code_changes","longtext",1,"NULL","",""],["timestamp","datetime",1,"current_timestamp()","",""]],"P":["id"],"K":[["idx_context_id",0,["context_id"]],["idx_snapshot_type",0,["snapshot_type"]],["PRIMARY",1,["id"]]]},"ubcs_domains":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["domain_code","varchar(50)",0,null,"","UNI"],["domain_name","varchar(200)",0,null,"",""],["parent_domain_id","int(11)",1,"NULL","","MUL"],["description","mediumtext",1,"NULL","",""],["expertise_level","enum('beginner','intermediate','advanced','expert')",1,"'intermediate'","",""],["metadata","longtext",1,"NULL","",""]],"P":["id"],"K":[["domain_code",1,["domain_code"]],["idx_parent_domain",0,["parent_domain_id"]],["PRIMARY",1,["id"]]]},"ubcs_knowledge_graph":{"C":[["id","bigint(20)",0,null,"auto_increment","PRI"],["node_type","enum('concept','decision','solution','pattern','preference','context')",0,null,"","MUL"],["project_id","int(11)",1,"NULL","","MUL"],["domain_id","int(11)",1,"NULL","",""],["node_title","varchar(255)",0,null,"",""],["node_content","longtext",0,null,"",""],["parent_node_id","bigint(20)",1,"NULL","","MUL"],["confidence_score","decimal(5,3)",1,"0.500","",""],["importance_weight","decimal(5,3)",1,"0.500","","MUL"],["tags","longtext",1,"NULL","",""],["relationships","longtext",1,"NULL","",""],["created_by_bot","varchar(100)",1,"'GitHub Copilot'","",""],["created_at","timestamp",0,"current_timestamp()","",""],["last_accessed","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_importance",0,["importance_weight","confidence_score"]],["idx_node_type",0,["node_type"]],["idx_parent_node",0,["parent_node_id"]],["idx_project_domain",0,["project_id","domain_id"]],["PRIMARY",1,["id"]]]},"ubcs_messages":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["session_id","varchar(100)",0,null,"","MUL"],["context_id","varchar(100)",0,null,"","MUL"],["message_id","varchar(100)",0,null,"","UNI"],["message_type","enum('user_input','bot_response','system_note','context_update')",1,"'user_input'","","MUL"],["content","longtext",1,"NULL","","MUL"],["metadata","longtext",1,"NULL","",""],["timestamp","datetime",1,"current_timestamp()","","MUL"]],"P":["id"],"K":[["content",0,["content"]],["idx_context_id",0,["context_id"]],["idx_message_type",0,["message_type"]],["idx_session_id",0,["session_id"]],["idx_timestamp",0,["timestamp"]],["message_id",1,["message_id"]],["PRIMARY",1,["id"]]]},"ubcs_projects":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["project_code","varchar(50)",0,null,"","UNI"],["project_name","varchar(200)",0,null,"",""],["domain_id","int(11)",1,"NULL","","MUL"],["status","enum('active','completed','paused','archived')",1,"'active'","","MUL"],["priority","int(11)",1,"50","",""],["created_at","timestamp",0,"current_timestamp()","",""],["metadata","longtext",1,"NULL","",""]],"P":["id"],"K":[["idx_project_domain",0,["domain_id"]],["idx_project_status",0,["status"]],["PRIMARY",1,["id"]],["project_code",1,["project_code"]]]},"ubcs_sessions":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["session_id","varchar(100)",0,null,"","UNI"],["bot_id","varchar(100)",0,null,"","MUL"],["context_id","varchar(100)",0,null,"","MUL"],["title","varchar(500)",1,"NULL","",""],["started_at","datetime",1,"current_timestamp()","",""],["last_message","datetime",1,"current_timestamp()","",""],["message_count","int(11)",1,"0","",""],["status","enum('active','paused','completed','archived')",1,"'active'","",""]],"P":["id"],"K":[["idx_bot_id",0,["bot_id"]],["idx_context_id",0,["context_id"]],["idx_session_id",0,["session_id"]],["PRIMARY",1,["id"]],["session_id",1,["session_id"]]]},"ubcs_user_profile":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["profile_key","varchar(100)",0,null,"","UNI"],["profile_value","longtext",1,"NULL","",""],["category","varchar(50)",1,"NULL","","MUL"],["last_updated","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_category",0,["category"]],["PRIMARY",1,["id"]],["profile_key",1,["profile_key"]]]},"users":{"C":[["id","int(10) unsigned",0,null,"auto_increment","PRI"],["first_name","mediumtext",0,null,"",""],["last_name","mediumtext",0,null,"",""],["email","mediumtext",0,null,"",""],["password","mediumtext",0,null,"",""],["phone","mediumtext",0,null,"",""],["image","mediumtext",1,"NULL","",""],["last_active","timestamp",1,"NULL","",""],["default_outlet","mediumtext",1,"NULL","",""],["role_id","int(11)",0,null,"",""],["stored_dashboard_view","mediumtext",1,"NULL","",""],["xero_id","varchar(45)",1,"NULL","","UNI"],["vend_id","varchar(45)",1,"NULL","","UNI"],["deputy_id","varchar(45)",1,"NULL","","UNI"],["account_locked","int(11)",0,"0","",""],["staff_active","int(11)",0,"1","",""],["nicknames","mediumtext",1,"NULL","",""],["vend_customer_account","varchar(45)",1,"NULL","","UNI"],["gpt_access","tinyint(1)",1,"0","",""],["gpt_admin","tinyint(1)",1,"0","",""]],"P":["id"],"K":[["deputy_id_UNIQUE",1,["deputy_id"]],["PRIMARY",1,["id"]],["vend_customer_account_UNIQUE",1,["vend_customer_account"]],["vend_id_UNIQUE",1,["vend_id"]],["xero_id_UNIQUE",1,["xero_id"]]]},"user_activity_log":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["user_id","int(11)",0,null,"","MUL"],["session_id","varchar(64)",0,null,"",""],["page","varchar(255)",0,null,"","MUL"],["event_type","varchar(50)",0,null,"","MUL"],["event_data","longtext",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_event_type",0,["event_type","created_at"]],["idx_page",0,["page","created_at"]],["idx_user_session",0,["user_id","session_id","created_at"]],["PRIMARY",1,["id"]]]},"user_average_sales_values":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["staff_user_id","int(11)",0,null,"","PRI"],["outlet_id","varchar(45)",0,null,"","PRI"],["date","timestamp",0,"current_timestamp()","on update current_timestamp()","PRI"],["total_sales","decimal(13,5)",0,null,"",""],["total_transactions","int(11)",0,null,"",""],["daily_average","decimal(13,5)",0,null,"","PRI"]],"P":["id","staff_user_id","outlet_id","daily_average","date"],"K":[["PRIMARY",1,["id","staff_user_id","outlet_id","daily_average","date"]]]},"user_notifications":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["user_id","int(11)",0,null,"",""],["created_at","timestamp",0,"current_timestamp()","",""],["deleted_at","timestamp",1,"NULL","",""],["read_at","timestamp",1,"NULL","",""],["archived_at","timestamp",1,"NULL","",""],["avatar","varchar(45)",1,"NULL","",""],["notification_subject","mediumtext",1,"NULL","",""],["notification_text","mediumtext",0,null,"",""],["full_text","mediumtext",1,"NULL","",""],["url","mediumtext",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"user_permissions":{"C":[["user_id","int(11)",0,null,"","PRI"],["permission_id","int(11)",0,null,"","PRI"]],"P":["user_id","permission_id"],"K":[["PRIMARY",1,["user_id","permission_id"]]]},"user_roles":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["role_name","varchar(45)",0,null,"",""],["manage_type","varchar(45)",0,null,"",""],["managed_by","int(11)",0,null,"",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"vend_api_logs":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["endpoint","varchar(255)",0,null,"","MUL"],["method","varchar(10)",0,null,"",""],["response_status","varchar(20)",0,null,"","MUL"],["response_time_ms","int(11)",1,"NULL","",""],["error_message","text",1,"NULL","",""],["created_at","timestamp",1,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_created_at",0,["created_at"]],["idx_endpoint",0,["endpoint"]],["idx_response_status",0,["response_status"]],["PRIMARY",1,["id"]]]},"vend_brands":{"C":[["id","varchar(45)",0,null,"","PRI"],["name","varchar(100)",0,null,"",""],["deleted_at","varchar(45)",1,"NULL","",""],["version","varchar(45)",0,null,"",""],["enable_store_transfers","int(11)",0,"1","","MUL"]],"P":["id"],"K":[["ix_vend_brands_enable",0,["enable_store_transfers"]],["PRIMARY",1,["id"]]]},"vend_categories":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["categoryID","varchar(50)",0,null,"","UNI"],["name","varchar(255)",0,"''","","MUL"],["nodeDepth","int(11)",1,"0","","MUL"],["fullPathName","text",1,"NULL","",""],["leftNode","int(11)",1,"0","",""],["rightNode","int(11)",1,"0","",""],["createTime","datetime",1,"NULL","",""],["timeStamp","datetime",1,"NULL","",""],["parentID","varchar(50)",1,"NULL","","MUL"],["deleted_at","datetime",1,"NULL","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""],["root_category_id","varchar(255)",1,"NULL","",""],["leaf_category","tinyint(1)",1,"0","",""],["category_path_json","text",1,"NULL","",""],["parent_category_id","varchar(255)",1,"NULL","",""],["category_path","text",1,"NULL","",""]],"P":["id"],"K":[["categoryID",1,["categoryID"]],["idx_deleted",0,["deleted_at"]],["idx_name",0,["name"]],["idx_node_depth",0,["nodeDepth"]],["idx_parent",0,["parentID"]],["ix_vc_categoryID",0,["categoryID"]],["ix_vc_deleted_name",0,["deleted_at","name"]],["ix_vc_name",0,["name"]],["PRIMARY",1,["id"]]]},"vend_category_map":{"C":[["vend_category_id","varchar(50)",0,null,"","PRI"],["target_category_id","varchar(50)",0,null,"","MUL"],["refinement_status","enum('unknown','mapped','refined')",1,"'mapped'","",""],["created_at","timestamp",0,"current_timestamp()","",""],["notes","varchar(255)",1,"NULL","",""]],"P":["vend_category_id"],"K":[["idx_target",0,["target_category_id"]],["ix_vcm_target",0,["target_category_id"]],["ix_vcm_vendor",0,["vend_category_id"]],["ix_vend_category_map_vendid",0,["vend_category_id"]],["PRIMARY",1,["vend_category_id"]],["uq_vcm_vendor",1,["vend_category_id"]]],"F":[["fk_vcm_target",["target_category_id"],"categories",["id"],"RESTRICT","RESTRICT"]]},"vend_customers":{"C":[["id","varchar(45)",0,null,"","PRI"],["customer_code","varchar(100)",1,"NULL","","MUL"],["first_name","mediumtext",1,"NULL","",""],["last_name","mediumtext",1,"NULL","",""],["email","varchar(100)",1,"NULL","",""],["year_to_date","varchar(45)",1,"NULL","",""],["balance","varchar(45)",1,"NULL","",""],["loyalty_balance","varchar(45)",1,"NULL","",""],["note","mediumtext",1,"NULL","",""],["gender","varchar(45)",1,"NULL","",""],["date_of_birth","varchar(45)",1,"NULL","",""],["company_name","varchar(100)",1,"NULL","",""],["do_not_email","varchar(45)",1,"NULL","",""],["phone","varchar(100)",1,"NULL","",""],["mobile","varchar(100)",1,"NULL","",""],["physical_suburb","varchar(45)",1,"NULL","",""],["physical_city","varchar(45)",1,"NULL","",""],["physical_postcode","varchar(45)",1,"NULL","",""],["physical_state","varchar(45)",1,"NULL","",""],["postal_suburb","varchar(45)",1,"NULL","",""],["postal_city","varchar(45)",1,"NULL","",""],["postal_state","varchar(45)",1,"NULL","",""],["customer_group_id","varchar(45)",1,"NULL","",""],["enable_loyalty","varchar(45)",1,"NULL","",""],["created_at","varchar(45)",1,"NULL","",""],["updated_at","varchar(45)",1,"NULL","",""],["deleted_at","varchar(45)",1,"NULL","",""],["version","varchar(45)",1,"NULL","",""],["postal_postcode","varchar(45)",1,"NULL","",""],["name","mediumtext",1,"NULL","",""],["physical_address_1","varchar(200)",1,"NULL","",""],["physical_address_2","varchar(200)",1,"NULL","",""],["physical_country_id","varchar(45)",1,"NULL","",""],["postal_address_1","varchar(200)",1,"NULL","",""],["postal_address_2","varchar(200)",1,"NULL","",""],["postal_country_id","varchar(45)",1,"NULL","",""],["custom_field_1","mediumtext",1,"NULL","",""],["custom_field_2","varchar(200)",1,"NULL","",""],["custom_field_3","varchar(200)",1,"NULL","",""],["custom_field_4","varchar(200)",1,"NULL","",""],["website","varchar(200)",1,"NULL","",""],["unsubscribe_account_balance","int(11)",0,"0","",""]],"P":["id"],"K":[["customerID",0,["id","customer_code","email"]],["id_UNIQUE",1,["id"]],["PRIMARY",1,["id"]],["vs_code_idx",0,["customer_code"]]]},"vend_inventory":{"C":[["id","varchar(100)",0,null,"","PRI"],["outlet_id","varchar(100)",0,null,"","MUL"],["product_id","varchar(100)",0,null,"","MUL"],["inventory_level","int(11)",0,null,"","MUL"],["current_amount","int(11)",0,null,"",""],["version","bigint(20)",0,null,"",""],["reorder_point","int(11)",1,"NULL","",""],["reorder_amount","int(11)",1,"NULL","",""],["deleted_at","timestamp",1,"NULL","",""],["average_cost","decimal(16,6)",0,null,"",""]],"P":["id"],"K":[["idx_prod_outlet",0,["product_id","outlet_id"]],["idx_vend_inventory_covering",0,["product_id","outlet_id","inventory_level"]],["ix_vend_inventory_level",0,["inventory_level"]],["ix_vend_inventory_outlet_product",0,["outlet_id","product_id"]],["ix_vi_outlet_amt_prod",0,["outlet_id","deleted_at","current_amount","product_id"]],["outlet_id",0,["outlet_id"]],["PRIMARY",1,["id"]],["product_id",0,["product_id"]]]},"vend_inventory_sync":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["outlet_id","varchar(100)",0,null,"","MUL"],["product_id","varchar(100)",0,null,"",""],["vend_id","varchar(100)",1,"NULL","",""],["old_amount","int(11)",0,"0","",""],["new_amount","int(11)",0,"0","",""],["sync_timestamp","timestamp",0,"current_timestamp()","","MUL"],["operation_id","varchar(100)",1,"NULL","","MUL"]],"P":["id"],"K":[["idx_operation",0,["operation_id"]],["idx_outlet_product",0,["outlet_id","product_id"]],["idx_sync_timestamp",0,["sync_timestamp"]],["PRIMARY",1,["id"]],["unique_sync",1,["outlet_id","product_id","operation_id"]]]},"vend_outlets":{"C":[["id","varchar(100)",0,null,"","PRI"],["register_id","varchar(100)",1,"NULL","","UNI"],["name","varchar(100)",0,null,"",""],["default_tax_id","varchar(100)",1,"NULL","",""],["currency","varchar(100)",1,"NULL","",""],["currency_symbol","varchar(100)",1,"NULL","",""],["display_prices","varchar(100)",1,"NULL","",""],["time_zone","varchar(100)",1,"NULL","",""],["physical_street_number","varchar(45)",1,"NULL","",""],["physical_street","varchar(45)",1,"NULL","",""],["physical_address_1","varchar(100)",1,"NULL","",""],["physical_address_2","varchar(100)",1,"NULL","",""],["physical_suburb","varchar(100)",1,"NULL","",""],["physical_city","varchar(255)",1,"NULL","",""],["physical_postcode","varchar(100)",1,"NULL","",""],["physical_state","varchar(100)",1,"NULL","",""],["physical_country_id","varchar(100)",1,"NULL","",""],["physical_phone_number","varchar(45)",1,"NULL","",""],["deleted_at","timestamp",1,"NULL","",""],["version","bigint(20)",0,null,"",""],["turn_over_rate","float",0,"5","",""],["automatic_ordering","int(11)",0,"1","",""],["facebook_page_id","varchar(45)",1,"NULL","",""],["gss_token","varchar(100)",1,"NULL","",""],["google_page_id","varchar(100)",1,"NULL","",""],["total_review_count","int(11)",1,"NULL","",""],["google_review_rating","float(2,1)",1,"NULL","",""],["store_code","varchar(45)",1,"NULL","",""],["magento_warehouse_id","int(11)",1,"NULL","",""],["google_link","varchar(100)",1,"NULL","",""],["outlet_lat","varchar(45)",1,"NULL","",""],["outlet_long","varchar(45)",1,"NULL","",""],["website_active","int(11)",0,"1","",""],["website_outlet_id","int(11)",1,"NULL","","UNI"],["deposit_card_id","int(11)",1,"NULL","",""],["vape_hq_shipping_id","varchar(45)",1,"NULL","",""],["banking_days_allocated","int(11)",0,"7","",""],["email","varchar(45)",1,"NULL","",""],["nz_post_api_key","varchar(45)",1,"NULL","",""],["nz_post_subscription_key","varchar(45)",1,"NULL","",""],["ip_address","varchar(45)",1,"NULL","",""],["deputy_location_id","int(11)",0,"0","",""],["eftpos_merchant_id","int(11)",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["is_warehouse","int(11)",0,"0","","MUL"]],"P":["id"],"K":[["ix_vend_outlets_warehouse",0,["is_warehouse"]],["magento_warehouse_id_UNIQUE",1,["website_outlet_id"]],["PRIMARY",1,["id"]],["register_id_UNIQUE",1,["register_id"]]]},"vend_outlets_closed_notifications":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["outlet_id","varchar(45)",0,null,"",""],["created_at","timestamp",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"vend_outlets_open_hours":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["outlet_id","varchar(45)",0,null,"",""],["monday_open","varchar(5)",0,"'0'","",""],["monday_close","varchar(5)",0,"'0'","",""],["tuesday_open","varchar(5)",0,"'0'","",""],["tuesday_close","varchar(5)",0,"'0'","",""],["wednesday_open","varchar(5)",0,"'0'","",""],["wednesday_close","varchar(5)",0,"'0'","",""],["thursday_open","varchar(5)",0,"'0'","",""],["thursday_close","varchar(5)",0,"'0'","",""],["friday_open","varchar(5)",0,"'0'","",""],["friday_close","varchar(5)",0,"'0'","",""],["saturday_open","varchar(5)",0,"'0'","",""],["saturday_close","varchar(5)",0,"'0'","",""],["sunday_open","varchar(5)",0,"'0'","",""],["sunday_close","varchar(5)",0,"'0'","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"vend_products":{"C":[["id","varchar(100)",0,"''","","PRI"],["source_id","varchar(200)",1,"NULL","",""],["source_variant_id","mediumtext",1,"NULL","",""],["variant_parent_id","mediumtext",1,"NULL","",""],["name","varchar(255)",1,"NULL","","MUL"],["variant_name","varchar(255)",1,"NULL","",""],["handle","varchar(200)",1,"NULL","",""],["sku","varchar(200)",1,"NULL","",""],["supplier_code","int(11)",1,"NULL","",""],["active","int(11)",0,null,"","MUL"],["has_inventory","int(11)",0,null,"",""],["is_composite","int(11)",0,null,"",""],["description","longtext",1,"NULL","",""],["image_url","text",1,"NULL","",""],["created_at","timestamp",0,"'0000-00-00 00:00:00'","",""],["updated_at","timestamp",0,"'0000-00-00 00:00:00'","",""],["deleted_at","timestamp",1,"'0000-00-00 00:00:00'","","MUL"],["type","mediumtext",1,"NULL","",""],["account_code","mediumtext",1,"NULL","",""],["version","bigint(20)",0,null,"",""],["supplier","mediumtext",1,"NULL","",""],["source","text",1,"NULL","",""],["account_code_purchase","mediumtext",1,"NULL","",""],["has_variants","mediumtext",1,"NULL","",""],["brand","varchar(255)",1,"NULL","",""],["variant_options","text",1,"NULL","",""],["brand_id","varchar(200)",1,"NULL","","MUL"],["price_including_tax","decimal(13,5)",0,null,"",""],["loyalty_amount","decimal(13,5)",1,"NULL","",""],["price_excluding_tax","decimal(13,5)",0,null,"",""],["product_type_id","mediumtext",1,"NULL","",""],["supplier_id","varchar(200)",1,"NULL","","MUL"],["button_order","int(11)",0,null,"",""],["is_active","int(11)",0,null,"",""],["image_thumbnail_url","text",1,"NULL","",""],["supply_price","decimal(13,5)",0,null,"",""],["avg_weight_grams","int(11)",1,"NULL","","MUL"],["dont_show_in_low_stock","int(11)",0,"0","",""],["dont_insert_into_website","int(11)",1,"0","",""],["harp_product_status","int(11)",0,"0","",""],["is_deleted","tinyint(1)",1,"NULL","STORED GENERATED","MUL"]],"P":["id"],"K":[["idx_supplier_active",0,["supplier_id","is_active","active","deleted_at"]],["idx_vend_products_active_inventory",0,["active","has_inventory","is_active","supplier_id","brand_id"]],["ix_vend_products_active",0,["active"]],["ix_vend_products_brand_supplier",0,["brand_id","supplier_id"]],["ix_vend_products_deleted",0,["deleted_at"]],["ix_vp_flags",0,["is_deleted","is_active","active","has_inventory"]],["ix_vp_weight",0,["avg_weight_grams"]],["PRIMARY",1,["id"]],["ProductFullSearch",0,["name"]]]},"vend_products_default_transfer_settings":{"C":[["product_id","varchar(45)",0,null,"","PRI"],["enable_product_transfer","int(11)",0,"1","",""],["enable_qty_transfer_limit","int(11)",0,"0","",""],["enable_transfer_threshold","int(11)",0,"0","",""],["maximum_qty_to_send","int(11)",0,"30","",""],["only_send_when_below","int(11)",0,"20","",""],["send_in_multiple_qty","int(11)",0,"1","",""],["minimum_qty_left_at_warehouse","int(11)",0,"0","",""]],"P":["product_id"],"K":[["PRIMARY",1,["product_id"]],["ux_vp_default_settings_prod",1,["product_id"]]],"F":[["productID",["product_id"],"vend_products",["id"],"NO ACTION","CASCADE"]]},"vend_products_outlet_transfer_settings":{"C":[["product_id","varchar(45)",0,null,"","PRI"],["outlet_id","varchar(45)",0,null,"","PRI"],["override_default_product_settings","int(11)",0,"0","",""],["enable_product_transfer","int(11)",0,"1","",""],["enable_qty_transfer_limit","int(11)",0,"0","",""],["enable_transfer_threshold","int(11)",0,"0","",""],["maximum_qty_to_send","int(11)",0,"30","",""],["only_send_when_below","int(11)",0,"20","",""],["send_in_multiple_qty","int(11)",0,"1","",""],["minimum_qty_left_at_warehouse","int(11)",0,"0","",""]],"P":["product_id","outlet_id"],"K":[["outletID_idx",0,["outlet_id"]],["PRIMARY",1,["product_id","outlet_id"]],["ux_vp_outlet_settings_prod_outlet",1,["product_id","outlet_id"]]]},"vend_product_qty_history":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["product_id","varchar(45)",0,null,"","MUL"],["qty","int(11)",0,null,"",""],["outlet_id","varchar(45)",0,null,"","MUL"],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_created_outlet",0,["created_at","outlet_id"]],["idx_product_outlet_created",0,["product_id","outlet_id","created_at"]],["outletIDIndex",0,["outlet_id"]],["PRIMARY",1,["id"]]]},"vend_queue":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["request_id","char(16)",1,"NULL","",""],["idempotency_key","varchar(64)",1,"NULL","","MUL"],["correlation_id","varchar(64)",1,"NULL","",""],["vend_data","mediumtext",0,null,"",""],["status","int(11)",0,"0","","MUL"],["retry_count","int(11)",0,"0","",""],["vend_url","varchar(100)",0,null,"",""],["http_method","varchar(8)",0,"'POST'","",""],["source","varchar(50)",0,"'system'","","MUL"],["type","varchar(50)",0,"'generic'","",""],["result","text",1,"NULL","",""],["response_code","int(11)",1,"NULL","",""],["error_code","varchar(64)",1,"NULL","",""],["retryable","tinyint(1)",0,"1","",""],["timestamp","timestamp",0,"current_timestamp()","","MUL"],["created_at","timestamp",0,"current_timestamp()","","MUL"],["updated_at","timestamp",0,"current_timestamp()","",""],["next_attempt_at","timestamp",1,"NULL","",""],["locked_by","varchar(64)",1,"NULL","",""],["locked_at","timestamp",1,"NULL","",""],["endpoint","varchar(255)",1,"NULL","","MUL"],["vend_resource","varchar(64)",1,"NULL","","MUL"],["entity_type","enum('transfer','po','inventory','product')",1,"NULL","","MUL"],["entity_pk","int(11)",1,"NULL","",""]],"P":["id"],"K":[["idx_entity_ref",0,["entity_type","entity_pk"]],["idx_idempotency",0,["idempotency_key"]],["idx_locked",0,["status","locked_by","locked_at"]],["idx_resource_status",0,["vend_resource","status"]],["idx_status_due",0,["status","next_attempt_at"]],["idx_vend_queue_status_id",0,["status","id"]],["idx_vend_queue_status_retry",0,["status","retry_count"]],["ix_vq_created",0,["created_at"]],["ix_vq_endpoint_status",0,["endpoint","status"]],["ix_vq_source_created",0,["source","created_at"]],["ix_vq_status",0,["status"]],["ix_vq_status_retry",0,["status","retry_count"]],["ix_vq_timestamp",0,["timestamp"]],["PRIMARY",1,["id"]],["queue_index",0,["status","timestamp"]]]},"vend_sales":{"C":[["increment_id","int(11)",0,null,"auto_increment","PRI"],["id","varchar(36)",0,null,"","UNI"],["outlet_id","varchar(36)",0,null,"","MUL"],["register_id","varchar(36)",0,null,"",""],["user_id","varchar(36)",0,null,"","MUL"],["customer_id","varchar(36)",0,null,"","MUL"],["invoice_number","int(11)",0,null,"",""],["status","varchar(30)",0,null,"",""],["note","mediumtext",0,null,"",""],["short_code","varchar(15)",0,null,"",""],["return_for","varchar(100)",1,"NULL","",""],["total_price","decimal(16,6)",1,"NULL","",""],["total_tax","decimal(16,6)",1,"NULL","",""],["total_loyalty","decimal(16,6)",1,"NULL","",""],["created_at","timestamp",0,"'0000-00-00 00:00:00'","",""],["updated_at","timestamp",0,"'0000-00-00 00:00:00'","",""],["sale_date","timestamp",0,"'0000-00-00 00:00:00'","","MUL"],["deleted_at","timestamp",1,"NULL","",""],["version","bigint(100)",0,null,"",""],["receipt_number","int(11)",0,null,"",""],["version_max","bigint(100)",1,"NULL","",""],["payments","longtext",1,"NULL","",""],["sale_date_d","date",1,"NULL","STORED GENERATED","MUL"]],"P":["increment_id"],"K":[["idx_sales_outlet_increment",0,["outlet_id","increment_id"]],["idx_user_id",0,["user_id"]],["idx_vend_sales_performance",0,["outlet_id","sale_date","status","total_price"]],["idx_vend_sales_user_date_status",0,["user_id","created_at","status"]],["idx_vend_sales_web_processing",0,["outlet_id","status","sale_date","created_at"]],["idx_vs_customer_date",0,["customer_id","sale_date"]],["idx_vs_increment_outlet_date",0,["increment_id","outlet_id","sale_date"]],["idx_vs_outlet_date_status",0,["outlet_id","sale_date","status"]],["idx_vs_user_date_status",0,["user_id","sale_date","status"]],["ix_vs_customer_date",0,["customer_id","sale_date"]],["ix_vs_dateD_inc",0,["sale_date_d","increment_id"]],["ix_vs_date_inc",0,["sale_date","increment_id"]],["ix_vs_outlet_dateD_inc",0,["outlet_id","sale_date_d","increment_id"]],["ix_vs_outlet_date_inc",0,["outlet_id","sale_date","increment_id"]],["PRIMARY",1,["increment_id"]],["SALE_ID_INDEX",1,["id"]]]},"vend_sales_line_items":{"C":[["sales_increment_id","int(11)",0,null,"","PRI"],["id","varchar(36)",0,null,"","PRI"],["product_id","varchar(36)",0,null,"","MUL"],["tax_id","varchar(36)",0,null,"",""],["discount_total","decimal(16,6)",1,"NULL","",""],["discount","decimal(16,6)",1,"NULL","",""],["price_total","decimal(16,6)",1,"NULL","",""],["price","decimal(16,6)",1,"NULL","",""],["cost_total","decimal(16,6)",0,null,"",""],["cost","decimal(16,6)",0,null,"",""],["tax_total","decimal(16,6)",1,"NULL","",""],["tax","decimal(16,6)",1,"NULL","",""],["quantity","int(11)",0,null,"","MUL"],["loyalty_value","decimal(16,6)",1,"NULL","",""],["note","mediumtext",1,"NULL","",""],["price_set","int(11)",0,null,"",""],["status","varchar(30)",0,null,"","MUL"],["sequence","int(11)",0,null,"",""],["unit_discount","decimal(16,6)",1,"NULL","",""],["unit_loyalty_value","decimal(13,5)",0,null,"",""],["total_cost","decimal(16,6)",1,"NULL","",""],["unit_price","decimal(16,6)",1,"NULL","",""],["unit_cost","decimal(16,6)",1,"NULL","",""],["total_discount","decimal(16,6)",1,"NULL","",""],["total_price","decimal(16,6)",1,"NULL","",""],["total_loyalty_value","decimal(16,6)",1,"NULL","",""],["total_tax","decimal(16,6)",1,"NULL","",""],["is_return","int(11)",0,null,"",""],["unit_tax","decimal(16,6)",1,"NULL","",""],["sale_id","varchar(36)",0,null,"","MUL"]],"P":["sales_increment_id","id"],"K":[["idx_covering_ultra_fast",0,["product_id","is_return","sales_increment_id","quantity"]],["idx_quantity_return",0,["quantity","is_return"]],["idx_sale_id",0,["sale_id"]],["idx_sale_line_product_outlet",0,["product_id","sales_increment_id","is_return"]],["idx_status",0,["status"]],["idx_vsli_covering_agg",0,["status","product_id","quantity","price_total","tax_total"]],["idx_vsli_sales_inc_status",0,["sales_increment_id","status"]],["idx_vsli_status_product",0,["status","product_id"]],["ix_vsli_salesinc_prod_status_return",0,["sales_increment_id","product_id","status","is_return"]],["PRIMARY",1,["sales_increment_id","id"]]],"F":[["vendSaleIncrementID",["sales_increment_id"],"vend_sales",["increment_id"],"RESTRICT","RESTRICT"],["vendUUIDIncrementID",["sale_id"],"vend_sales",["id"],"RESTRICT","RESTRICT"]]},"vend_suppliers":{"C":[["id","varchar(100)",0,null,"","PRI"],["name","varchar(100)",0,null,"","MUL"],["source","varchar(45)",1,"NULL","",""],["description","varchar(45)",1,"NULL","",""],["deleted_at","varchar(45)",1,"NULL","",""],["version","varchar(45)",1,"NULL","",""],["email","varchar(100)",1,"NULL","","MUL"],["claim_email","varchar(150)",1,"NULL","",""],["bank_account","varchar(45)",1,"NULL","",""],["phone","varchar(45)",1,"NULL","",""],["contact_name","varchar(45)",1,"NULL","",""],["show_in_system","int(11)",1,"1","","MUL"],["automatic_ordering","int(11)",0,"0","","MUL"],["automatic_transferring","int(11)",0,"1","","MUL"],["automatic_transferring_based_on_sales_data","int(11)",1,"0","",""],["notification_eligible","int(11)",0,"1","","MUL"],["credit_sla_days","int(11)",1,"NULL","",""],["enable_product_returns","int(11)",0,"1","","MUL"],["enable_wholesale_show_estimated_delivery","int(11)",0,"0","",""],["automatic_ordering_moq","int(11)",0,"30","",""],["automatic_product_forecasting","int(11)",0,"0","",""],["website","varchar(45)",1,"NULL","",""],["contact_person","varchar(45)",1,"NULL","",""],["brand_logo_url","varchar(45)",1,"NULL","",""],["primary_color","varchar(45)",1,"NULL","",""],["secondary_color","varchar(45)",1,"NULL","",""]],"P":["id"],"K":[["id_UNIQUE",1,["id"]],["ix_vend_suppliers_auto",0,["automatic_transferring"]],["ix_vs_auto_ordering",0,["automatic_ordering","id"]],["ix_vs_email",0,["email"]],["ix_vs_name",0,["name"]],["ix_vs_notify_enabled",0,["notification_eligible","id"]],["ix_vs_returns_enabled",0,["enable_product_returns","id"]],["ix_vs_visible_name",0,["show_in_system","name"]],["PRIMARY",1,["id"]]]},"vend_sync_cursors":{"C":[["id","int(10) unsigned",0,null,"auto_increment","PRI"],["resource","varchar(64)",0,null,"","MUL"],["outlet_id","varchar(100)",1,"NULL","",""],["since_token","varchar(256)",1,"NULL","",""],["last_started","timestamp",1,"NULL","",""],["last_finished","timestamp",1,"NULL","",""],["last_error","text",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]],["uniq_cursor",1,["resource","outlet_id"]]]},"vend_webhook_inbox":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["delivery_id","varchar(64)",0,null,"","UNI"],["topic","varchar(100)",0,null,"","MUL"],["payload","longblob",0,null,"",""],["signature","varchar(256)",1,"NULL","",""],["received_at","timestamp",0,"current_timestamp()","",""],["processed_at","timestamp",1,"NULL","",""],["error","mediumtext",1,"NULL","",""]],"P":["id"],"K":[["idx_topic_time",0,["topic","received_at"]],["PRIMARY",1,["id"]],["uniq_delivery",1,["delivery_id"]]]},"verifone_transactions":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["transasction_id","bigint(20)",0,null,"","MUL"],["amount","decimal(10,2)",0,null,"",""],["currency_code","varchar(3)",1,"NULL","",""],["created_at","datetime",0,null,"",""],["country_code","varchar(2)",1,"NULL","",""],["payment_product","varchar(50)",1,"NULL","",""],["payment_product_type","varchar(50)",1,"NULL","",""],["status","varchar(50)",0,null,"",""],["rrn","varchar(255)",1,"NULL","",""],["cvv_present","tinyint(1)",1,"NULL","",""],["authorization_code","varchar(255)",1,"NULL","",""],["reason_code","varchar(255)",1,"NULL","",""],["shopper_interaction","varchar(50)",1,"NULL","",""],["pos_device_id","varchar(255)",1,"NULL","",""],["stan","varchar(255)",1,"NULL","",""],["card_brand","varchar(50)",1,"NULL","",""],["merchant_id","varchar(255)",1,"NULL","","MUL"],["poi_id","varchar(255)",1,"NULL","",""],["masked_card_number","varchar(255)",1,"NULL","",""],["acquirer_response_code","varchar(255)",1,"NULL","",""],["transaction_status","varchar(50)",1,"NULL","",""],["transaction_type","varchar(50)",1,"NULL","",""],["entry_mode","varchar(50)",1,"NULL","",""],["invoice_number","varchar(255)",1,"NULL","",""]],"P":["id"],"K":[["merchantIDIndex",0,["merchant_id"]],["PRIMARY",1,["id"]],["transactionIDIndex",0,["transasction_id"]]]},"vw_transfer_progress":{"C":[["transfer_id","int(11)",0,"0","",""],["state","enum('OPEN','PACKING','PACKAGED','SENT','RECEIVING','RECEIVED','CLOSED','CANCELLED')",0,"'OPEN'","",""],["status","enum('draft','open','sent','partial','received','cancelled')",0,"'draft'","",""],["outlet_from","varchar(100)",0,null,"",""],["outlet_to","varchar(100)",0,null,"",""],["total_sent","decimal(32,0)",1,"NULL","",""],["total_received","decimal(32,0)",1,"NULL","",""],["outstanding","decimal(33,0)",1,"NULL","",""],["pct_received","decimal(38,2)",1,"NULL","",""]]},"v_carrier_caps":{"C":[["carrier","varchar(100)",0,null,"",""],["container_code","varchar(64)",0,null,"",""],["container_cap_g","int(11)",1,"NULL","",""],["rule_cap_g","int(11)",1,"NULL","",""]]},"v_carrier_container_prices":{"C":[["carrier_name","varchar(100)",0,null,"",""],["carrier_id","int(11)",0,"0","",""],["service_id","int(11)",1,"0","",""],["service_code","varchar(64)",1,null,"",""],["service_name","varchar(150)",1,null,"",""],["container_id","int(11)",0,"0","",""],["container_code","varchar(64)",0,null,"",""],["container_name","varchar(150)",0,null,"",""],["kind","enum('bag','box','document','unknown')",0,"'unknown'","",""],["length_mm","int(11)",1,"NULL","",""],["width_mm","int(11)",1,"NULL","",""],["height_mm","int(11)",1,"NULL","",""],["container_cap_g","int(11)",1,"NULL","",""],["rule_cap_g","int(11)",1,"NULL","",""],["max_units","int(11)",1,"NULL","",""],["cost","decimal(10,2)",0,"0.01","",""]]},"v_category_mappings":{"C":[["vend_category_id","varchar(50)",0,null,"",""],["vend_category_name","varchar(255)",0,"''","",""],["cis_category_id","varchar(50)",1,null,"",""],["cis_category_name","varchar(255)",1,null,"",""],["refinement_status","enum('unknown','mapped','refined')",1,"'mapped'","",""],["product_count","bigint(21)",0,"0","",""]]},"v_cis_queue_backlog":{"C":[["status","enum('READY','CLAIMED','RUNNING','DONE','FAILED','DLQ','CANCELLED')",0,"'READY'","",""],["lane","enum('critical','default')",0,"'default'","",""],["contract_type","varchar(64)",0,null,"",""],["cnt","bigint(21)",0,"0","",""],["oldest","datetime",1,"current_timestamp()","",""],["newest","datetime",1,"current_timestamp()","",""],["avg_attempts","decimal(9,4)",1,"NULL","",""],["error_count","bigint(21)",0,"0","",""]]},"v_cis_queue_performance":{"C":[["date","date",1,"NULL","",""],["lane","enum('critical','default')",0,"'default'","",""],["contract_type","varchar(64)",0,null,"",""],["total_jobs","bigint(21)",0,"0","",""],["completed","bigint(21)",0,"0","",""],["dlq","bigint(21)",0,"0","",""],["avg_attempts","decimal(9,4)",1,"NULL","",""],["avg_completion_seconds","decimal(24,4)",1,"NULL","",""]]},"v_cis_system_health":{"C":[["flag_name","varchar(64)",0,null,"",""],["flag_value","varchar(32)",0,null,"",""],["updated_at","datetime",0,"current_timestamp()","",""],["updated_by","varchar(64)",1,"NULL","",""],["health_status","varchar(8)",0,"''","",""],["reason","longtext",1,"NULL","",""]]},"v_classification_coverage":{"C":[["status","varchar(7)",0,"''","",""],["products","bigint(21)",0,"0","",""]]},"v_effective_pack_rules":{"C":[["product_id","varchar(100)",0,"''","",""],["pack_size","int(11)",0,"0","",""],["max_qty","int(11)",1,"NULL","",""],["min_warehouse_qty","int(11)",1,"NULL","",""],["transfer_enabled","int(11)",0,"0","",""]]},"v_freight_rules_catalog":[],"v_master_session_status":[],"v_missing_container_rules":{"C":[["container_id","int(11)",0,"0","",""],["carrier_id","int(11)",0,null,"",""],["service_id","int(11)",1,"NULL","",""],["code","varchar(64)",0,null,"",""],["name","varchar(150)",0,null,"",""],["kind","enum('bag','box','document','unknown')",0,"'unknown'","",""],["length_mm","int(11)",1,"NULL","",""],["width_mm","int(11)",1,"NULL","",""],["height_mm","int(11)",1,"NULL","",""],["max_weight_grams","int(11)",1,"NULL","",""],["max_units","int(11)",1,"NULL","",""],["volume_m3","decimal(10,6)",1,"NULL","",""]]},"v_nzpost_eship_containers":{"C":[["container_id","int(11)",0,"0","",""],["container_code","varchar(64)",0,null,"",""],["container_name","varchar(150)",0,null,"",""],["kind","enum('bag','box','document','unknown')",0,"'unknown'","",""],["length_mm","int(11)",1,"NULL","",""],["width_mm","int(11)",1,"NULL","",""],["height_mm","int(11)",1,"NULL","",""],["container_max_weight_g","int(11)",1,"NULL","",""],["max_units","int(11)",1,"NULL","",""],["cost","decimal(10,2)",1,"0.01","",""]]},"v_nzpost_service_options":{"C":[["service_id","int(11)",0,"0","",""],["service_code","varchar(64)",0,null,"",""],["service_name","varchar(150)",0,null,"",""],["option_code","varchar(32)",0,null,"",""],["option_name","varchar(100)",0,null,"",""]]},"v_packrule_coverage":{"C":[["packrule_status","varchar(20)",0,"''","",""],["products","bigint(21)",0,"0","",""]]},"v_product_pack_profile":{"C":[["product_id","varchar(100)",0,null,"",""],["category_id","varchar(50)",0,null,"",""],["pack_size","int(11)",1,"NULL","",""],["outer_multiple","int(11)",1,"NULL","",""],["must_outer_pack","int(4)",1,"NULL","",""],["ship_pack_min","int(11)",1,"NULL","",""],["units_per_carton","int(11)",1,null,"",""],["carton_mandatory","tinyint(1)",1,"0","",""]]},"v_queue_jobs":{"C":[["job_id","char(36)",0,null,"",""],["job_type","varchar(64)",0,null,"",""],["status","enum('pending','running','completed','failed')",0,"'pending'","",""],["priority","int(11)",0,"0","",""],["attempts","int(11)",0,"0","",""],["max_attempts","int(1)",0,"0","",""],["idempotency_key","binary(0)",1,"NULL","",""],["payload_json","longtext",0,null,"",""],["last_error","text",1,"NULL","",""],["result_meta","longtext",1,"NULL","",""],["scheduled_at","datetime",0,"current_timestamp()","",""],["leased_until","datetime",1,"NULL","",""],["heartbeat_at","datetime",1,"NULL","",""],["started_at","datetime",1,"NULL","",""],["finished_at","datetime",1,"NULL","",""],["created_at","datetime",0,"current_timestamp()","",""],["updated_at","datetime",0,"current_timestamp()","",""]]},"v_queue_summary":{"C":[["vend_resource","varchar(64)",1,"NULL","",""],["status","int(11)",0,"0","",""],["cnt","bigint(21)",0,"0","",""],["retried","decimal(22,0)",1,"NULL","",""]]},"v_receiving_dashboard":[],"v_recent_sales_12w":{"C":[["product_id","varchar(36)",0,null,"",""],["outlet_id","varchar(36)",0,null,"",""],["qty_sold","decimal(32,0)",1,"NULL","",""],["avg_weekly_sales","decimal(14,4)",1,"NULL","",""],["weeks_active","bigint(21)",0,"0","",""],["last_sale_date","timestamp",1,"NULL","",""]]},"v_transfer_eligible_products":{"C":[["product_id","varchar(100)",0,"''","",""],["name","varchar(255)",1,"NULL","",""],["sku","varchar(200)",1,"NULL","",""],["transfer_enabled","int(11)",1,"NULL","",""],["warehouse_stock","int(11)",0,null,"",""]]},"v_transfer_eligible_products_corrected":[],"v_transfer_eligible_products_filtered":[],"v_unknown_products":{"C":[["product_id","varchar(100)",0,null,"",""]]},"v_user_activity_summary":{"C":[["user_id","int(11)",0,null,"",""],["session_id","varchar(64)",0,null,"",""],["session_start","timestamp",1,"current_timestamp()","",""],["session_end","timestamp",1,"current_timestamp()","",""],["session_duration_sec","bigint(21)",1,"NULL","",""],["total_events","bigint(21)",0,"0","",""],["clicks","decimal(23,0)",1,"NULL","",""],["mouse_moves","decimal(23,0)",1,"NULL","",""],["keystrokes","decimal(23,0)",1,"NULL","",""],["idle_events","decimal(23,0)",1,"NULL","",""],["devtools_opens","decimal(23,0)",1,"NULL","",""],["devtools_closes","decimal(23,0)",1,"NULL","",""]]},"v_weight_coverage":{"C":[["weight_status","varchar(19)",0,"''","",""],["products","bigint(21)",0,"0","",""]]},"v_weight_gaps":{"C":[["product_id","varchar(100)",0,null,"",""]]},"v_zero_or_null_prices":{"C":[["carrier","varchar(100)",0,null,"",""],["container_code","varchar(64)",0,null,"",""],["cost","decimal(10,2)",0,"0.01","",""]]},"webhook_delivery_log":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["event_key","varchar(80)",0,null,"","MUL"],["ref_id","varchar(128)",1,"NULL","",""],["target_url","varchar(512)",0,null,"",""],["http_status","int(11)",1,"NULL","","MUL"],["attempt","int(11)",0,"1","",""],["max_attempts","int(11)",0,"5","",""],["duration_ms","int(11)",1,"NULL","",""],["error","varchar(500)",1,"NULL","",""],["created_at","datetime",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_event_ref_time",0,["event_key","ref_id","created_at"]],["idx_status_time",0,["http_status","created_at"]],["PRIMARY",1,["id"]]]},"webhook_events":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["webhook_id","varchar(128)",0,null,"","UNI"],["webhook_type","varchar(64)",0,null,"","MUL"],["payload","longtext",0,null,"",""],["raw_payload","longtext",0,null,"",""],["source_ip","varchar(45)",1,"NULL","","MUL"],["user_agent","text",1,"NULL","",""],["headers","longtext",1,"NULL","",""],["status","enum('received','processing','completed','failed','replayed')",0,"'received'","","MUL"],["received_at","timestamp",0,"current_timestamp()","","MUL"],["processed_at","timestamp",1,"NULL","",""],["processing_attempts","int(10) unsigned",0,"0","",""],["processing_result","longtext",1,"NULL","",""],["error_message","text",1,"NULL","",""],["queue_job_id","varchar(64)",1,"NULL","","MUL"],["replayed_from","varchar(128)",1,"NULL","","MUL"],["replay_reason","varchar(255)",1,"NULL","",""],["replayed_by_user","int(10) unsigned",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_queue_job",0,["queue_job_id"]],["idx_received_at",0,["received_at"]],["idx_replay_chain",0,["replayed_from"]],["idx_source_tracking",0,["source_ip","received_at"]],["idx_status_processing",0,["status","processing_attempts"]],["idx_webhook_events_received",0,["received_at"]],["idx_webhook_type_status",0,["webhook_type","status"]],["PRIMARY",1,["id"]],["uniq_webhook_id",1,["webhook_id"]],["webhook_id",1,["webhook_id"]]]},"webhook_health":{"C":[["id","int(10) unsigned",0,null,"auto_increment","PRI"],["check_time","timestamp",0,"current_timestamp()","",""],["webhook_type","varchar(64)",0,null,"","MUL"],["health_status","enum('healthy','warning','critical','unknown')",0,"'unknown'","","MUL"],["response_time_ms","int(10) unsigned",1,"NULL","",""],["error_rate_pct","decimal(5,2)",1,"NULL","",""],["throughput_per_hour","int(10) unsigned",1,"NULL","",""],["last_successful_at","timestamp",1,"NULL","",""],["consecutive_failures","int(10) unsigned",0,"0","",""],["health_details","longtext",1,"NULL","",""]],"P":["id"],"K":[["idx_health_status",0,["health_status","check_time"]],["idx_type_time",0,["webhook_type","check_time"]],["PRIMARY",1,["id"]]]},"webhook_stats":{"C":[["id","bigint(20) unsigned",0,null,"auto_increment","PRI"],["recorded_at","timestamp",0,"current_timestamp()","","MUL"],["webhook_type","varchar(64)",0,null,"","MUL"],["metric_name","varchar(64)",0,null,"",""],["metric_value","decimal(10,2)",0,null,"",""],["time_period","enum('1min','5min','15min','1hour','1day')",0,"'1min'","",""]],"P":["id"],"K":[["idx_time_lookup",0,["recorded_at","webhook_type","metric_name"]],["idx_webhook_period",0,["webhook_type","time_period","recorded_at"]],["PRIMARY",1,["id"]],["unique_metric_period",1,["recorded_at","webhook_type","metric_name","time_period"]]]},"webhook_subscriptions":{"C":[["id","int(10) unsigned",0,null,"auto_increment","PRI"],["source_system","varchar(32)",0,"'vend'","","MUL"],["event_type","varchar(64)",0,null,"",""],["endpoint_url","varchar(512)",0,null,"",""],["is_active","tinyint(1)",0,"1","","MUL"],["secret_key","varchar(256)",1,"NULL","",""],["external_subscription_id","varchar(128)",1,"NULL","",""],["created_in_external_system","timestamp",1,"NULL","",""],["last_verified","timestamp",1,"NULL","",""],["events_received_today","int(10) unsigned",0,"0","",""],["events_received_total","bigint(20) unsigned",0,"0","",""],["last_event_received","timestamp",1,"NULL","",""],["health_status","enum('healthy','warning','critical','unknown')",0,"'unknown'","","MUL"],["health_message","text",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["id"],"K":[["idx_active_subscriptions",0,["is_active","source_system"]],["idx_health_monitoring",0,["health_status","last_event_received"]],["PRIMARY",1,["id"]],["unique_subscription",1,["source_system","event_type","endpoint_url"]]]},"website_order_views":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["order_id","int(11)",0,null,"","MUL"],["outlet_id","varchar(45)",0,null,"",""],["staff_id","int(11)",0,null,"",""],["timestamp","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]],["WebsiteOrderViewIndex",0,["order_id","outlet_id","staff_id"]]]},"weekly_tasks":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["task_name","varchar(255)",0,null,"",""],["description","mediumtext",0,null,"",""],["points_value","int(11)",0,null,"",""],["difficulty","enum('Easy','Medium','Hard')",1,"'Medium'","",""],["mode","enum('fun','serious','balanced')",1,"'balanced'","",""],["outlet_id","int(11)",1,"NULL","",""],["is_active","tinyint(1)",1,"1","",""],["week_starting","date",0,null,"","MUL"],["created_by","varchar(50)",1,"'GPT_SYSTEM'","",""],["created_at","timestamp",0,"current_timestamp()","",""]],"P":["id"],"K":[["idx_weekly_tasks",0,["week_starting","is_active"]],["PRIMARY",1,["id"]]]},"whatsapp_conversations":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["phone_number","varchar(20)",0,null,"","MUL"],["user_message","text",0,null,"",""],["bot_response","text",0,null,"",""],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_created",0,["created_at"]],["idx_phone",0,["phone_number"]],["PRIMARY",1,["id"]]]},"wholesale_customers":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["first_name","varchar(100)",0,null,"",""],["last_name","varchar(100)",0,null,"",""],["email","varchar(100)",0,null,"",""],["phone_number","varchar(100)",1,"NULL","",""],["password","varchar(100)",1,"NULL","",""],["legal_name","varchar(100)",0,null,"",""],["trading_name","varchar(100)",1,"NULL","",""],["website","varchar(100)",1,"NULL","",""],["mailing_address_one","varchar(100)",0,null,"",""],["mailing_address_two","varchar(100)",1,"NULL","",""],["suburb","varchar(100)",0,null,"",""],["postcode","varchar(100)",0,null,"",""],["city","varchar(100)",0,null,"",""],["gst_number","varchar(100)",1,"NULL","",""],["nzbn","varchar(100)",1,"NULL","",""],["approved","int(11)",1,"0","",""],["show_home_page","varchar(45)",1,"'1'","",""],["created","timestamp",0,"current_timestamp()","",""],["avp","varchar(45)",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]]]},"xero_email_enhancement_log":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["transaction_id","varchar(100)",1,"NULL","","UNI"],["contact_name","varchar(200)",1,"NULL","","MUL"],["enhanced_name","varchar(200)",1,"NULL","",""],["email_count","int(11)",1,"0","",""],["confidence_boost","decimal(5,2)",1,"0.00","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_contact",0,["contact_name"]],["idx_created",0,["created_at"]],["idx_transaction",0,["transaction_id"]],["PRIMARY",1,["id"]],["transaction_id",1,["transaction_id"]]]},"xero_reconcile_rules":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["contactName","varchar(100)",1,"NULL","","MUL"],["reference","varchar(100)",1,"NULL","",""],["description","varchar(100)",1,"NULL","",""],["bankAccountID","varchar(100)",0,null,"",""],["ledgerAccountID","varchar(100)",0,null,"",""],["GSTCode","varchar(45)",1,"NULL","",""],["alternative_name","varchar(100)",1,"NULL","",""]],"P":["id"],"K":[["PRIMARY",1,["id"]],["xero_unique",1,["contactName","reference","description"]]]},"xero_submission_log":{"C":[["id","int(11)",0,null,"auto_increment","PRI"],["request_id","varchar(50)",1,"NULL","","UNI"],["statement_line_id","varchar(100)",1,"NULL","","MUL"],["account_id","varchar(100)",1,"NULL","",""],["status","enum('SENDING','SUCCESS','ERROR','HTTP_ERROR')",1,"'SENDING'","",""],["details","text",1,"NULL","",""],["created_at","timestamp",0,"current_timestamp()","","MUL"]],"P":["id"],"K":[["idx_created_at",0,["created_at"]],["idx_statement_line",0,["statement_line_id"]],["PRIMARY",1,["id"]],["request_id",1,["request_id"]]]},"zzz_backup_freight_rules":{"C":[["container","varchar(50)",0,null,"","UNI"],["container_id","int(11)",0,null,"","PRI"],["max_weight_grams","int(11)",1,"NULL","","MUL"],["max_units","int(11)",1,"NULL","",""],["cost","decimal(10,2)",0,"0.01","","MUL"],["created_at","timestamp",0,"current_timestamp()","",""],["updated_at","timestamp",0,"current_timestamp()","on update current_timestamp()",""]],"P":["container_id"],"K":[["idx_fr_container_id",0,["container_id"]],["ix_fr_cap_cost",0,["max_weight_grams","cost"]],["ix_fr_cost",0,["cost"]],["PRIMARY",1,["container_id"]],["uq_fr_container",1,["container"]]]}}}